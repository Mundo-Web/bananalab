const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DE3dzT5W.js","assets/_commonjsHelpers-D6-XlEtG.js","assets/index-fNjTmf9T.js","assets/index-yBjzXJbu.js"])))=>i.map(i=>d[i]);
import{_ as Do}from"./preload-helper-BfFHrpNk.js";import{j as l}from"./AboutSimple-Cf8x2fCZ.js";import{r as y,R as de}from"./index-BOnQTV8N.js";import{a as Vn,b as Co,_ as sr,c as W}from"./objectWithoutPropertiesLoose-M9c4DQuK.js";import{h as Yn}from"./hoist-non-react-statics.cjs-QI39Ivs0.js";import{r as So,R as Io}from"./index-DE3dzT5W.js";import{c as J}from"./createLucideIcon-DfjclApS.js";import{h as Xn,B as No}from"./V1Edit-BvdhEY9s.js";import{E as Eo}from"./Editor-DJBmZ2KS.js";import{T as Po,t as Or}from"./index-B-Ed_dFw.js";import{m as Bt}from"./main-Bp3JhiuO.js";import{e as Oo}from"./index-CKDfw_gz.js";import{T as lr}from"./trash-2-DU7LB6-f.js";import{U as To}from"./upload-GO9GDST_.js";import{S as jo}from"./sparkles-DvmvZ6mJ.js";import{P as Va}from"./palette-BTxIxfA-.js";import{C as Tr}from"./chevron-up-Mt3xll-e.js";import{C as nr}from"./chevron-down-uIVDLcM-.js";import{X as Ro}from"./x-fof_H3Vv.js";import{M as _n}from"./minus-Db6MFKEO.js";import{P as Jn}from"./plus-CTIomuuF.js";import{G as ht}from"./Global-BM4Id4Pw.js";import{B as Kt}from"./book-C1IPlXSj.js";import{C as Mo}from"./chevron-left-JcR9Fe4w.js";import{C as ko}from"./circle-check-big-CYWUGR3Z.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./defineProperty-DRmM3rRU.js";import"./typeof-QjJsDpFa.js";import"./index-fNjTmf9T.js";import"./index-BtQtP3Fl.js";import"./index-Chjiymov.js";import"./index.es-TZnJvzHg.js";import"./chevron-right-Cug7tVUE.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=J("AlignCenter",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"17",x2:"7",y1:"12",y2:"12",key:"rsh8ii"}],["line",{x1:"19",x2:"5",y1:"18",y2:"18",key:"1t0tuv"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=J("AlignJustify",[["line",{x1:"3",x2:"21",y1:"6",y2:"6",key:"4m8b97"}],["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["line",{x1:"3",x2:"21",y1:"18",y2:"18",key:"kwyyxn"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=J("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=J("AlignRight",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}],["line",{x1:"21",x2:"7",y1:"18",y2:"18",key:"1g9eri"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=J("Bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=J("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=J("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=J("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=J("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=J("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=J("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=J("Heading1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=J("Heading2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vo=J("Heading3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=J("Heading4",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17 10v4h4",key:"13sv97"}],["path",{d:"M21 10v8",key:"1kdml4"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=J("Highlighter",[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=J("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=J("IndentDecrease",[["polyline",{points:"7 8 3 12 7 16",key:"2j60jr"}],["line",{x1:"21",x2:"11",y1:"12",y2:"12",key:"1fxxak"}],["line",{x1:"21",x2:"11",y1:"6",y2:"6",key:"asgu94"}],["line",{x1:"21",x2:"11",y1:"18",y2:"18",key:"13dsj7"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=J("IndentIncrease",[["polyline",{points:"3 8 7 12 3 16",key:"f3rxhf"}],["line",{x1:"21",x2:"11",y1:"12",y2:"12",key:"1fxxak"}],["line",{x1:"21",x2:"11",y1:"6",y2:"6",key:"asgu94"}],["line",{x1:"21",x2:"11",y1:"18",y2:"18",key:"13dsj7"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=J("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=J("ListOrdered",[["line",{x1:"10",x2:"21",y1:"6",y2:"6",key:"76qw6h"}],["line",{x1:"10",x2:"21",y1:"12",y2:"12",key:"16nom4"}],["line",{x1:"10",x2:"21",y1:"18",y2:"18",key:"u3jurt"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=J("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=J("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=J("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=J("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=J("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=J("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=J("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=J("Redo2",[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=J("Replace",[["path",{d:"M14 4a2 2 0 0 1 2-2",key:"1w2hp7"}],["path",{d:"M16 10a2 2 0 0 1-2-2",key:"shjach"}],["path",{d:"M20 2a2 2 0 0 1 2 2",key:"188mtx"}],["path",{d:"M22 8a2 2 0 0 1-2 2",key:"ddf4tu"}],["path",{d:"m3 7 3 3 3-3",key:"x25e72"}],["path",{d:"M6 10V5a3 3 0 0 1 3-3h1",key:"3y3t5z"}],["rect",{x:"2",y:"14",width:"8",height:"8",rx:"2",key:"4rksxw"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=J("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=J("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=J("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=J("SlidersVertical",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=J("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=J("Strikethrough",[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=J("Subscript",[["path",{d:"m4 5 8 8",key:"1eunvl"}],["path",{d:"m12 5-8 8",key:"1ah0jp"}],["path",{d:"M20 19h-4c0-1.5.44-2 1.5-2.5S20 15.33 20 14c0-.47-.17-.93-.48-1.29a2.11 2.11 0 0 0-2.62-.44c-.42.24-.74.62-.9 1.07",key:"e8ta8j"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=J("Superscript",[["path",{d:"m4 19 8-8",key:"hr47gm"}],["path",{d:"m12 19-8-8",key:"1dhhmo"}],["path",{d:"M20 12h-4c0-1.5.442-2 1.5-2.5S20 8.334 20 7.002c0-.472-.17-.93-.484-1.29a2.105 2.105 0 0 0-2.617-.436c-.42.239-.738.614-.899 1.06",key:"1dfcux"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=J("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=J("Underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=J("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);function Ke({children:e,onClick:t,className:r="",variant:n="default",size:a="default",disabled:i=!1,icon:s=null}){const o="inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",c={default:"bg-purple-600 text-white hover:bg-primary",outline:"border border-input hover:bg-primary hover:text-white",ghost:"hover:bg-primary hover:text-white",secondary:"bg-gray-100 text-gray-800 hover:bg-gray-200"},u={default:"h-10 py-2 px-4",sm:"py-1 px-3 rounded-md text-sm",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10","icon-sm":"h-8 w-8"};return l.jsxs("button",{className:`${o} ${c[n]} ${u[a]} ${r} gap-2`,onClick:t,disabled:i,children:[s&&l.jsx("span",{className:"w-4 h-4",children:s}),e]})}const Qe=({value:e=[50],min:t=0,max:r=100,step:n=1,onValueChange:a,label:i,unit:s="%"})=>{const[o,c]=y.useState(e[0]),u=f=>{const p=Number.parseInt(f.target.value);c(p),a&&a([p])};return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:i}),l.jsxs("span",{className:"text-sm text-gray-500",children:[o,s]})]}),l.jsx("div",{className:"relative flex w-full touch-none select-none items-center",children:l.jsx("input",{type:"range",min:t,max:r,step:n,value:o,onChange:u,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-purple-600"})})]})},ms=[{name:"Original",filters:{brightness:100,contrast:100,saturation:100,tint:0,hue:0,blur:0}},{name:"Vintage",filters:{brightness:95,contrast:105,saturation:90,tint:30,hue:10,blur:.5}},{name:"Monocromo",filters:{brightness:105,contrast:115,saturation:0,tint:0,hue:0,blur:0}},{name:"High Contrast",filters:{brightness:110,contrast:130,saturation:110,tint:0,hue:0,blur:0}},{name:"Matte",filters:{brightness:90,contrast:90,saturation:80,tint:15,hue:10,blur:0}},{name:"Cálido",filters:{brightness:100,contrast:105,saturation:115,tint:20,hue:30,blur:0}},{name:"Frío",filters:{brightness:100,contrast:105,saturation:110,tint:0,hue:190,blur:0}},{name:"Retrato Suave",filters:{brightness:105,contrast:95,saturation:105,tint:10,hue:15,blur:.3}},{name:"Cine",filters:{brightness:90,contrast:120,saturation:90,tint:20,hue:-10,blur:0}},{name:"Noche",filters:{brightness:80,contrast:110,saturation:80,tint:10,hue:220,blur:.4}}],bs=({onSelectPreset:e,selectedImage:t})=>{const r=n=>({filter:`
            brightness(${n.brightness}%)
            contrast(${n.contrast}%)
            saturate(${n.saturation}%)
            sepia(${n.tint}%)
            hue-rotate(${n.hue}deg)
            blur(${n.blur}px)
        `});return l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Filtros predefinidos"}),l.jsx("div",{className:"grid grid-cols-2 gap-4",children:ms.map(n=>l.jsxs("div",{className:"relative group cursor-pointer rounded-xl overflow-hidden border border-gray-100 bg-white hover:shadow-md transition duration-300",onClick:()=>e(n.filters),children:[l.jsx("div",{className:"aspect-square bg-gray-100 overflow-hidden",children:t?l.jsx("img",{src:t.content,alt:`Previsualización de ${n.name}`,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",style:r(n.filters)}):l.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:l.jsx("span",{className:"text-sm text-center px-2",children:"Selecciona una imagen"})})}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent px-3 py-2",children:l.jsx("p",{className:"text-white text-sm font-medium",children:n.name})}),l.jsx("div",{className:"absolute inset-0 bg-black/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:l.jsx("div",{className:"bg-white rounded-full p-2 shadow-md",children:l.jsx(jo,{className:"w-5 h-5 customtext-primary"})})})]},n.name))})]})},xs=({filters:e={},onFilterChange:t,selectedElement:r})=>{const n=(a,i)=>{const s={...e,[a]:i};t(s)};return l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"font-medium",children:"Ajustes avanzados"}),l.jsx("div",{className:"space-y-3",children:l.jsx(Qe,{label:"Opacidad",value:e.opacity||100,onChange:a=>n("opacity",a),min:0,max:100,step:1,unit:"%"})}),(r==null?void 0:r.type)==="image"&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Modo de mezcla"}),l.jsxs("select",{value:e.blendMode||"normal",onChange:a=>n("blendMode",a.target.value),className:"w-full p-2 border border-gray-300 rounded-md text-sm",children:[l.jsx("option",{value:"normal",children:"Normal"}),l.jsx("option",{value:"multiply",children:"Multiplicar"}),l.jsx("option",{value:"screen",children:"Pantalla"}),l.jsx("option",{value:"overlay",children:"Superposición"}),l.jsx("option",{value:"soft-light",children:"Luz suave"}),l.jsx("option",{value:"hard-light",children:"Luz fuerte"}),l.jsx("option",{value:"color-dodge",children:"Sobreexponer color"}),l.jsx("option",{value:"color-burn",children:"Subexponer color"}),l.jsx("option",{value:"darken",children:"Oscurecer"}),l.jsx("option",{value:"lighten",children:"Aclarar"}),l.jsx("option",{value:"difference",children:"Diferencia"}),l.jsx("option",{value:"exclusion",children:"Exclusión"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700",children:"Transformaciones adicionales"}),l.jsx(Qe,{label:"Profundidad (Z-Index)",value:e.zIndex||1,onChange:a=>n("zIndex",a),min:1,max:100,step:1}),l.jsx(Qe,{label:"Desenfoque gaussiano",value:e.gaussianBlur||0,onChange:a=>n("gaussianBlur",a),min:0,max:50,step:.5,unit:"px"})]})]})},_a=y.createContext({dragDropManager:void 0});function We(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Kn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Qn=function(){return Math.random().toString(36).substring(7).split("").join(".")},Zn={INIT:"@@redux/INIT"+Qn(),REPLACE:"@@redux/REPLACE"+Qn()};function ys(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function sn(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(We(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(We(1));return r(sn)(e,t)}if(typeof e!="function")throw new Error(We(2));var a=e,i=t,s=[],o=s,c=!1;function u(){o===s&&(o=s.slice())}function f(){if(c)throw new Error(We(3));return i}function p(h){if(typeof h!="function")throw new Error(We(4));if(c)throw new Error(We(5));var b=!0;return u(),o.push(h),function(){if(b){if(c)throw new Error(We(6));b=!1,u();var D=o.indexOf(h);o.splice(D,1),s=null}}}function d(h){if(!ys(h))throw new Error(We(7));if(typeof h.type>"u")throw new Error(We(8));if(c)throw new Error(We(9));try{c=!0,i=a(i,h)}finally{c=!1}for(var b=s=o,m=0;m<b.length;m++){var D=b[m];D()}return h}function g(h){if(typeof h!="function")throw new Error(We(10));a=h,d({type:Zn.REPLACE})}function v(){var h,b=p;return h={subscribe:function(D){if(typeof D!="object"||D===null)throw new Error(We(11));function S(){D.next&&D.next(f())}S();var N=b(S);return{unsubscribe:N}}},h[Kn]=function(){return this},h}return d({type:Zn.INIT}),n={dispatch:d,subscribe:p,getState:f,replaceReducer:g},n[Kn]=v,n}function ea(e,t){return function(){return t(e.apply(this,arguments))}}function ta(e,t){if(typeof e=="function")return ea(e,t);if(typeof e!="object"||e===null)throw new Error(We(16));var r={};for(var n in e){var a=e[n];typeof a=="function"&&(r[n]=ea(a,t))}return r}function Ja(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.length===0?function(n){return n}:t.length===1?t[0]:t.reduce(function(n,a){return function(){return n(a.apply(void 0,arguments))}})}function ws(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return function(){var a=n.apply(void 0,arguments),i=function(){throw new Error(We(15))},s={getState:a.getState,dispatch:function(){return i.apply(void 0,arguments)}},o=t.map(function(c){return c(s)});return i=Ja.apply(void 0,o)(a.dispatch),Vn(Vn({},a),{},{dispatch:i})}}}function _(e,t,...r){if(Ds()&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){let n;if(t===void 0)n=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let a=0;n=new Error(t.replace(/%s/g,function(){return r[a++]})),n.name="Invariant Violation"}throw n.framesToPop=1,n}}function Ds(){return typeof process<"u"&&!0}function Cs(e,t,r){return t.split(".").reduce((n,a)=>n&&n[a]?n[a]:r||null,e)}function Ss(e,t){return e.filter(r=>r!==t)}function Ka(e){return typeof e=="object"}function Is(e,t){const r=new Map,n=i=>{r.set(i,r.has(i)?r.get(i)+1:1)};e.forEach(n),t.forEach(n);const a=[];return r.forEach((i,s)=>{i===1&&a.push(s)}),a}function Ns(e,t){return e.filter(r=>t.indexOf(r)>-1)}const ln="dnd-core/INIT_COORDS",mr="dnd-core/BEGIN_DRAG",cn="dnd-core/PUBLISH_DRAG_SOURCE",br="dnd-core/HOVER",xr="dnd-core/DROP",yr="dnd-core/END_DRAG";function ra(e,t){return{type:ln,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const Es={type:ln,payload:{clientOffset:null,sourceClientOffset:null}};function Ps(e){return function(r=[],n={publishSource:!0}){const{publishSource:a=!0,clientOffset:i,getSourceClientOffset:s}=n,o=e.getMonitor(),c=e.getRegistry();e.dispatch(ra(i)),Os(r,o,c);const u=Rs(r,o);if(u==null){e.dispatch(Es);return}let f=null;if(i){if(!s)throw new Error("getSourceClientOffset must be defined");Ts(s),f=s(u)}e.dispatch(ra(i,f));const d=c.getSource(u).beginDrag(o,u);if(d==null)return;js(d),c.pinSource(u);const g=c.getSourceType(u);return{type:mr,payload:{itemType:g,item:d,sourceId:u,clientOffset:i||null,sourceClientOffset:f||null,isSourcePublic:!!a}}}}function Os(e,t,r){_(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(n){_(r.getSource(n),"Expected sourceIds to be registered.")})}function Ts(e){_(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function js(e){_(Ka(e),"Item must be an object.")}function Rs(e,t){let r=null;for(let n=e.length-1;n>=0;n--)if(t.canDragSource(e[n])){r=e[n];break}return r}function Ms(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ks(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){Ms(e,a,r[a])})}return e}function As(e){return function(r={}){const n=e.getMonitor(),a=e.getRegistry();Bs(n),$s(n).forEach((s,o)=>{const c=Ls(s,o,a,n),u={type:xr,payload:{dropResult:ks({},r,c)}};e.dispatch(u)})}}function Bs(e){_(e.isDragging(),"Cannot call drop while not dragging."),_(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function Ls(e,t,r,n){const a=r.getTarget(e);let i=a?a.drop(n,e):void 0;return Fs(i),typeof i>"u"&&(i=t===0?{}:n.getDropResult()),i}function Fs(e){_(typeof e>"u"||Ka(e),"Drop result must either be an object or undefined.")}function $s(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function zs(e){return function(){const r=e.getMonitor(),n=e.getRegistry();Hs(r);const a=r.getSourceId();return a!=null&&(n.getSource(a,!0).endDrag(r,a),n.unpinSource()),{type:yr}}}function Hs(e){_(e.isDragging(),"Cannot call endDrag while not dragging.")}function Xr(e,t){return t===null?e===null:Array.isArray(e)?e.some(r=>r===t):e===t}function Gs(e){return function(r,{clientOffset:n}={}){Ws(r);const a=r.slice(0),i=e.getMonitor(),s=e.getRegistry(),o=i.getItemType();return Us(a,s,o),qs(a,i,s),Vs(a,i,s),{type:br,payload:{targetIds:a,clientOffset:n||null}}}}function Ws(e){_(Array.isArray(e),"Expected targetIds to be an array.")}function qs(e,t,r){_(t.isDragging(),"Cannot call hover while not dragging."),_(!t.didDrop(),"Cannot call hover after drop.");for(let n=0;n<e.length;n++){const a=e[n];_(e.lastIndexOf(a)===n,"Expected targetIds to be unique in the passed array.");const i=r.getTarget(a);_(i,"Expected targetIds to be registered.")}}function Us(e,t,r){for(let n=e.length-1;n>=0;n--){const a=e[n],i=t.getTargetType(a);Xr(i,r)||e.splice(n,1)}}function Vs(e,t,r){e.forEach(function(n){r.getTarget(n).hover(t,n)})}function Ys(e){return function(){if(e.getMonitor().isDragging())return{type:cn}}}function Xs(e){return{beginDrag:Ps(e),publishDragSource:Ys(e),hover:Gs(e),drop:As(e),endDrag:zs(e)}}class _s{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:r}=this.store;function n(i){return(...s)=>{const o=i.apply(t,s);typeof o<"u"&&r(o)}}const a=Xs(this);return Object.keys(a).reduce((i,s)=>{const o=a[s];return i[s]=n(o),i},{})}dispatch(t){this.store.dispatch(t)}constructor(t,r){this.isSetUp=!1,this.handleRefCountChange=()=>{const n=this.store.getState().refCount>0;this.backend&&(n&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!n&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=r,t.subscribe(this.handleRefCountChange)}}function Js(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Qa(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ks(e){const{clientOffset:t,initialClientOffset:r,initialSourceClientOffset:n}=e;return!t||!r||!n?null:Qa(Js(t,n),r)}function Qs(e){const{clientOffset:t,initialClientOffset:r}=e;return!t||!r?null:Qa(t,r)}const zt=[],dn=[];zt.__IS_NONE__=!0;dn.__IS_ALL__=!0;function Zs(e,t){return e===zt?!1:e===dn||typeof t>"u"?!0:Ns(t,e).length>0}class el{subscribeToStateChange(t,r={}){const{handlerIds:n}=r;_(typeof t=="function","listener must be a function."),_(typeof n>"u"||Array.isArray(n),"handlerIds, when specified, must be an array of strings.");let a=this.store.getState().stateId;const i=()=>{const s=this.store.getState(),o=s.stateId;try{o===a||o===a+1&&!Zs(s.dirtyHandlerIds,n)||t()}finally{a=o}};return this.store.subscribe(i)}subscribeToOffsetChange(t){_(typeof t=="function","listener must be a function.");let r=this.store.getState().dragOffset;const n=()=>{const a=this.store.getState().dragOffset;a!==r&&(r=a,t())};return this.store.subscribe(n)}canDragSource(t){if(!t)return!1;const r=this.registry.getSource(t);return _(r,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:r.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const r=this.registry.getTarget(t);if(_(r,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;const n=this.registry.getTargetType(t),a=this.getItemType();return Xr(n,a)&&r.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const r=this.registry.getSource(t,!0);if(_(r,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;const n=this.registry.getSourceType(t),a=this.getItemType();return n!==a?!1:r.isDragging(this,t)}isOverTarget(t,r={shallow:!1}){if(!t)return!1;const{shallow:n}=r;if(!this.isDragging())return!1;const a=this.registry.getTargetType(t),i=this.getItemType();if(i&&!Xr(a,i))return!1;const s=this.getTargetIds();if(!s.length)return!1;const o=s.indexOf(t);return n?o===s.length-1:o>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return Ks(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return Qs(this.store.getState().dragOffset)}constructor(t,r){this.store=t,this.registry=r}}const na=typeof global<"u"?global:self,Za=na.MutationObserver||na.WebKitMutationObserver;function ei(e){return function(){const r=setTimeout(a,0),n=setInterval(a,50);function a(){clearTimeout(r),clearInterval(n),e()}}}function tl(e){let t=1;const r=new Za(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}const rl=typeof Za=="function"?tl:ei;class nl{enqueueTask(t){const{queue:r,requestFlush:n}=this;r.length||(n(),this.flushing=!0),r[r.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const r=this.index;if(this.index++,t[r].call(),this.index>this.capacity){for(let n=0,a=t.length-this.index;n<a;n++)t[n]=t[n+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=rl(this.flush),this.requestErrorThrow=ei(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class al{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,r){this.onError=t,this.release=r,this.task=null}}class il{create(t){const r=this.freeTasks,n=r.length?r.pop():new al(this.onError,a=>r[r.length]=a);return n.task=t,n}constructor(t){this.onError=t,this.freeTasks=[]}}const ti=new nl,ol=new il(ti.registerPendingError);function sl(e){ti.enqueueTask(ol.create(e))}const un="dnd-core/ADD_SOURCE",pn="dnd-core/ADD_TARGET",fn="dnd-core/REMOVE_SOURCE",wr="dnd-core/REMOVE_TARGET";function ll(e){return{type:un,payload:{sourceId:e}}}function cl(e){return{type:pn,payload:{targetId:e}}}function dl(e){return{type:fn,payload:{sourceId:e}}}function ul(e){return{type:wr,payload:{targetId:e}}}function pl(e){_(typeof e.canDrag=="function","Expected canDrag to be a function."),_(typeof e.beginDrag=="function","Expected beginDrag to be a function."),_(typeof e.endDrag=="function","Expected endDrag to be a function.")}function fl(e){_(typeof e.canDrop=="function","Expected canDrop to be a function."),_(typeof e.hover=="function","Expected hover to be a function."),_(typeof e.drop=="function","Expected beginDrag to be a function.")}function _r(e,t){if(t&&Array.isArray(e)){e.forEach(r=>_r(r,!1));return}_(typeof e=="string"||typeof e=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Ze;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(Ze||(Ze={}));let gl=0;function hl(){return gl++}function vl(e){const t=hl().toString();switch(e){case Ze.SOURCE:return`S${t}`;case Ze.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function aa(e){switch(e[0]){case"S":return Ze.SOURCE;case"T":return Ze.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function ia(e,t){const r=e.entries();let n=!1;do{const{done:a,value:[,i]}=r.next();if(i===t)return!0;n=!!a}while(!n);return!1}class ml{addSource(t,r){_r(t),pl(r);const n=this.addHandler(Ze.SOURCE,t,r);return this.store.dispatch(ll(n)),n}addTarget(t,r){_r(t,!0),fl(r);const n=this.addHandler(Ze.TARGET,t,r);return this.store.dispatch(cl(n)),n}containsHandler(t){return ia(this.dragSources,t)||ia(this.dropTargets,t)}getSource(t,r=!1){return _(this.isSourceId(t),"Expected a valid source ID."),r&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return _(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return _(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return _(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return aa(t)===Ze.SOURCE}isTargetId(t){return aa(t)===Ze.TARGET}removeSource(t){_(this.getSource(t),"Expected an existing source."),this.store.dispatch(dl(t)),sl(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){_(this.getTarget(t),"Expected an existing target."),this.store.dispatch(ul(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const r=this.getSource(t);_(r,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=r}unpinSource(){_(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,r,n){const a=vl(t);return this.types.set(a,r),t===Ze.SOURCE?this.dragSources.set(a,n):t===Ze.TARGET&&this.dropTargets.set(a,n),a}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const bl=(e,t)=>e===t;function xl(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function yl(e,t,r=bl){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!r(e[n],t[n]))return!1;return!0}function wl(e=zt,t){switch(t.type){case br:break;case un:case pn:case wr:case fn:return zt;case mr:case cn:case yr:case xr:default:return dn}const{targetIds:r=[],prevTargetIds:n=[]}=t.payload,a=Is(r,n);if(!(a.length>0||!yl(r,n)))return zt;const s=n[n.length-1],o=r[r.length-1];return s!==o&&(s&&a.push(s),o&&a.push(o)),a}function Dl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){Dl(e,a,r[a])})}return e}const oa={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Sl(e=oa,t){const{payload:r}=t;switch(t.type){case ln:case mr:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case br:return xl(e.clientOffset,r.clientOffset)?e:Cl({},e,{clientOffset:r.clientOffset});case yr:case xr:return oa;default:return e}}function Il(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){Il(e,a,r[a])})}return e}const Nl={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function El(e=Nl,t){const{payload:r}=t;switch(t.type){case mr:return vt({},e,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case cn:return vt({},e,{isSourcePublic:!0});case br:return vt({},e,{targetIds:r.targetIds});case wr:return e.targetIds.indexOf(r.targetId)===-1?e:vt({},e,{targetIds:Ss(e.targetIds,r.targetId)});case xr:return vt({},e,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case yr:return vt({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function Pl(e=0,t){switch(t.type){case un:case pn:return e+1;case fn:case wr:return e-1;default:return e}}function Ol(e=0){return e+1}function Tl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){Tl(e,a,r[a])})}return e}function Rl(e={},t){return{dirtyHandlerIds:wl(e.dirtyHandlerIds,{type:t.type,payload:jl({},t.payload,{prevTargetIds:Cs(e,"dragOperation.targetIds",[])})}),dragOffset:Sl(e.dragOffset,t),refCount:Pl(e.refCount,t),dragOperation:El(e.dragOperation,t),stateId:Ol(e.stateId)}}function Ml(e,t=void 0,r={},n=!1){const a=kl(n),i=new el(a,new ml(a)),s=new _s(a,i),o=e(s,t,r);return s.receiveBackend(o),s}function kl(e){const t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return sn(Rl,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function Al(e,t){if(e==null)return{};var r=Bl(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Bl(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}let sa=0;const ir=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Ll=y.memo(function(t){var{children:r}=t,n=Al(t,["children"]);const[a,i]=Fl(n);return y.useEffect(()=>{if(i){const s=ri();return++sa,()=>{--sa===0&&(s[ir]=null)}}},[]),l.jsx(_a.Provider,{value:a,children:r})});function Fl(e){if("manager"in e)return[{dragDropManager:e.manager},!1];const t=$l(e.backend,e.context,e.options,e.debugMode),r=!e.context;return[t,r]}function $l(e,t=ri(),r,n){const a=t;return a[ir]||(a[ir]={dragDropManager:Ml(e,t,r,n)}),a[ir]}function ri(){return typeof global<"u"?global:window}const ft=typeof window<"u"?y.useLayoutEffect:y.useEffect;function zl(e,t,r){const[n,a]=y.useState(()=>t(e)),i=y.useCallback(()=>{const s=t(e);Oo(n,s)||(a(s),r&&r())},[n,e,r]);return ft(i),[n,i]}function Hl(e,t,r){const[n,a]=zl(e,t,r);return ft(function(){const s=e.getHandlerId();if(s!=null)return e.subscribeToStateChange(a,{handlerIds:[s]})},[e,a]),n}function ni(e,t,r){return Hl(t,e||(()=>({})),()=>r.reconnect())}function ai(e,t){const r=[];return typeof e!="function"&&r.push(e),y.useMemo(()=>typeof e=="function"?e():e,r)}function Gl(e){return y.useMemo(()=>e.hooks.dragSource(),[e])}function Wl(e){return y.useMemo(()=>e.hooks.dragPreview(),[e])}let jr=!1,Rr=!1;class ql{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){_(!jr,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return jr=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{jr=!1}}isDragging(){if(!this.sourceId)return!1;_(!Rr,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Rr=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Rr=!1}}subscribeToStateChange(t,r){return this.internalMonitor.subscribeToStateChange(t,r)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,r){return this.internalMonitor.isOverTarget(t,r)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}let Mr=!1;class Ul{receiveHandlerId(t){this.targetId=t}getHandlerId(){return this.targetId}subscribeToStateChange(t,r){return this.internalMonitor.subscribeToStateChange(t,r)}canDrop(){if(!this.targetId)return!1;_(!Mr,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Mr=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Mr=!1}}isOver(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.targetId=null,this.internalMonitor=t.getMonitor()}}function Vl(e,t,r){const n=r.getRegistry(),a=n.addTarget(e,t);return[a,()=>n.removeTarget(a)]}function Yl(e,t,r){const n=r.getRegistry(),a=n.addSource(e,t);return[a,()=>n.removeSource(a)]}function Jr(e,t,r,n){let a;if(a!==void 0)return!!a;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;const i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;const o=Object.prototype.hasOwnProperty.bind(t);for(let c=0;c<i.length;c++){const u=i[c];if(!o(u))return!1;const f=e[u],p=t[u];if(a=void 0,a===!1||a===void 0&&f!==p)return!1}return!0}function Kr(e){return e!==null&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Xl(e){if(typeof e.type=="string")return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}function _l(e){return(t=null,r=null)=>{if(!y.isValidElement(t)){const i=t;return e(i,r),i}const n=t;return Xl(n),Jl(n,r?i=>e(i,r):e)}}function ii(e){const t={};return Object.keys(e).forEach(r=>{const n=e[r];if(r.endsWith("Ref"))t[r]=e[r];else{const a=_l(n);t[r]=()=>a}}),t}function la(e,t){typeof e=="function"?e(t):e.current=t}function Jl(e,t){const r=e.ref;return _(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?y.cloneElement(e,{ref:n=>{la(r,n),la(t,n)}}):y.cloneElement(e,{ref:t})}class Kl{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return r&&this.disconnectDragSource(),this.handlerId?t?(r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),r):(this.lastConnectedDragSource=t,r):r}reconnectDragPreview(t=!1){const r=this.dragPreview,n=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Jr(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Jr(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=ii({dragSource:(r,n)=>{this.clearDragSource(),this.dragSourceOptions=n||null,Kr(r)?this.dragSourceRef=r:this.dragSourceNode=r,this.reconnectDragSource()},dragPreview:(r,n)=>{this.clearDragPreview(),this.dragPreviewOptions=n||null,Kr(r)?this.dragPreviewRef=r:this.dragPreviewNode=r,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}class Ql{get connectTarget(){return this.dropTarget}reconnect(){const t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();const r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}receiveHandlerId(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(t){this.dropTargetOptionsInternal=t}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!Jr(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(t){this.hooks=ii({dropTarget:(r,n)=>{this.clearDropTarget(),this.dropTargetOptions=n,Kr(r)?this.dropTargetRef=r:this.dropTargetNode=r,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}}function Ct(){const{dragDropManager:e}=y.useContext(_a);return _(e!=null,"Expected drag drop context"),e}function Zl(e,t){const r=Ct(),n=y.useMemo(()=>new Kl(r.getBackend()),[r]);return ft(()=>(n.dragSourceOptions=e||null,n.reconnect(),()=>n.disconnectDragSource()),[n,e]),ft(()=>(n.dragPreviewOptions=t||null,n.reconnect(),()=>n.disconnectDragPreview()),[n,t]),n}function ec(){const e=Ct();return y.useMemo(()=>new ql(e),[e])}class tc{beginDrag(){const t=this.spec,r=this.monitor;let n=null;return typeof t.item=="object"?n=t.item:typeof t.item=="function"?n=t.item(r):n={},n??null}canDrag(){const t=this.spec,r=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(r):!0}isDragging(t,r){const n=this.spec,a=this.monitor,{isDragging:i}=n;return i?i(a):r===t.getSourceId()}endDrag(){const t=this.spec,r=this.monitor,n=this.connector,{end:a}=t;a&&a(r.getItem(),r),n.reconnect()}constructor(t,r,n){this.spec=t,this.monitor=r,this.connector=n}}function rc(e,t,r){const n=y.useMemo(()=>new tc(e,t,r),[t,r]);return y.useEffect(()=>{n.spec=e},[e]),n}function nc(e){return y.useMemo(()=>{const t=e.type;return _(t!=null,"spec.type must be defined"),t},[e])}function ac(e,t,r){const n=Ct(),a=rc(e,t,r),i=nc(e);ft(function(){if(i!=null){const[o,c]=Yl(i,a,n);return t.receiveHandlerId(o),r.receiveHandlerId(o),c}},[n,t,r,a,i])}function oi(e,t){const r=ai(e);_(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const n=ec(),a=Zl(r.options,r.previewOptions);return ac(r,n,a),[ni(r.collect,n,a),Gl(a),Wl(a)]}function ic(e){return y.useMemo(()=>e.hooks.dropTarget(),[e])}function oc(e){const t=Ct(),r=y.useMemo(()=>new Ql(t.getBackend()),[t]);return ft(()=>(r.dropTargetOptions=e||null,r.reconnect(),()=>r.disconnectDropTarget()),[e]),r}function sc(){const e=Ct();return y.useMemo(()=>new Ul(e),[e])}function lc(e){const{accept:t}=e;return y.useMemo(()=>(_(e.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]),[t])}class cc{canDrop(){const t=this.spec,r=this.monitor;return t.canDrop?t.canDrop(r.getItem(),r):!0}hover(){const t=this.spec,r=this.monitor;t.hover&&t.hover(r.getItem(),r)}drop(){const t=this.spec,r=this.monitor;if(t.drop)return t.drop(r.getItem(),r)}constructor(t,r){this.spec=t,this.monitor=r}}function dc(e,t){const r=y.useMemo(()=>new cc(e,t),[t]);return y.useEffect(()=>{r.spec=e},[e]),r}function uc(e,t,r){const n=Ct(),a=dc(e,t),i=lc(e);ft(function(){const[o,c]=Vl(i,a,n);return t.receiveHandlerId(o),r.receiveHandlerId(o),c},[n,t,a,r,i.map(s=>s.toString()).join("|")])}function pc(e,t){const r=ai(e),n=sc(),a=oc(r.options);return uc(r,n,a),[ni(r.collect,n,a),ic(a)]}const xt=[{id:"none",name:"Sin máscara",class:"",category:"Básicas"},{id:"circle",name:"Círculo",class:"mask-circle",category:"Básicas"},{id:"rounded",name:"Redondeado",class:"mask-rounded",category:"Básicas"},{id:"star",name:"Estrella",class:"mask-star-2",category:"Formas"},{id:"hexagon",name:"Hexágono",class:"mask-hexagon",category:"Formas"},{id:"triangle",name:"Triángulo",class:"mask-triangle",category:"Formas"},{id:"diamond",name:"Diamante",class:"mask-diamond",category:"Formas"},{id:"polaroid",name:"Polaroid",class:"mask-polaroid",category:"Fotográficos"},{id:"vintage",name:"Vintage",class:"mask-vintage",category:"Fotográficos"},{id:"diagonal",name:"Diagonal",class:"mask-diagonal",category:"Fotográficos"},{id:"frame",name:"Marco",class:"mask-frame",category:"Fotográficos"},{id:"blob1",name:"Mancha 1",class:"mask-blob1",category:"Creativas"},{id:"blob2",name:"Mancha 2",class:"mask-blob2",category:"Creativas"},{id:"blob3",name:"Mancha 3",class:"mask-blob3",category:"Creativas"},{id:"rounded-sm",name:"Redondeado pequeño",class:"mask-rounded-sm",category:"Básicas"},{id:"rounded-lg",name:"Redondeado grande",class:"mask-rounded-lg",category:"Básicas"},{id:"speech",name:"Globo de texto",class:"mask-speech",category:"Formas"},{id:"burst",name:"Estallido",class:"mask-burst",category:"Formas"},{id:"rounded-rect",name:"Rectángulo redondeado",class:"mask-rounded-rect",category:"Básicas"}];function fc({element:e,isSelected:t,onSelect:r,onUpdate:n,onDelete:a,availableMasks:i=[],workspaceSize:s={width:800,height:600}}){var Le,xe,Ae,De,Fe,He,Te,Ge,$e,A,X,pe,he,be,je,ye;const[{isDragging:o},c]=oi(()=>({type:"IMAGE_ELEMENT",item:{id:e.id},collect:I=>({isDragging:!!I.isDragging()})})),u=y.useRef(null),[f,p]=y.useState(!1),[d,g]=y.useState(null),[v,h]=y.useState(null),[b,m]=y.useState({mouseX:0,mouseY:0,elementX:0,elementY:0,elementWidth:0,elementHeight:0}),[D,S]=y.useState(!1),[N,O]=y.useState({x:0,y:0}),R={filter:`
            brightness(${(((Le=e.filters)==null?void 0:Le.brightness)||100)/100})
            contrast(${(((xe=e.filters)==null?void 0:xe.contrast)||100)/100})
            saturate(${(((Ae=e.filters)==null?void 0:Ae.saturation)||100)/100})
            sepia(${(((De=e.filters)==null?void 0:De.tint)||0)/100})
            hue-rotate(${(((Fe=e.filters)==null?void 0:Fe.hue)||0)*3.6}deg)
            blur(${((He=e.filters)==null?void 0:He.blur)||0}px)
        `,transform:`scale(${((Te=e.filters)==null?void 0:Te.scale)||1}) rotate(${((Ge=e.filters)==null?void 0:Ge.rotate)||0}deg) ${($e=e.filters)!=null&&$e.flipHorizontal?"scaleX(-1)":""} ${(A=e.filters)!=null&&A.flipVertical?"scaleY(-1)":""}`,mixBlendMode:((X=e.filters)==null?void 0:X.blendMode)||"normal",opacity:(((pe=e.filters)==null?void 0:pe.opacity)||100)/100},G=xt.find(I=>I.id===e.mask)||xt[0],K=y.useCallback((I,q)=>typeof I=="number"?I<=1?I*q:I:0,[]),B=y.useCallback((I,q)=>typeof I=="number"&&q>0?I>1?Math.min(I/q,1):I:0,[]),H={x:Math.max(0,K(((he=e.position)==null?void 0:he.x)||0,s.width)),y:Math.max(0,K(((be=e.position)==null?void 0:be.y)||0,s.height))},F={width:Math.max(50,(je=e.size)!=null&&je.width?K(e.size.width,s.width):200),height:Math.max(50,(ye=e.size)!=null&&ye.height?K(e.size.height,s.height):200)},ue=y.useCallback(I=>{t&&(I.stopPropagation(),I.preventDefault(),p(!0),g("move"),m({mouseX:I.clientX,mouseY:I.clientY,elementX:H.x,elementY:H.y,elementWidth:F.width,elementHeight:F.height}))},[t,H,F]),E=y.useCallback((I,q)=>{t&&(I.stopPropagation(),I.preventDefault(),p(!0),g("resize"),h(q),m({mouseX:I.clientX,mouseY:I.clientY,elementX:H.x,elementY:H.y,elementWidth:F.width,elementHeight:F.height}))},[t,H,F]),Z=y.useCallback(I=>{if(!f)return;const q=I.clientX-b.mouseX,ne=I.clientY-b.mouseY;if(d==="move"){const ae=Math.max(0,Math.min(s.width-F.width,b.elementX+q)),te=Math.max(0,Math.min(s.height-F.height,b.elementY+ne)),Ce={position:{x:B(ae,s.width),y:B(te,s.height)}};n(Ce)}else if(d==="resize"){let ae=b.elementWidth,te=b.elementHeight,Ce=b.elementX,Se=b.elementY;const oe=50,nt=b.elementWidth/b.elementHeight;switch(v){case"nw":ae=Math.max(oe,b.elementWidth-q),te=Math.max(oe,b.elementHeight-ne),I.shiftKey&&(te=ae/nt),Ce=b.elementX+(b.elementWidth-ae),Se=b.elementY+(b.elementHeight-te);break;case"n":te=Math.max(oe,b.elementHeight-ne),Se=b.elementY+(b.elementHeight-te);break;case"ne":ae=Math.max(oe,b.elementWidth+q),te=Math.max(oe,b.elementHeight-ne),I.shiftKey&&(te=ae/nt),Se=b.elementY+(b.elementHeight-te);break;case"e":ae=Math.max(oe,b.elementWidth+q);break;case"se":ae=Math.max(oe,b.elementWidth+q),te=Math.max(oe,b.elementHeight+ne),I.shiftKey&&(te=ae/nt);break;case"s":te=Math.max(oe,b.elementHeight+ne);break;case"sw":ae=Math.max(oe,b.elementWidth-q),te=Math.max(oe,b.elementHeight+ne),I.shiftKey&&(te=ae/nt),Ce=b.elementX+(b.elementWidth-ae);break;case"w":ae=Math.max(oe,b.elementWidth-q),Ce=b.elementX+(b.elementWidth-ae);break}Ce=Math.max(0,Math.min(s.width-ae,Ce)),Se=Math.max(0,Math.min(s.height-te,Se)),ae=Math.min(ae,s.width-Ce),te=Math.min(te,s.height-Se);const dt={position:{x:B(Ce,s.width),y:B(Se,s.height)},size:{width:B(ae,s.width),height:B(te,s.height)}};n(dt)}},[f,d,b,v,s,F,n,B]),ce=y.useCallback(()=>{p(!1),g(null),h(null)},[]),M=y.useCallback(I=>{I.stopPropagation();const q={width:200,height:200};n({size:{width:B(q.width,s.width),height:B(q.height,s.height)}})},[n,B,s]),fe=y.useCallback(I=>{if(!t)return;const q=I.shiftKey?10:1;let ne={};switch(I.key){case"ArrowLeft":I.preventDefault(),ne.position={x:Math.max(0,B(H.x-q,s.width)),y:B(H.y,s.height)};break;case"ArrowRight":I.preventDefault(),ne.position={x:Math.min(1,B(H.x+q,s.width)),y:B(H.y,s.height)};break;case"ArrowUp":I.preventDefault(),ne.position={x:B(H.x,s.width),y:Math.max(0,B(H.y-q,s.height))};break;case"ArrowDown":I.preventDefault(),ne.position={x:B(H.x,s.width),y:Math.min(1,B(H.y+q,s.height))};break;case"Delete":case"Backspace":I.preventDefault(),a();break;case"Escape":I.preventDefault(),r();break}Object.keys(ne).length>0&&n(ne)},[t,H,s,B,n,a,r]);y.useEffect(()=>{if(t)return document.addEventListener("keydown",fe),()=>document.removeEventListener("keydown",fe)},[t,fe]),y.useEffect(()=>{if(f){const I=ne=>Z(ne),q=()=>ce();return document.addEventListener("mousemove",I),document.addEventListener("mouseup",q),()=>{document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",q)}}},[f,Z,ce]),y.useEffect(()=>{const I=q=>{D&&!q.target.closest(".context-menu")&&S(!1)};return document.addEventListener("click",I),()=>document.removeEventListener("click",I)},[D]);const ve=y.useCallback(I=>{u.current=I,c(I)},[c]),Y=I=>{I.preventDefault(),I.stopPropagation(),O({x:I.clientX,y:I.clientY}),S(!0)},me=()=>{const I=document.createElement("input");I.type="file",I.accept="image/*",I.onchange=q=>{if(q.target.files&&q.target.files[0]){const ne=new FileReader;ne.onload=ae=>{var te;(te=ae.target)!=null&&te.result&&n({content:ae.target.result})},ne.readAsDataURL(q.target.files[0])}},I.click(),S(!1)},Oe=()=>{var q,ne;const I={...JSON.parse(JSON.stringify(e)),id:`img-${Date.now()}`,position:{x:Math.min(.9,(((q=e.position)==null?void 0:q.x)||0)+.05),y:Math.min(.9,(((ne=e.position)==null?void 0:ne.y)||0)+.05)}};n(I,!0),S(!1)},le=()=>{if(f){if(d==="move")return"grabbing";if(d==="resize")return ke(v)}return t?"grab":"pointer"},ke=I=>({n:"n-resize",ne:"ne-resize",e:"e-resize",se:"se-resize",s:"s-resize",sw:"sw-resize",w:"w-resize",nw:"nw-resize"})[I]||"default";return l.jsxs("div",{ref:ve,className:`absolute ${G.class} ${t?"ring-2 ring-blue-500 ring-opacity-75":""} ${o?"opacity-50":"opacity-100"}`,style:{left:`${H.x}px`,top:`${H.y}px`,width:`${F.width}px`,height:`${F.height}px`,cursor:le(),zIndex:t?1e3:e.zIndex||1,transition:f?"none":"all 0.1s ease-out",pointerEvents:"all",userSelect:"none",transformOrigin:"center"},onClick:I=>{I.stopPropagation(),r()},onMouseDown:ue,onContextMenu:Y,onDoubleClick:M,children:[l.jsxs("div",{className:"w-full h-full overflow-hidden relative bg-transparent",children:[l.jsx("img",{src:e.content,alt:"Imagen editada",className:"w-full h-full object-cover select-none",style:R,draggable:!1,onLoad:()=>{u.current&&(u.current.style.visibility="visible")}}),t&&!o&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute w-4 h-4 bg-blue-500 border-2 border-white rounded-full shadow-md hover:bg-blue-600 transition-colors cursor-nw-resize",style:{top:-8,left:-8},onMouseDown:I=>E(I,"nw"),title:"Redimensionar desde esquina superior izquierda"}),l.jsx("div",{className:"absolute w-4 h-4 bg-blue-500 border-2 border-white rounded-full shadow-md hover:bg-blue-600 transition-colors cursor-ne-resize",style:{top:-8,right:-8},onMouseDown:I=>E(I,"ne"),title:"Redimensionar desde esquina superior derecha"}),l.jsx("div",{className:"absolute w-4 h-4 bg-blue-500 border-2 border-white rounded-full shadow-md hover:bg-blue-600 transition-colors cursor-se-resize",style:{bottom:-8,right:-8},onMouseDown:I=>E(I,"se"),title:"Redimensionar desde esquina inferior derecha"}),l.jsx("div",{className:"absolute w-4 h-4 bg-blue-500 border-2 border-white rounded-full shadow-md hover:bg-blue-600 transition-colors cursor-sw-resize",style:{bottom:-8,left:-8},onMouseDown:I=>E(I,"sw"),title:"Redimensionar desde esquina inferior izquierda"}),l.jsx("div",{className:"absolute w-4 h-4 bg-blue-500 border-2 border-white rounded-full shadow-md hover:bg-blue-600 transition-colors cursor-n-resize",style:{top:-8,left:"calc(50% - 8px)"},onMouseDown:I=>E(I,"n"),title:"Redimensionar verticalmente"}),l.jsx("div",{className:"absolute w-4 h-4 bg-blue-500 border-2 border-white rounded-full shadow-md hover:bg-blue-600 transition-colors cursor-e-resize",style:{right:-8,top:"calc(50% - 8px)"},onMouseDown:I=>E(I,"e"),title:"Redimensionar horizontalmente"}),l.jsx("div",{className:"absolute w-4 h-4 bg-blue-500 border-2 border-white rounded-full shadow-md hover:bg-blue-600 transition-colors cursor-s-resize",style:{bottom:-8,left:"calc(50% - 8px)"},onMouseDown:I=>E(I,"s"),title:"Redimensionar verticalmente"}),l.jsx("div",{className:"absolute w-4 h-4 bg-blue-500 border-2 border-white rounded-full shadow-md hover:bg-blue-600 transition-colors cursor-w-resize",style:{left:-8,top:"calc(50% - 8px)"},onMouseDown:I=>E(I,"w"),title:"Redimensionar horizontalmente"}),f&&l.jsx("div",{className:"absolute -inset-2 border-2 border-blue-300 border-dashed rounded animate-pulse"})]})]}),D&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>S(!1)}),l.jsxs("div",{className:"fixed bg-white shadow-xl rounded-lg z-50 py-2 w-56 context-menu border border-gray-200",style:{left:`${Math.min(N.x,window.innerWidth-240)}px`,top:`${Math.min(N.y,window.innerHeight-200)}px`},onClick:I=>I.stopPropagation(),children:[l.jsx("button",{className:"absolute -top-2 -right-2 bg-white rounded-full p-1 shadow-md hover:bg-gray-100 text-gray-500 z-10",onClick:()=>S(!1),children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),l.jsx("div",{className:"px-3 py-2 border-b border-gray-100",children:l.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Opciones de imagen"})}),l.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-blue-50 flex items-center gap-3 text-sm text-gray-700 hover:text-blue-700 transition-colors",onClick:me,children:[l.jsx(ss,{className:"h-4 w-4"}),"Reemplazar imagen"]}),l.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-green-50 flex items-center gap-3 text-sm text-gray-700 hover:text-green-700 transition-colors",onClick:Oe,children:[l.jsx(on,{className:"h-4 w-4"}),"Duplicar elemento"]}),l.jsx("div",{className:"border-t border-gray-100 my-1"}),l.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-yellow-50 flex items-center gap-3 text-sm text-gray-700 hover:text-yellow-700 transition-colors",onClick:()=>{var I;n({filters:{...e.filters,opacity:Math.max(0,(((I=e.filters)==null?void 0:I.opacity)||100)-20)}}),S(!1)},children:[l.jsx(Ya,{className:"h-4 w-4"}),"Reducir opacidad"]}),l.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-purple-50 flex items-center gap-3 text-sm text-gray-700 hover:text-purple-700 transition-colors",onClick:()=>{var I;n({filters:{...e.filters,scale:Math.max(.1,(((I=e.filters)==null?void 0:I.scale)||1)-.1)}}),S(!1)},children:[l.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"})}),"Reducir escala"]}),l.jsx("div",{className:"border-t border-gray-100 my-1"}),l.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-red-50 flex items-center gap-3 text-sm text-gray-700 hover:text-red-700 transition-colors",onClick:()=>{a(),S(!1)},children:[l.jsx(lr,{className:"h-4 w-4"}),"Eliminar imagen"]})]})]})]})}function gc({element:e,isSelected:t,onSelect:r,onUpdate:n,onDelete:a,workspaceSize:i={width:800,height:600}}){var M,fe,ve,Y,me,Oe,le,ke,Le,xe,Ae,De,Fe,He,Te,Ge,$e;const[s,o]=y.useState(!1),c=y.useRef(null),u=y.useRef(null),[{isDragging:f},p]=oi(()=>({type:"TEXT_ELEMENT",item:{id:e.id},collect:A=>({isDragging:!!A.isDragging()})})),[d,g]=y.useState(!1),[v,h]=y.useState({x:0,y:0}),[b,m]=y.useState(!1),[D,S]=y.useState({x:0,y:0}),N=()=>{o(!1)},O=A=>{n({content:A.target.value})},R=A=>{A.key==="Enter"&&o(!1)},G=A=>{if(t&&!s){A.stopPropagation(),g(!0);const X=A.currentTarget.parentElement.getBoundingClientRect(),pe=e.position.x<=1?e.position.x*X.width:e.position.x,he=e.position.y<=1?e.position.y*X.height:e.position.y;h({x:A.clientX-pe,y:A.clientY-he})}},K=A=>{if(d&&u.current){const X=u.current.parentElement.getBoundingClientRect(),pe=A.clientX-v.x,he=A.clientY-v.y,be=X.width-u.current.offsetWidth,je=X.height-u.current.offsetHeight,ye=Math.max(0,Math.min(pe,be)),I=Math.max(0,Math.min(he,je)),q=ye/X.width,ne=I/X.height;n({position:{x:q,y:ne}})}},B=()=>{g(!1)},H=A=>{A.preventDefault(),A.stopPropagation(),S({x:A.clientX,y:A.clientY}),m(!0)},F=()=>{const A={...JSON.parse(JSON.stringify(e)),id:`text-${Date.now()}`,position:{x:e.position.x<=1?Math.min(e.position.x+.02,.9):e.position.x+10,y:e.position.y<=1?Math.min(e.position.y+.02,.9):e.position.y+10}};n(A,!0),m(!1)};y.useEffect(()=>(d&&(window.addEventListener("mousemove",K),window.addEventListener("mouseup",B)),()=>{window.removeEventListener("mousemove",K),window.removeEventListener("mouseup",B)}),[d,v]);const ue=y.useCallback(A=>{u.current=A,p(A)},[p]),E=(M=e.style)!=null&&M.textShadow?`${e.style.textShadowX||0}px ${e.style.textShadowY||0}px ${e.style.textShadowBlur||0}px ${e.style.textShadowColor||"rgba(0,0,0,0.5)"}`:"none",ce=(()=>{var X,pe,he,be,je,ye,I,q,ne,ae,te,Ce;const A={...e.style,position:"absolute",cursor:t&&!s?"move":"pointer",textShadow:E,zIndex:10,fontFamily:((X=e.style)==null?void 0:X.fontFamily)||"Arial",color:((pe=e.style)==null?void 0:pe.color)||"#000000",fontWeight:((he=e.style)==null?void 0:he.fontWeight)||"normal",fontStyle:((be=e.style)==null?void 0:be.fontStyle)||"normal",textDecoration:((je=e.style)==null?void 0:je.textDecoration)||"none",textAlign:((ye=e.style)==null?void 0:ye.textAlign)||"left",backgroundColor:((I=e.style)==null?void 0:I.backgroundColor)||"transparent",padding:((q=e.style)==null?void 0:q.padding)||"8px",borderRadius:((ne=e.style)==null?void 0:ne.borderRadius)||"0px",border:((ae=e.style)==null?void 0:ae.border)||"none",opacity:((te=e.style)==null?void 0:te.opacity)!==void 0?e.style.opacity:1};if(e.position.x<=1&&e.position.y<=1?(A.left=`${e.position.x*100}%`,A.top=`${e.position.y*100}%`):(A.left=`${e.position.x}px`,A.top=`${e.position.y}px`),(Ce=e.style)!=null&&Ce.fontSize){const Se=parseFloat(e.style.fontSize);if(Se&&i.width){const oe=Se/800*i.width;A.fontSize=`${Math.max(12,oe)}px`}else A.fontSize=e.style.fontSize}else{const Se=.02*i.width;A.fontSize=`${Math.max(12,Se)}px`}return A})();return y.useEffect(()=>{var X,pe;const A=(pe=(X=e.style)==null?void 0:X.fontFamily)==null?void 0:pe.replace(/'/g,"");if(A&&!document.fonts.check(`12px ${A}`)){const he=new FontFace(A,`local(${A})`);he.load().then(()=>document.fonts.add(he))}},[(fe=e.style)==null?void 0:fe.fontFamily]),l.jsxs("div",{ref:ue,className:`${t?"ring-2 ring-purple-500":""} ${f?"opacity-50":"opacity-100"}`,style:ce,onClick:A=>{A.stopPropagation(),r(),!s&&t&&(o(!0),setTimeout(()=>{c.current&&(c.current.focus(),c.current.select())},0))},onMouseDown:G,onContextMenu:H,children:[s?l.jsx("input",{ref:c,type:"text",value:e.content,onChange:O,onBlur:N,onKeyDown:R,className:"w-full p-1 border border-gray-300 rounded bg-white",style:{fontFamily:(ve=e.style)==null?void 0:ve.fontFamily,fontSize:(Y=e.style)==null?void 0:Y.fontSize,fontWeight:(me=e.style)==null?void 0:me.fontWeight,fontStyle:(Oe=e.style)==null?void 0:Oe.fontStyle,textDecoration:(le=e.style)==null?void 0:le.textDecoration,color:(ke=e.style)==null?void 0:ke.color,textAlign:(Le=e.style)==null?void 0:Le.textAlign,minWidth:"100px"},autoFocus:!0}):l.jsx("div",{className:"p-2 rounded",style:{backgroundColor:((xe=e.style)==null?void 0:xe.backgroundColor)||"transparent",padding:((Ae=e.style)==null?void 0:Ae.padding)||"8px",borderRadius:((De=e.style)==null?void 0:De.borderRadius)||"0px",border:((Fe=e.style)==null?void 0:Fe.border)||"none",fontFamily:((He=e.style)==null?void 0:He.fontFamily)||"Arial"},children:e.content||"Editar texto"}),t&&l.jsxs("div",{className:"absolute top-0 right-0 transform translate-y-[-100%] flex gap-1 bg-white rounded-t-md p-1 shadow-sm",children:[l.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",onClick:A=>{var X;A.stopPropagation(),n({style:{...e.style,fontWeight:((X=e.style)==null?void 0:X.fontWeight)==="bold"?"normal":"bold"}})},children:l.jsx("span",{className:`text-xs ${((Te=e.style)==null?void 0:Te.fontWeight)==="bold"?"font-bold":""}`,children:"B"})}),l.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",onClick:A=>{var X;A.stopPropagation(),n({style:{...e.style,fontStyle:((X=e.style)==null?void 0:X.fontStyle)==="italic"?"normal":"italic"}})},children:l.jsx("span",{className:`text-xs ${((Ge=e.style)==null?void 0:Ge.fontStyle)==="italic"?"italic":""}`,children:"I"})}),l.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",onClick:A=>{var X;A.stopPropagation(),n({style:{...e.style,textDecoration:((X=e.style)==null?void 0:X.textDecoration)==="underline"?"none":"underline"}})},children:l.jsx("span",{className:`text-xs ${(($e=e.style)==null?void 0:$e.textDecoration)==="underline"?"underline":""}`,children:"U"})}),l.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",onClick:A=>{A.stopPropagation(),a()},children:l.jsx(lr,{className:"h-3 w-3 text-gray-700"})})]}),b&&l.jsxs("div",{className:"fixed bg-white shadow-lg rounded-md z-50 py-1 w-48",style:{left:`${D.x}px`,top:`${D.y}px`},onClick:A=>A.stopPropagation(),children:[l.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center gap-2",onClick:()=>{o(!0),m(!1)},children:[l.jsx(bt,{className:"h-4 w-4"}),"Editar texto"]}),l.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center gap-2",onClick:F,children:[l.jsx(on,{className:"h-4 w-4"}),"Duplicar"]}),l.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center gap-2",onClick:()=>{var A;n({style:{...e.style,opacity:Math.max(0,(((A=e.style)==null?void 0:A.opacity)||1)-.1)}}),m(!1)},children:[l.jsx(Ya,{className:"h-4 w-4"}),"Reducir opacidad"]}),l.jsxs("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-100 flex items-center gap-2",onClick:()=>{a(),m(!1)},children:[l.jsx(lr,{className:"h-4 w-4"}),"Eliminar"]})]})]})}function si(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Co(e,t)}var li=de.createContext(null);function hc(e){e()}var ci=hc,vc=function(t){return ci=t},mc=function(){return ci};function bc(){var e=mc(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e(function(){for(var a=t;a;)a.callback(),a=a.next})},get:function(){for(var a=[],i=t;i;)a.push(i),i=i.next;return a},subscribe:function(a){var i=!0,s=r={callback:a,next:null,prev:r};return s.prev?s.prev.next=s:t=s,function(){!i||t===null||(i=!1,s.next?s.next.prev=s.prev:r=s.prev,s.prev?s.prev.next=s.next:t=s.next)}}}}var ca={notify:function(){},get:function(){return[]}};function di(e,t){var r,n=ca;function a(p){return c(),n.subscribe(p)}function i(){n.notify()}function s(){f.onStateChange&&f.onStateChange()}function o(){return!!r}function c(){r||(r=t?t.addNestedSub(s):e.subscribe(s),n=bc())}function u(){r&&(r(),r=void 0,n.clear(),n=ca)}var f={addNestedSub:a,notifyNestedSubs:i,handleChangeWrapper:s,isSubscribed:o,trySubscribe:c,tryUnsubscribe:u,getListeners:function(){return n}};return f}var ui=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?y.useLayoutEffect:y.useEffect;function xc(e){var t=e.store,r=e.context,n=e.children,a=y.useMemo(function(){var o=di(t);return{store:t,subscription:o}},[t]),i=y.useMemo(function(){return t.getState()},[t]);ui(function(){var o=a.subscription;return o.onStateChange=o.notifyNestedSubs,o.trySubscribe(),i!==t.getState()&&o.notifyNestedSubs(),function(){o.tryUnsubscribe(),o.onStateChange=null}},[a,i]);var s=r||li;return de.createElement(s.Provider,{value:a},n)}var kr={exports:{}},se={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var da;function yc(){if(da)return se;da=1;var e=60103,t=60106,r=60107,n=60108,a=60114,i=60109,s=60110,o=60112,c=60113,u=60120,f=60115,p=60116,d=60121,g=60122,v=60117,h=60129,b=60131;if(typeof Symbol=="function"&&Symbol.for){var m=Symbol.for;e=m("react.element"),t=m("react.portal"),r=m("react.fragment"),n=m("react.strict_mode"),a=m("react.profiler"),i=m("react.provider"),s=m("react.context"),o=m("react.forward_ref"),c=m("react.suspense"),u=m("react.suspense_list"),f=m("react.memo"),p=m("react.lazy"),d=m("react.block"),g=m("react.server.block"),v=m("react.fundamental"),h=m("react.debug_trace_mode"),b=m("react.legacy_hidden")}function D(E){if(typeof E=="object"&&E!==null){var Z=E.$$typeof;switch(Z){case e:switch(E=E.type,E){case r:case a:case n:case c:case u:return E;default:switch(E=E&&E.$$typeof,E){case s:case o:case p:case f:case i:return E;default:return Z}}case t:return Z}}}var S=i,N=e,O=o,R=r,G=p,K=f,B=t,H=a,F=n,ue=c;return se.ContextConsumer=s,se.ContextProvider=S,se.Element=N,se.ForwardRef=O,se.Fragment=R,se.Lazy=G,se.Memo=K,se.Portal=B,se.Profiler=H,se.StrictMode=F,se.Suspense=ue,se.isAsyncMode=function(){return!1},se.isConcurrentMode=function(){return!1},se.isContextConsumer=function(E){return D(E)===s},se.isContextProvider=function(E){return D(E)===i},se.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===e},se.isForwardRef=function(E){return D(E)===o},se.isFragment=function(E){return D(E)===r},se.isLazy=function(E){return D(E)===p},se.isMemo=function(E){return D(E)===f},se.isPortal=function(E){return D(E)===t},se.isProfiler=function(E){return D(E)===a},se.isStrictMode=function(E){return D(E)===n},se.isSuspense=function(E){return D(E)===c},se.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===r||E===a||E===h||E===n||E===c||E===u||E===b||typeof E=="object"&&E!==null&&(E.$$typeof===p||E.$$typeof===f||E.$$typeof===i||E.$$typeof===s||E.$$typeof===o||E.$$typeof===v||E.$$typeof===d||E[0]===g)},se.typeOf=D,se}var ua;function wc(){return ua||(ua=1,kr.exports=yc()),kr.exports}var Dc=wc(),Cc=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],Sc=["reactReduxForwardedRef"],Ic=[],Nc=[null,null];function Ec(e,t){var r=e[1];return[t.payload,r+1]}function pa(e,t,r){ui(function(){return e.apply(void 0,t)},r)}function Pc(e,t,r,n,a,i,s){e.current=n,t.current=a,r.current=!1,i.current&&(i.current=null,s())}function Oc(e,t,r,n,a,i,s,o,c,u){if(e){var f=!1,p=null,d=function(){if(!f){var h=t.getState(),b,m;try{b=n(h,a.current)}catch(D){m=D,p=D}m||(p=null),b===i.current?s.current||c():(i.current=b,o.current=b,s.current=!0,u({type:"STORE_UPDATED",payload:{error:m}}))}};r.onStateChange=d,r.trySubscribe(),d();var g=function(){if(f=!0,r.tryUnsubscribe(),r.onStateChange=null,p)throw p};return g}}var Tc=function(){return[null,0]};function jc(e,t){t===void 0&&(t={});var r=t,n=r.getDisplayName,a=n===void 0?function(S){return"ConnectAdvanced("+S+")"}:n,i=r.methodName,s=i===void 0?"connectAdvanced":i,o=r.renderCountProp,c=o===void 0?void 0:o,u=r.shouldHandleStateChanges,f=u===void 0?!0:u,p=r.storeKey,d=p===void 0?"store":p;r.withRef;var g=r.forwardRef,v=g===void 0?!1:g,h=r.context,b=h===void 0?li:h,m=sr(r,Cc),D=b;return function(N){var O=N.displayName||N.name||"Component",R=a(O),G=W({},m,{getDisplayName:a,methodName:s,renderCountProp:c,shouldHandleStateChanges:f,storeKey:d,displayName:R,wrappedComponentName:O,WrappedComponent:N}),K=m.pure;function B(Z){return e(Z.dispatch,G)}var H=K?y.useMemo:function(Z){return Z()};function F(Z){var ce=y.useMemo(function(){var ye=Z.reactReduxForwardedRef,I=sr(Z,Sc);return[Z.context,ye,I]},[Z]),M=ce[0],fe=ce[1],ve=ce[2],Y=y.useMemo(function(){return M&&M.Consumer&&Dc.isContextConsumer(de.createElement(M.Consumer,null))?M:D},[M,D]),me=y.useContext(Y),Oe=!!Z.store&&!!Z.store.getState&&!!Z.store.dispatch;me&&me.store;var le=Oe?Z.store:me.store,ke=y.useMemo(function(){return B(le)},[le]),Le=y.useMemo(function(){if(!f)return Nc;var ye=di(le,Oe?null:me.subscription),I=ye.notifyNestedSubs.bind(ye);return[ye,I]},[le,Oe,me]),xe=Le[0],Ae=Le[1],De=y.useMemo(function(){return Oe?me:W({},me,{subscription:xe})},[Oe,me,xe]),Fe=y.useReducer(Ec,Ic,Tc),He=Fe[0],Te=He[0],Ge=Fe[1];if(Te&&Te.error)throw Te.error;var $e=y.useRef(),A=y.useRef(ve),X=y.useRef(),pe=y.useRef(!1),he=H(function(){return X.current&&ve===A.current?X.current:ke(le.getState(),ve)},[le,Te,ve]);pa(Pc,[A,$e,pe,ve,he,X,Ae]),pa(Oc,[f,le,xe,ke,A,$e,pe,X,Ae,Ge],[le,xe,ke]);var be=y.useMemo(function(){return de.createElement(N,W({},he,{ref:fe}))},[fe,N,he]),je=y.useMemo(function(){return f?de.createElement(Y.Provider,{value:De},be):be},[Y,be,De]);return je}var ue=K?de.memo(F):F;if(ue.WrappedComponent=N,ue.displayName=F.displayName=R,v){var E=de.forwardRef(function(ce,M){return de.createElement(ue,W({},ce,{reactReduxForwardedRef:M}))});return E.displayName=R,E.WrappedComponent=N,Yn(E,N)}return Yn(ue,N)}}function fa(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Ar(e,t){if(fa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!fa(e[r[a]],t[r[a]]))return!1;return!0}function Rc(e,t){var r={},n=function(s){var o=e[s];typeof o=="function"&&(r[s]=function(){return t(o.apply(void 0,arguments))})};for(var a in e)n(a);return r}function gn(e){return function(r,n){var a=e(r,n);function i(){return a}return i.dependsOnOwnProps=!1,i}}function ga(e){return e.dependsOnOwnProps!==null&&e.dependsOnOwnProps!==void 0?!!e.dependsOnOwnProps:e.length!==1}function pi(e,t){return function(n,a){a.displayName;var i=function(o,c){return i.dependsOnOwnProps?i.mapToProps(o,c):i.mapToProps(o)};return i.dependsOnOwnProps=!0,i.mapToProps=function(o,c){i.mapToProps=e,i.dependsOnOwnProps=ga(e);var u=i(o,c);return typeof u=="function"&&(i.mapToProps=u,i.dependsOnOwnProps=ga(u),u=i(o,c)),u},i}}function Mc(e){return typeof e=="function"?pi(e):void 0}function kc(e){return e?void 0:gn(function(t){return{dispatch:t}})}function Ac(e){return e&&typeof e=="object"?gn(function(t){return Rc(e,t)}):void 0}const Bc=[Mc,kc,Ac];function Lc(e){return typeof e=="function"?pi(e):void 0}function Fc(e){return e?void 0:gn(function(){return{}})}const $c=[Lc,Fc];function zc(e,t,r){return W({},r,e,t)}function Hc(e){return function(r,n){n.displayName;var a=n.pure,i=n.areMergedPropsEqual,s=!1,o;return function(u,f,p){var d=e(u,f,p);return s?(!a||!i(d,o))&&(o=d):(s=!0,o=d),o}}}function Gc(e){return typeof e=="function"?Hc(e):void 0}function Wc(e){return e?void 0:function(){return zc}}const qc=[Gc,Wc];var Uc=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function Vc(e,t,r,n){return function(i,s){return r(e(i,s),t(n,s),s)}}function Yc(e,t,r,n,a){var i=a.areStatesEqual,s=a.areOwnPropsEqual,o=a.areStatePropsEqual,c=!1,u,f,p,d,g;function v(S,N){return u=S,f=N,p=e(u,f),d=t(n,f),g=r(p,d,f),c=!0,g}function h(){return p=e(u,f),t.dependsOnOwnProps&&(d=t(n,f)),g=r(p,d,f),g}function b(){return e.dependsOnOwnProps&&(p=e(u,f)),t.dependsOnOwnProps&&(d=t(n,f)),g=r(p,d,f),g}function m(){var S=e(u,f),N=!o(S,p);return p=S,N&&(g=r(p,d,f)),g}function D(S,N){var O=!s(N,f),R=!i(S,u,N,f);return u=S,f=N,O&&R?h():O?b():R?m():g}return function(N,O){return c?D(N,O):v(N,O)}}function Xc(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,a=t.initMergeProps,i=sr(t,Uc),s=r(e,i),o=n(e,i),c=a(e,i),u=i.pure?Yc:Vc;return u(s,o,c,e,i)}var _c=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function Br(e,t,r){for(var n=t.length-1;n>=0;n--){var a=t[n](e);if(a)return a}return function(i,s){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+s.wrappedComponentName+".")}}function Jc(e,t){return e===t}function Kc(e){var t=e===void 0?{}:e,r=t.connectHOC,n=r===void 0?jc:r,a=t.mapStateToPropsFactories,i=a===void 0?$c:a,s=t.mapDispatchToPropsFactories,o=s===void 0?Bc:s,c=t.mergePropsFactories,u=c===void 0?qc:c,f=t.selectorFactory,p=f===void 0?Xc:f;return function(g,v,h,b){b===void 0&&(b={});var m=b,D=m.pure,S=D===void 0?!0:D,N=m.areStatesEqual,O=N===void 0?Jc:N,R=m.areOwnPropsEqual,G=R===void 0?Ar:R,K=m.areStatePropsEqual,B=K===void 0?Ar:K,H=m.areMergedPropsEqual,F=H===void 0?Ar:H,ue=sr(m,_c),E=Br(g,i,"mapStateToProps"),Z=Br(v,o,"mapDispatchToProps"),ce=Br(h,u,"mergeProps");return n(p,W({methodName:"connect",getDisplayName:function(fe){return"Connect("+fe+")"},shouldHandleStateChanges:!!g,initMapStateToProps:E,initMapDispatchToProps:Z,initMergeProps:ce,pure:S,areStatesEqual:O,areOwnPropsEqual:G,areStatePropsEqual:B,areMergedPropsEqual:F},ue))}}const fi=Kc();vc(So.unstable_batchedUpdates);function Qc(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function gi(e,t){var r=y.useState(function(){return{inputs:t,result:e()}})[0],n=y.useRef(!0),a=y.useRef(r),i=n.current||!!(t&&a.current.inputs&&Qc(t,a.current.inputs)),s=i?a.current:{inputs:t,result:e()};return y.useEffect(function(){n.current=!1,a.current=s},[s]),s.result}function Zc(e,t){return gi(function(){return e},t)}var re=gi,L=Zc,ed="Invariant failed";function td(e,t){throw new Error(ed)}var rt=function(t){var r=t.top,n=t.right,a=t.bottom,i=t.left,s=n-i,o=a-r,c={top:r,right:n,bottom:a,left:i,width:s,height:o,x:i,y:r,center:{x:(n+i)/2,y:(a+r)/2}};return c},hn=function(t,r){return{top:t.top-r.top,left:t.left-r.left,bottom:t.bottom+r.bottom,right:t.right+r.right}},ha=function(t,r){return{top:t.top+r.top,left:t.left+r.left,bottom:t.bottom-r.bottom,right:t.right-r.right}},rd=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},Lr={top:0,right:0,bottom:0,left:0},vn=function(t){var r=t.borderBox,n=t.margin,a=n===void 0?Lr:n,i=t.border,s=i===void 0?Lr:i,o=t.padding,c=o===void 0?Lr:o,u=rt(hn(r,a)),f=rt(ha(r,s)),p=rt(ha(f,c));return{marginBox:u,borderBox:rt(r),paddingBox:f,contentBox:p,margin:a,border:s,padding:c}},Je=function(t){var r=t.slice(0,-2),n=t.slice(-2);if(n!=="px")return 0;var a=Number(r);return isNaN(a)&&td(),a},nd=function(){return{x:window.pageXOffset,y:window.pageYOffset}},cr=function(t,r){var n=t.borderBox,a=t.border,i=t.margin,s=t.padding,o=rd(n,r);return vn({borderBox:o,border:a,margin:i,padding:s})},dr=function(t,r){return r===void 0&&(r=nd()),cr(t,r)},hi=function(t,r){var n={top:Je(r.marginTop),right:Je(r.marginRight),bottom:Je(r.marginBottom),left:Je(r.marginLeft)},a={top:Je(r.paddingTop),right:Je(r.paddingRight),bottom:Je(r.paddingBottom),left:Je(r.paddingLeft)},i={top:Je(r.borderTopWidth),right:Je(r.borderRightWidth),bottom:Je(r.borderBottomWidth),left:Je(r.borderLeftWidth)};return vn({borderBox:t,margin:n,padding:a,border:i})},vi=function(t){var r=t.getBoundingClientRect(),n=window.getComputedStyle(t);return hi(r,n)},va=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function ad(e,t){return!!(e===t||va(e)&&va(t))}function id(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!ad(e[r],t[r]))return!1;return!0}function Ee(e,t){t===void 0&&(t=id);var r,n=[],a,i=!1;function s(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return i&&r===this&&t(o,n)||(a=e.apply(this,o),i=!0,r=this,n=o),a}return s}var Wt=function(t){var r=[],n=null,a=function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];r=o,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return a.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},a};function mi(e,t){}mi.bind(null,"warn");mi.bind(null,"error");function it(){}function od(e,t){return W({},e,{},t)}function et(e,t,r){var n=t.map(function(a){var i=od(r,a.options);return e.addEventListener(a.eventName,a.fn,i),function(){e.removeEventListener(a.eventName,a.fn,i)}});return function(){n.forEach(function(i){i()})}}var sd="Invariant failed";function ur(e){this.message=e}ur.prototype.toString=function(){return this.message};function P(e,t){throw new ur(sd)}var ld=function(e){si(t,e);function t(){for(var n,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=e.call.apply(e,[this].concat(i))||this,n.callbacks=null,n.unbind=it,n.onWindowError=function(o){var c=n.getCallbacks();c.isDragging()&&c.tryAbort();var u=o.error;u instanceof ur&&o.preventDefault()},n.getCallbacks=function(){if(!n.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return n.callbacks},n.setCallbacks=function(o){n.callbacks=o},n}var r=t.prototype;return r.componentDidMount=function(){this.unbind=et(window,[{eventName:"error",fn:this.onWindowError}])},r.componentDidCatch=function(a){if(a instanceof ur){this.setState({});return}throw a},r.componentWillUnmount=function(){this.unbind()},r.render=function(){return this.props.children(this.setCallbacks)},t}(de.Component),cd=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,pr=function(t){return t+1},dd=function(t){return`
  You have lifted an item in position `+pr(t.source.index)+`
`},bi=function(t,r){var n=t.droppableId===r.droppableId,a=pr(t.index),i=pr(r.index);return n?`
      You have moved the item from position `+a+`
      to position `+i+`
    `:`
    You have moved the item from position `+a+`
    in list `+t.droppableId+`
    to list `+r.droppableId+`
    in position `+i+`
  `},xi=function(t,r,n){var a=r.droppableId===n.droppableId;return a?`
      The item `+t+`
      has been combined with `+n.draggableId:`
      The item `+t+`
      in list `+r.droppableId+`
      has been combined with `+n.draggableId+`
      in list `+n.droppableId+`
    `},ud=function(t){var r=t.destination;if(r)return bi(t.source,r);var n=t.combine;return n?xi(t.draggableId,t.source,n):"You are over an area that cannot be dropped on"},ma=function(t){return`
  The item has returned to its starting position
  of `+pr(t.index)+`
`},pd=function(t){if(t.reason==="CANCEL")return`
      Movement cancelled.
      `+ma(t.source)+`
    `;var r=t.destination,n=t.combine;return r?`
      You have dropped the item.
      `+bi(t.source,r)+`
    `:n?`
      You have dropped the item.
      `+xi(t.draggableId,t.source,n)+`
    `:`
    The item has been dropped while not over a drop area.
    `+ma(t.source)+`
  `},or={dragHandleUsageInstructions:cd,onDragStart:dd,onDragUpdate:ud,onDragEnd:pd},Pe={x:0,y:0},Me=function(t,r){return{x:t.x+r.x,y:t.y+r.y}},Ve=function(t,r){return{x:t.x-r.x,y:t.y-r.y}},ot=function(t,r){return t.x===r.x&&t.y===r.y},St=function(t){return{x:t.x!==0?-t.x:0,y:t.y!==0?-t.y:0}},gt=function(t,r,n){var a;return n===void 0&&(n=0),a={},a[t]=r,a[t==="x"?"y":"x"]=n,a},qt=function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},ba=function(t,r){return Math.min.apply(Math,r.map(function(n){return qt(t,n)}))},yi=function(t){return function(r){return{x:t(r.x),y:t(r.y)}}},fd=function(e,t){var r=rt({top:Math.max(t.top,e.top),right:Math.min(t.right,e.right),bottom:Math.min(t.bottom,e.bottom),left:Math.max(t.left,e.left)});return r.width<=0||r.height<=0?null:r},Xt=function(t,r){return{top:t.top+r.y,left:t.left+r.x,bottom:t.bottom+r.y,right:t.right+r.x}},xa=function(t){return[{x:t.left,y:t.top},{x:t.right,y:t.top},{x:t.left,y:t.bottom},{x:t.right,y:t.bottom}]},gd={top:0,right:0,bottom:0,left:0},hd=function(t,r){return r?Xt(t,r.scroll.diff.displacement):t},vd=function(t,r,n){if(n&&n.increasedBy){var a;return W({},t,(a={},a[r.end]=t[r.end]+n.increasedBy[r.line],a))}return t},md=function(t,r){return r&&r.shouldClipSubject?fd(r.pageMarginBox,t):rt(t)},yt=function(e){var t=e.page,r=e.withPlaceholder,n=e.axis,a=e.frame,i=hd(t.marginBox,a),s=vd(i,n,r),o=md(s,a);return{page:t,withPlaceholder:r,active:o}},mn=function(e,t){e.frame||P();var r=e.frame,n=Ve(t,r.scroll.initial),a=St(n),i=W({},r,{scroll:{initial:r.scroll.initial,current:t,diff:{value:n,displacement:a},max:r.scroll.max}}),s=yt({page:e.subject.page,withPlaceholder:e.subject.withPlaceholder,axis:e.axis,frame:i}),o=W({},e,{frame:i,subject:s});return o};function fr(e){return Object.values?Object.values(e):Object.keys(e).map(function(t){return e[t]})}function bn(e,t){if(e.findIndex)return e.findIndex(t);for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function ct(e,t){if(e.find)return e.find(t);var r=bn(e,t);if(r!==-1)return e[r]}function wi(e){return Array.prototype.slice.call(e)}var Di=Ee(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),Ci=Ee(function(e){return e.reduce(function(t,r){return t[r.descriptor.id]=r,t},{})}),Dr=Ee(function(e){return fr(e)}),bd=Ee(function(e){return fr(e)}),It=Ee(function(e,t){var r=bd(t).filter(function(n){return e===n.descriptor.droppableId}).sort(function(n,a){return n.descriptor.index-a.descriptor.index});return r});function xn(e){return e.at&&e.at.type==="REORDER"?e.at.destination:null}function Cr(e){return e.at&&e.at.type==="COMBINE"?e.at.combine:null}var Sr=Ee(function(e,t){return t.filter(function(r){return r.descriptor.id!==e.descriptor.id})}),xd=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,a=e.insideDestination,i=e.previousImpact;if(!n.isCombineEnabled)return null;var s=xn(i);if(!s)return null;function o(h){var b={type:"COMBINE",combine:{draggableId:h,droppableId:n.descriptor.id}};return W({},i,{at:b})}var c=i.displaced.all,u=c.length?c[0]:null;if(t)return u?o(u):null;var f=Sr(r,a);if(!u){if(!f.length)return null;var p=f[f.length-1];return o(p.descriptor.id)}var d=bn(f,function(h){return h.descriptor.id===u});d===-1&&P();var g=d-1;if(g<0)return null;var v=f[g];return o(v.descriptor.id)},Nt=function(e,t){return e.descriptor.droppableId===t.descriptor.id},Si={point:Pe,value:0},Ut={invisible:{},visible:{},all:[]},yd={displaced:Ut,displacedBy:Si,at:null},tt=function(e,t){return function(r){return e<=r&&r<=t}},Ii=function(e){var t=tt(e.top,e.bottom),r=tt(e.left,e.right);return function(n){var a=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);if(a)return!0;var i=t(n.top)||t(n.bottom),s=r(n.left)||r(n.right),o=i&&s;if(o)return!0;var c=n.top<e.top&&n.bottom>e.bottom,u=n.left<e.left&&n.right>e.right,f=c&&u;if(f)return!0;var p=c&&s||u&&i;return p}},wd=function(e){var t=tt(e.top,e.bottom),r=tt(e.left,e.right);return function(n){var a=t(n.top)&&t(n.bottom)&&r(n.left)&&r(n.right);return a}},yn={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},Ni={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},Dd=function(e){return function(t){var r=tt(t.top,t.bottom),n=tt(t.left,t.right);return function(a){return e===yn?r(a.top)&&r(a.bottom):n(a.left)&&n(a.right)}}},Cd=function(t,r){var n=r.frame?r.frame.scroll.diff.displacement:Pe;return Xt(t,n)},Sd=function(t,r,n){return r.subject.active?n(r.subject.active)(t):!1},Id=function(t,r,n){return n(r)(t)},wn=function(t){var r=t.target,n=t.destination,a=t.viewport,i=t.withDroppableDisplacement,s=t.isVisibleThroughFrameFn,o=i?Cd(r,n):r;return Sd(o,n,s)&&Id(o,a,s)},Nd=function(t){return wn(W({},t,{isVisibleThroughFrameFn:Ii}))},Ei=function(t){return wn(W({},t,{isVisibleThroughFrameFn:wd}))},Ed=function(t){return wn(W({},t,{isVisibleThroughFrameFn:Dd(t.destination.axis)}))},Pd=function(t,r,n){if(typeof n=="boolean")return n;if(!r)return!0;var a=r.invisible,i=r.visible;if(a[t])return!1;var s=i[t];return s?s.shouldAnimate:!0};function Od(e,t){var r=e.page.marginBox,n={top:t.point.y,right:0,bottom:0,left:t.point.x};return rt(hn(r,n))}function Vt(e){var t=e.afterDragging,r=e.destination,n=e.displacedBy,a=e.viewport,i=e.forceShouldAnimate,s=e.last;return t.reduce(function(c,u){var f=Od(u,n),p=u.descriptor.id;c.all.push(p);var d=Nd({target:f,destination:r,viewport:a,withDroppableDisplacement:!0});if(!d)return c.invisible[u.descriptor.id]=!0,c;var g=Pd(p,s,i),v={draggableId:p,shouldAnimate:g};return c.visible[p]=v,c},{all:[],visible:{},invisible:{}})}function Td(e,t){if(!e.length)return 0;var r=e[e.length-1].descriptor.index;return t.inHomeList?r:r+1}function ya(e){var t=e.insideDestination,r=e.inHomeList,n=e.displacedBy,a=e.destination,i=Td(t,{inHomeList:r});return{displaced:Ut,displacedBy:n,at:{type:"REORDER",destination:{droppableId:a.descriptor.id,index:i}}}}function gr(e){var t=e.draggable,r=e.insideDestination,n=e.destination,a=e.viewport,i=e.displacedBy,s=e.last,o=e.index,c=e.forceShouldAnimate,u=Nt(t,n);if(o==null)return ya({insideDestination:r,inHomeList:u,displacedBy:i,destination:n});var f=ct(r,function(h){return h.descriptor.index===o});if(!f)return ya({insideDestination:r,inHomeList:u,displacedBy:i,destination:n});var p=Sr(t,r),d=r.indexOf(f),g=p.slice(d),v=Vt({afterDragging:g,destination:n,displacedBy:i,last:s,viewport:a.frame,forceShouldAnimate:c});return{displaced:v,displacedBy:i,at:{type:"REORDER",destination:{droppableId:n.descriptor.id,index:o}}}}function lt(e,t){return!!t.effected[e]}var jd=function(e){var t=e.isMovingForward,r=e.destination,n=e.draggables,a=e.combine,i=e.afterCritical;if(!r.isCombineEnabled)return null;var s=a.draggableId,o=n[s],c=o.descriptor.index,u=lt(s,i);return u?t?c:c-1:t?c+1:c},Rd=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.insideDestination,a=e.location;if(!n.length)return null;var i=a.index,s=t?i+1:i-1,o=n[0].descriptor.index,c=n[n.length-1].descriptor.index,u=r?c:c+1;return s<o||s>u?null:s},Md=function(e){var t=e.isMovingForward,r=e.isInHomeList,n=e.draggable,a=e.draggables,i=e.destination,s=e.insideDestination,o=e.previousImpact,c=e.viewport,u=e.afterCritical,f=o.at;if(f||P(),f.type==="REORDER"){var p=Rd({isMovingForward:t,isInHomeList:r,location:f.destination,insideDestination:s});return p==null?null:gr({draggable:n,insideDestination:s,destination:i,viewport:c,last:o.displaced,displacedBy:o.displacedBy,index:p})}var d=jd({isMovingForward:t,destination:i,displaced:o.displaced,draggables:a,combine:f.combine,afterCritical:u});return d==null?null:gr({draggable:n,insideDestination:s,destination:i,viewport:c,last:o.displaced,displacedBy:o.displacedBy,index:d})},kd=function(e){var t=e.displaced,r=e.afterCritical,n=e.combineWith,a=e.displacedBy,i=!!(t.visible[n]||t.invisible[n]);return lt(n,r)?i?Pe:St(a.point):i?a.point:Pe},Ad=function(e){var t=e.afterCritical,r=e.impact,n=e.draggables,a=Cr(r);a||P();var i=a.draggableId,s=n[i].page.borderBox.center,o=kd({displaced:r.displaced,afterCritical:t,combineWith:i,displacedBy:r.displacedBy});return Me(s,o)},Pi=function(t,r){return r.margin[t.start]+r.borderBox[t.size]/2},Bd=function(t,r){return r.margin[t.end]+r.borderBox[t.size]/2},Dn=function(t,r,n){return r[t.crossAxisStart]+n.margin[t.crossAxisStart]+n.borderBox[t.crossAxisSize]/2},wa=function(t){var r=t.axis,n=t.moveRelativeTo,a=t.isMoving;return gt(r.line,n.marginBox[r.end]+Pi(r,a),Dn(r,n.marginBox,a))},Da=function(t){var r=t.axis,n=t.moveRelativeTo,a=t.isMoving;return gt(r.line,n.marginBox[r.start]-Bd(r,a),Dn(r,n.marginBox,a))},Ld=function(t){var r=t.axis,n=t.moveInto,a=t.isMoving;return gt(r.line,n.contentBox[r.start]+Pi(r,a),Dn(r,n.contentBox,a))},Fd=function(e){var t=e.impact,r=e.draggable,n=e.draggables,a=e.droppable,i=e.afterCritical,s=It(a.descriptor.id,n),o=r.page,c=a.axis;if(!s.length)return Ld({axis:c,moveInto:a.page,isMoving:o});var u=t.displaced,f=t.displacedBy,p=u.all[0];if(p){var d=n[p];if(lt(p,i))return Da({axis:c,moveRelativeTo:d.page,isMoving:o});var g=cr(d.page,f.point);return Da({axis:c,moveRelativeTo:g,isMoving:o})}var v=s[s.length-1];if(v.descriptor.id===r.descriptor.id)return o.borderBox.center;if(lt(v.descriptor.id,i)){var h=cr(v.page,St(i.displacedBy.point));return wa({axis:c,moveRelativeTo:h,isMoving:o})}return wa({axis:c,moveRelativeTo:v.page,isMoving:o})},Qr=function(e,t){var r=e.frame;return r?Me(t,r.scroll.diff.displacement):t},$d=function(t){var r=t.impact,n=t.draggable,a=t.droppable,i=t.draggables,s=t.afterCritical,o=n.page.borderBox.center,c=r.at;return!a||!c?o:c.type==="REORDER"?Fd({impact:r,draggable:n,draggables:i,droppable:a,afterCritical:s}):Ad({impact:r,draggables:i,afterCritical:s})},Ir=function(e){var t=$d(e),r=e.droppable,n=r?Qr(r,t):t;return n},Oi=function(e,t){var r=Ve(t,e.scroll.initial),n=St(r),a=rt({top:t.y,bottom:t.y+e.frame.height,left:t.x,right:t.x+e.frame.width}),i={frame:a,scroll:{initial:e.scroll.initial,max:e.scroll.max,current:t,diff:{value:r,displacement:n}}};return i};function Ca(e,t){return e.map(function(r){return t[r]})}function zd(e,t){for(var r=0;r<t.length;r++){var n=t[r].visible[e];if(n)return n}return null}var Hd=function(e){var t=e.impact,r=e.viewport,n=e.destination,a=e.draggables,i=e.maxScrollChange,s=Oi(r,Me(r.scroll.current,i)),o=n.frame?mn(n,Me(n.frame.scroll.current,i)):n,c=t.displaced,u=Vt({afterDragging:Ca(c.all,a),destination:n,displacedBy:t.displacedBy,viewport:s.frame,last:c,forceShouldAnimate:!1}),f=Vt({afterDragging:Ca(c.all,a),destination:o,displacedBy:t.displacedBy,viewport:r.frame,last:c,forceShouldAnimate:!1}),p={},d={},g=[c,u,f];c.all.forEach(function(h){var b=zd(h,g);if(b){d[h]=b;return}p[h]=!0});var v=W({},t,{displaced:{all:c.all,invisible:p,visible:d}});return v},Gd=function(e,t){return Me(e.scroll.diff.displacement,t)},Cn=function(e){var t=e.pageBorderBoxCenter,r=e.draggable,n=e.viewport,a=Gd(n,t),i=Ve(a,r.page.borderBox.center);return Me(r.client.borderBox.center,i)},Ti=function(e){var t=e.draggable,r=e.destination,n=e.newPageBorderBoxCenter,a=e.viewport,i=e.withDroppableDisplacement,s=e.onlyOnMainAxis,o=s===void 0?!1:s,c=Ve(n,t.page.borderBox.center),u=Xt(t.page.borderBox,c),f={target:u,destination:r,withDroppableDisplacement:i,viewport:a};return o?Ed(f):Ei(f)},Wd=function(e){var t=e.isMovingForward,r=e.draggable,n=e.destination,a=e.draggables,i=e.previousImpact,s=e.viewport,o=e.previousPageBorderBoxCenter,c=e.previousClientSelection,u=e.afterCritical;if(!n.isEnabled)return null;var f=It(n.descriptor.id,a),p=Nt(r,n),d=xd({isMovingForward:t,draggable:r,destination:n,insideDestination:f,previousImpact:i})||Md({isMovingForward:t,isInHomeList:p,draggable:r,draggables:a,destination:n,insideDestination:f,previousImpact:i,viewport:s,afterCritical:u});if(!d)return null;var g=Ir({impact:d,draggable:r,droppable:n,draggables:a,afterCritical:u}),v=Ti({draggable:r,destination:n,newPageBorderBoxCenter:g,viewport:s.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});if(v){var h=Cn({pageBorderBoxCenter:g,draggable:r,viewport:s});return{clientSelection:h,impact:d,scrollJumpRequest:null}}var b=Ve(g,o),m=Hd({impact:d,viewport:s,destination:n,draggables:a,maxScrollChange:b});return{clientSelection:c,impact:m,scrollJumpRequest:b}},ze=function(t){var r=t.subject.active;return r||P(),r},qd=function(e){var t=e.isMovingForward,r=e.pageBorderBoxCenter,n=e.source,a=e.droppables,i=e.viewport,s=n.subject.active;if(!s)return null;var o=n.axis,c=tt(s[o.start],s[o.end]),u=Dr(a).filter(function(p){return p!==n}).filter(function(p){return p.isEnabled}).filter(function(p){return!!p.subject.active}).filter(function(p){return Ii(i.frame)(ze(p))}).filter(function(p){var d=ze(p);return t?s[o.crossAxisEnd]<d[o.crossAxisEnd]:d[o.crossAxisStart]<s[o.crossAxisStart]}).filter(function(p){var d=ze(p),g=tt(d[o.start],d[o.end]);return c(d[o.start])||c(d[o.end])||g(s[o.start])||g(s[o.end])}).sort(function(p,d){var g=ze(p)[o.crossAxisStart],v=ze(d)[o.crossAxisStart];return t?g-v:v-g}).filter(function(p,d,g){return ze(p)[o.crossAxisStart]===ze(g[0])[o.crossAxisStart]});if(!u.length)return null;if(u.length===1)return u[0];var f=u.filter(function(p){var d=tt(ze(p)[o.start],ze(p)[o.end]);return d(r[o.line])});return f.length===1?f[0]:f.length>1?f.sort(function(p,d){return ze(p)[o.start]-ze(d)[o.start]})[0]:u.sort(function(p,d){var g=ba(r,xa(ze(p))),v=ba(r,xa(ze(d)));return g!==v?g-v:ze(p)[o.start]-ze(d)[o.start]})[0]},Sa=function(t,r){var n=t.page.borderBox.center;return lt(t.descriptor.id,r)?Ve(n,r.displacedBy.point):n},Ud=function(t,r){var n=t.page.borderBox;return lt(t.descriptor.id,r)?Xt(n,St(r.displacedBy.point)):n},Vd=function(e){var t=e.pageBorderBoxCenter,r=e.viewport,n=e.destination,a=e.insideDestination,i=e.afterCritical,s=a.filter(function(o){return Ei({target:Ud(o,i),destination:n,viewport:r.frame,withDroppableDisplacement:!0})}).sort(function(o,c){var u=qt(t,Qr(n,Sa(o,i))),f=qt(t,Qr(n,Sa(c,i)));return u<f?-1:f<u?1:o.descriptor.index-c.descriptor.index});return s[0]||null},_t=Ee(function(t,r){var n=r[t.line];return{value:n,point:gt(t.line,n)}}),Yd=function(t,r,n){var a=t.axis;if(t.descriptor.mode==="virtual")return gt(a.line,r[a.line]);var i=t.subject.page.contentBox[a.size],s=It(t.descriptor.id,n),o=s.reduce(function(f,p){return f+p.client.marginBox[a.size]},0),c=o+r[a.line],u=c-i;return u<=0?null:gt(a.line,u)},ji=function(t,r){return W({},t,{scroll:W({},t.scroll,{max:r})})},Ri=function(t,r,n){var a=t.frame;Nt(r,t)&&P(),t.subject.withPlaceholder&&P();var i=_t(t.axis,r.displaceBy).point,s=Yd(t,i,n),o={placeholderSize:i,increasedBy:s,oldFrameMaxScroll:t.frame?t.frame.scroll.max:null};if(!a){var c=yt({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:t.frame});return W({},t,{subject:c})}var u=s?Me(a.scroll.max,s):a.scroll.max,f=ji(a,u),p=yt({page:t.subject.page,withPlaceholder:o,axis:t.axis,frame:f});return W({},t,{subject:p,frame:f})},Xd=function(t){var r=t.subject.withPlaceholder;r||P();var n=t.frame;if(!n){var a=yt({page:t.subject.page,axis:t.axis,frame:null,withPlaceholder:null});return W({},t,{subject:a})}var i=r.oldFrameMaxScroll;i||P();var s=ji(n,i),o=yt({page:t.subject.page,axis:t.axis,frame:s,withPlaceholder:null});return W({},t,{subject:o,frame:s})},_d=function(e){var t=e.previousPageBorderBoxCenter,r=e.moveRelativeTo,n=e.insideDestination,a=e.draggable,i=e.draggables,s=e.destination,o=e.viewport,c=e.afterCritical;if(!r){if(n.length)return null;var u={displaced:Ut,displacedBy:Si,at:{type:"REORDER",destination:{droppableId:s.descriptor.id,index:0}}},f=Ir({impact:u,draggable:a,droppable:s,draggables:i,afterCritical:c}),p=Nt(a,s)?s:Ri(s,a,i),d=Ti({draggable:a,destination:p,newPageBorderBoxCenter:f,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0});return d?u:null}var g=t[s.axis.line]<=r.page.borderBox.center[s.axis.line],v=function(){var b=r.descriptor.index;return r.descriptor.id===a.descriptor.id||g?b:b+1}(),h=_t(s.axis,a.displaceBy);return gr({draggable:a,insideDestination:n,destination:s,viewport:o,displacedBy:h,last:Ut,index:v})},Jd=function(e){var t=e.isMovingForward,r=e.previousPageBorderBoxCenter,n=e.draggable,a=e.isOver,i=e.draggables,s=e.droppables,o=e.viewport,c=e.afterCritical,u=qd({isMovingForward:t,pageBorderBoxCenter:r,source:a,droppables:s,viewport:o});if(!u)return null;var f=It(u.descriptor.id,i),p=Vd({pageBorderBoxCenter:r,viewport:o,destination:u,insideDestination:f,afterCritical:c}),d=_d({previousPageBorderBoxCenter:r,destination:u,draggable:n,draggables:i,moveRelativeTo:p,insideDestination:f,viewport:o,afterCritical:c});if(!d)return null;var g=Ir({impact:d,draggable:n,droppable:u,draggables:i,afterCritical:c}),v=Cn({pageBorderBoxCenter:g,draggable:n,viewport:o});return{clientSelection:v,impact:d,scrollJumpRequest:null}},Ye=function(e){var t=e.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},Kd=function(t,r){var n=Ye(t);return n?r[n]:null},Qd=function(e){var t=e.state,r=e.type,n=Kd(t.impact,t.dimensions.droppables),a=!!n,i=t.dimensions.droppables[t.critical.droppable.id],s=n||i,o=s.axis.direction,c=o==="vertical"&&(r==="MOVE_UP"||r==="MOVE_DOWN")||o==="horizontal"&&(r==="MOVE_LEFT"||r==="MOVE_RIGHT");if(c&&!a)return null;var u=r==="MOVE_DOWN"||r==="MOVE_RIGHT",f=t.dimensions.draggables[t.critical.draggable.id],p=t.current.page.borderBoxCenter,d=t.dimensions,g=d.draggables,v=d.droppables;return c?Wd({isMovingForward:u,previousPageBorderBoxCenter:p,draggable:f,destination:s,draggables:g,viewport:t.viewport,previousClientSelection:t.current.client.selection,previousImpact:t.impact,afterCritical:t.afterCritical}):Jd({isMovingForward:u,previousPageBorderBoxCenter:p,draggable:f,isOver:s,draggables:g,droppables:v,viewport:t.viewport,afterCritical:t.afterCritical})};function pt(e){return e.phase==="DRAGGING"||e.phase==="COLLECTING"}function Mi(e){var t=tt(e.top,e.bottom),r=tt(e.left,e.right);return function(a){return t(a.y)&&r(a.x)}}function Zd(e,t){return e.left<t.right&&e.right>t.left&&e.top<t.bottom&&e.bottom>t.top}function eu(e){var t=e.pageBorderBox,r=e.draggable,n=e.candidates,a=r.page.borderBox.center,i=n.map(function(s){var o=s.axis,c=gt(s.axis.line,t.center[o.line],s.page.borderBox.center[o.crossAxisLine]);return{id:s.descriptor.id,distance:qt(a,c)}}).sort(function(s,o){return o.distance-s.distance});return i[0]?i[0].id:null}function tu(e){var t=e.pageBorderBox,r=e.draggable,n=e.droppables,a=Dr(n).filter(function(i){if(!i.isEnabled)return!1;var s=i.subject.active;if(!s||!Zd(t,s))return!1;if(Mi(s)(t.center))return!0;var o=i.axis,c=s.center[o.crossAxisLine],u=t[o.crossAxisStart],f=t[o.crossAxisEnd],p=tt(s[o.crossAxisStart],s[o.crossAxisEnd]),d=p(u),g=p(f);return!d&&!g?!0:d?u<c:f>c});return a.length?a.length===1?a[0].descriptor.id:eu({pageBorderBox:t,draggable:r,candidates:a}):null}var ki=function(t,r){return rt(Xt(t,r))},ru=function(e,t){var r=e.frame;return r?ki(t,r.scroll.diff.value):t};function Ai(e){var t=e.displaced,r=e.id;return!!(t.visible[r]||t.invisible[r])}function nu(e){var t=e.draggable,r=e.closest,n=e.inHomeList;return r?n&&r.descriptor.index>t.descriptor.index?r.descriptor.index-1:r.descriptor.index:null}var au=function(e){var t=e.pageBorderBoxWithDroppableScroll,r=e.draggable,n=e.destination,a=e.insideDestination,i=e.last,s=e.viewport,o=e.afterCritical,c=n.axis,u=_t(n.axis,r.displaceBy),f=u.value,p=t[c.start],d=t[c.end],g=Sr(r,a),v=ct(g,function(b){var m=b.descriptor.id,D=b.page.borderBox.center[c.line],S=lt(m,o),N=Ai({displaced:i,id:m});return S?N?d<=D:p<D-f:N?d<=D+f:p<D}),h=nu({draggable:r,closest:v,inHomeList:Nt(r,n)});return gr({draggable:r,insideDestination:a,destination:n,viewport:s,last:i,displacedBy:u,index:h})},iu=4,ou=function(e){var t=e.draggable,r=e.pageBorderBoxWithDroppableScroll,n=e.previousImpact,a=e.destination,i=e.insideDestination,s=e.afterCritical;if(!a.isCombineEnabled)return null;var o=a.axis,c=_t(a.axis,t.displaceBy),u=c.value,f=r[o.start],p=r[o.end],d=Sr(t,i),g=ct(d,function(h){var b=h.descriptor.id,m=h.page.borderBox,D=m[o.size],S=D/iu,N=lt(b,s),O=Ai({displaced:n.displaced,id:b});return N?O?p>m[o.start]+S&&p<m[o.end]-S:f>m[o.start]-u+S&&f<m[o.end]-u-S:O?p>m[o.start]+u+S&&p<m[o.end]+u-S:f>m[o.start]+S&&f<m[o.end]-S});if(!g)return null;var v={displacedBy:c,displaced:n.displaced,at:{type:"COMBINE",combine:{draggableId:g.descriptor.id,droppableId:a.descriptor.id}}};return v},Bi=function(e){var t=e.pageOffset,r=e.draggable,n=e.draggables,a=e.droppables,i=e.previousImpact,s=e.viewport,o=e.afterCritical,c=ki(r.page.borderBox,t),u=tu({pageBorderBox:c,draggable:r,droppables:a});if(!u)return yd;var f=a[u],p=It(f.descriptor.id,n),d=ru(f,c);return ou({pageBorderBoxWithDroppableScroll:d,draggable:r,previousImpact:i,destination:f,insideDestination:p,afterCritical:o})||au({pageBorderBoxWithDroppableScroll:d,draggable:r,destination:f,insideDestination:p,last:i.displaced,viewport:s,afterCritical:o})},Sn=function(e,t){var r;return W({},e,(r={},r[t.descriptor.id]=t,r))},su=function(t){var r=t.previousImpact,n=t.impact,a=t.droppables,i=Ye(r),s=Ye(n);if(!i||i===s)return a;var o=a[i];if(!o.subject.withPlaceholder)return a;var c=Xd(o);return Sn(a,c)},lu=function(e){var t=e.draggable,r=e.draggables,n=e.droppables,a=e.previousImpact,i=e.impact,s=su({previousImpact:a,impact:i,droppables:n}),o=Ye(i);if(!o)return s;var c=n[o];if(Nt(t,c)||c.subject.withPlaceholder)return s;var u=Ri(c,t,r);return Sn(s,u)},Ht=function(e){var t=e.state,r=e.clientSelection,n=e.dimensions,a=e.viewport,i=e.impact,s=e.scrollJumpRequest,o=a||t.viewport,c=n||t.dimensions,u=r||t.current.client.selection,f=Ve(u,t.initial.client.selection),p={offset:f,selection:u,borderBoxCenter:Me(t.initial.client.borderBoxCenter,f)},d={selection:Me(p.selection,o.scroll.current),borderBoxCenter:Me(p.borderBoxCenter,o.scroll.current),offset:Me(p.offset,o.scroll.diff.value)},g={client:p,page:d};if(t.phase==="COLLECTING")return W({phase:"COLLECTING"},t,{dimensions:c,viewport:o,current:g});var v=c.draggables[t.critical.draggable.id],h=i||Bi({pageOffset:d.offset,draggable:v,draggables:c.draggables,droppables:c.droppables,previousImpact:t.impact,viewport:o,afterCritical:t.afterCritical}),b=lu({draggable:v,impact:h,previousImpact:t.impact,draggables:c.draggables,droppables:c.droppables}),m=W({},t,{current:g,dimensions:{draggables:c.draggables,droppables:b},impact:h,viewport:o,scrollJumpRequest:s||null,forceShouldAnimate:s?!1:null});return m};function cu(e,t){return e.map(function(r){return t[r]})}var Li=function(e){var t=e.impact,r=e.viewport,n=e.draggables,a=e.destination,i=e.forceShouldAnimate,s=t.displaced,o=cu(s.all,n),c=Vt({afterDragging:o,destination:a,displacedBy:t.displacedBy,viewport:r.frame,forceShouldAnimate:i,last:s});return W({},t,{displaced:c})},Fi=function(e){var t=e.impact,r=e.draggable,n=e.droppable,a=e.draggables,i=e.viewport,s=e.afterCritical,o=Ir({impact:t,draggable:r,draggables:a,droppable:n,afterCritical:s});return Cn({pageBorderBoxCenter:o,draggable:r,viewport:i})},$i=function(e){var t=e.state,r=e.dimensions,n=e.viewport;t.movementMode!=="SNAP"&&P();var a=t.impact,i=n||t.viewport,s=r||t.dimensions,o=s.draggables,c=s.droppables,u=o[t.critical.draggable.id],f=Ye(a);f||P();var p=c[f],d=Li({impact:a,viewport:i,destination:p,draggables:o}),g=Fi({impact:d,draggable:u,droppable:p,draggables:o,viewport:i,afterCritical:t.afterCritical});return Ht({impact:d,clientSelection:g,state:t,dimensions:s,viewport:i})},du=function(e){return{index:e.index,droppableId:e.droppableId}},zi=function(e){var t=e.draggable,r=e.home,n=e.draggables,a=e.viewport,i=_t(r.axis,t.displaceBy),s=It(r.descriptor.id,n),o=s.indexOf(t);o===-1&&P();var c=s.slice(o+1),u=c.reduce(function(g,v){return g[v.descriptor.id]=!0,g},{}),f={inVirtualList:r.descriptor.mode==="virtual",displacedBy:i,effected:u},p=Vt({afterDragging:c,destination:r,displacedBy:i,last:null,viewport:a.frame,forceShouldAnimate:!1}),d={displaced:p,displacedBy:i,at:{type:"REORDER",destination:du(t.descriptor)}};return{impact:d,afterCritical:f}},uu=function(e,t){return{draggables:e.draggables,droppables:Sn(e.droppables,t)}},pu=function(e){var t=e.draggable,r=e.offset,n=e.initialWindowScroll,a=cr(t.client,r),i=dr(a,n),s=W({},t,{placeholder:W({},t.placeholder,{client:a}),client:a,page:i});return s},fu=function(e){var t=e.frame;return t||P(),t},gu=function(e){var t=e.additions,r=e.updatedDroppables,n=e.viewport,a=n.scroll.diff.value;return t.map(function(i){var s=i.descriptor.droppableId,o=r[s],c=fu(o),u=c.scroll.diff.value,f=Me(a,u),p=pu({draggable:i,offset:f,initialWindowScroll:n.scroll.initial});return p})},hu=function(e){var t=e.state,r=e.published,n=r.modified.map(function(S){var N=t.dimensions.droppables[S.droppableId],O=mn(N,S.scroll);return O}),a=W({},t.dimensions.droppables,{},Di(n)),i=Ci(gu({additions:r.additions,updatedDroppables:a,viewport:t.viewport})),s=W({},t.dimensions.draggables,{},i);r.removals.forEach(function(S){delete s[S]});var o={droppables:a,draggables:s},c=Ye(t.impact),u=c?o.droppables[c]:null,f=o.draggables[t.critical.draggable.id],p=o.droppables[t.critical.droppable.id],d=zi({draggable:f,home:p,draggables:s,viewport:t.viewport}),g=d.impact,v=d.afterCritical,h=u&&u.isCombineEnabled?t.impact:g,b=Bi({pageOffset:t.current.page.offset,draggable:o.draggables[t.critical.draggable.id],draggables:o.draggables,droppables:o.droppables,previousImpact:h,viewport:t.viewport,afterCritical:v}),m=W({phase:"DRAGGING"},t,{phase:"DRAGGING",impact:b,onLiftImpact:g,dimensions:o,afterCritical:v,forceShouldAnimate:!1});if(t.phase==="COLLECTING")return m;var D=W({phase:"DROP_PENDING"},m,{phase:"DROP_PENDING",reason:t.reason,isWaiting:!1});return D},Zr=function(t){return t.movementMode==="SNAP"},Fr=function(t,r,n){var a=uu(t.dimensions,r);return!Zr(t)||n?Ht({state:t,dimensions:a}):$i({state:t,dimensions:a})};function $r(e){return e.isDragging&&e.movementMode==="SNAP"?W({phase:"DRAGGING"},e,{scrollJumpRequest:null}):e}var Ia={phase:"IDLE",completed:null,shouldFlush:!1},vu=function(e,t){if(e===void 0&&(e=Ia),t.type==="FLUSH")return W({},Ia,{shouldFlush:!0});if(t.type==="INITIAL_PUBLISH"){e.phase!=="IDLE"&&P();var r=t.payload,n=r.critical,a=r.clientSelection,i=r.viewport,s=r.dimensions,o=r.movementMode,c=s.draggables[n.draggable.id],u=s.droppables[n.droppable.id],f={selection:a,borderBoxCenter:c.client.borderBox.center,offset:Pe},p={client:f,page:{selection:Me(f.selection,i.scroll.initial),borderBoxCenter:Me(f.selection,i.scroll.initial),offset:Me(f.selection,i.scroll.diff.value)}},d=Dr(s.droppables).every(function(Ge){return!Ge.isFixedOnPage}),g=zi({draggable:c,home:u,draggables:s.draggables,viewport:i}),v=g.impact,h=g.afterCritical,b={phase:"DRAGGING",isDragging:!0,critical:n,movementMode:o,dimensions:s,initial:p,current:p,isWindowScrollAllowed:d,impact:v,afterCritical:h,onLiftImpact:v,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null};return b}if(t.type==="COLLECTION_STARTING"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&P();var m=W({phase:"COLLECTING"},e,{phase:"COLLECTING"});return m}if(t.type==="PUBLISH_WHILE_DRAGGING")return e.phase==="COLLECTING"||e.phase==="DROP_PENDING"||P(),hu({state:e,published:t.payload});if(t.type==="MOVE"){if(e.phase==="DROP_PENDING")return e;pt(e)||P();var D=t.payload.client;return ot(D,e.current.client.selection)?e:Ht({state:e,clientSelection:D,impact:Zr(e)?e.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="COLLECTING")return $r(e);pt(e)||P();var S=t.payload,N=S.id,O=S.newScroll,R=e.dimensions.droppables[N];if(!R)return e;var G=mn(R,O);return Fr(e,G,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(e.phase==="DROP_PENDING")return e;pt(e)||P();var K=t.payload,B=K.id,H=K.isEnabled,F=e.dimensions.droppables[B];F||P(),F.isEnabled===H&&P();var ue=W({},F,{isEnabled:H});return Fr(e,ue,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(e.phase==="DROP_PENDING")return e;pt(e)||P();var E=t.payload,Z=E.id,ce=E.isCombineEnabled,M=e.dimensions.droppables[Z];M||P(),M.isCombineEnabled===ce&&P();var fe=W({},M,{isCombineEnabled:ce});return Fr(e,fe,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(e.phase==="DROP_PENDING"||e.phase==="DROP_ANIMATING")return e;pt(e)||P(),e.isWindowScrollAllowed||P();var ve=t.payload.newScroll;if(ot(e.viewport.scroll.current,ve))return $r(e);var Y=Oi(e.viewport,ve);return Zr(e)?$i({state:e,viewport:Y}):Ht({state:e,viewport:Y})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!pt(e))return e;var me=t.payload.maxScroll;if(ot(me,e.viewport.scroll.max))return e;var Oe=W({},e.viewport,{scroll:W({},e.viewport.scroll,{max:me})});return W({phase:"DRAGGING"},e,{viewport:Oe})}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(e.phase==="COLLECTING"||e.phase==="DROP_PENDING")return e;e.phase!=="DRAGGING"&&P();var le=Qd({state:e,type:t.type});return le?Ht({state:e,impact:le.impact,clientSelection:le.clientSelection,scrollJumpRequest:le.scrollJumpRequest}):e}if(t.type==="DROP_PENDING"){var ke=t.payload.reason;e.phase!=="COLLECTING"&&P();var Le=W({phase:"DROP_PENDING"},e,{phase:"DROP_PENDING",isWaiting:!0,reason:ke});return Le}if(t.type==="DROP_ANIMATE"){var xe=t.payload,Ae=xe.completed,De=xe.dropDuration,Fe=xe.newHomeClientOffset;e.phase==="DRAGGING"||e.phase==="DROP_PENDING"||P();var He={phase:"DROP_ANIMATING",completed:Ae,dropDuration:De,newHomeClientOffset:Fe,dimensions:e.dimensions};return He}if(t.type==="DROP_COMPLETE"){var Te=t.payload.completed;return{phase:"IDLE",completed:Te,shouldFlush:!1}}return e},mu=function(t){return{type:"BEFORE_INITIAL_CAPTURE",payload:t}},bu=function(t){return{type:"LIFT",payload:t}},xu=function(t){return{type:"INITIAL_PUBLISH",payload:t}},yu=function(t){return{type:"PUBLISH_WHILE_DRAGGING",payload:t}},wu=function(){return{type:"COLLECTION_STARTING",payload:null}},Du=function(t){return{type:"UPDATE_DROPPABLE_SCROLL",payload:t}},Cu=function(t){return{type:"UPDATE_DROPPABLE_IS_ENABLED",payload:t}},Su=function(t){return{type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:t}},Hi=function(t){return{type:"MOVE",payload:t}},Iu=function(t){return{type:"MOVE_BY_WINDOW_SCROLL",payload:t}},Nu=function(t){return{type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:t}},Eu=function(){return{type:"MOVE_UP",payload:null}},Pu=function(){return{type:"MOVE_DOWN",payload:null}},Ou=function(){return{type:"MOVE_RIGHT",payload:null}},Tu=function(){return{type:"MOVE_LEFT",payload:null}},In=function(){return{type:"FLUSH",payload:null}},ju=function(t){return{type:"DROP_ANIMATE",payload:t}},Nn=function(t){return{type:"DROP_COMPLETE",payload:t}},Gi=function(t){return{type:"DROP",payload:t}},Ru=function(t){return{type:"DROP_PENDING",payload:t}},Wi=function(){return{type:"DROP_ANIMATION_FINISHED",payload:null}},Mu=function(e){return function(t){var r=t.getState,n=t.dispatch;return function(a){return function(i){if(i.type!=="LIFT"){a(i);return}var s=i.payload,o=s.id,c=s.clientSelection,u=s.movementMode,f=r();f.phase==="DROP_ANIMATING"&&n(Nn({completed:f.completed})),r().phase!=="IDLE"&&P(),n(In()),n(mu({draggableId:o,movementMode:u}));var p={shouldPublishImmediately:u==="SNAP"},d={draggableId:o,scrollOptions:p},g=e.startPublishing(d),v=g.critical,h=g.dimensions,b=g.viewport;n(xu({critical:v,dimensions:h,clientSelection:c,movementMode:u,viewport:b}))}}}},ku=function(e){return function(){return function(t){return function(r){r.type==="INITIAL_PUBLISH"&&e.dragging(),r.type==="DROP_ANIMATE"&&e.dropping(r.payload.completed.result.reason),(r.type==="FLUSH"||r.type==="DROP_COMPLETE")&&e.resting(),t(r)}}}},En={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Yt={opacity:{drop:0,combining:.7},scale:{drop:.75}},Pn={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},ut=Pn.outOfTheWay+"s "+En.outOfTheWay,Gt={fluid:"opacity "+ut,snap:"transform "+ut+", opacity "+ut,drop:function(t){var r=t+"s "+En.drop;return"transform "+r+", opacity "+r},outOfTheWay:"transform "+ut,placeholder:"height "+ut+", width "+ut+", margin "+ut},Na=function(t){return ot(t,Pe)?null:"translate("+t.x+"px, "+t.y+"px)"},en={moveTo:Na,drop:function(t,r){var n=Na(t);return n?r?n+" scale("+Yt.scale.drop+")":n:null}},tn=Pn.minDropTime,qi=Pn.maxDropTime,Au=qi-tn,Ea=1500,Bu=.6,Lu=function(e){var t=e.current,r=e.destination,n=e.reason,a=qt(t,r);if(a<=0)return tn;if(a>=Ea)return qi;var i=a/Ea,s=tn+Au*i,o=n==="CANCEL"?s*Bu:s;return Number(o.toFixed(2))},Fu=function(e){var t=e.impact,r=e.draggable,n=e.dimensions,a=e.viewport,i=e.afterCritical,s=n.draggables,o=n.droppables,c=Ye(t),u=c?o[c]:null,f=o[r.descriptor.droppableId],p=Fi({impact:t,draggable:r,draggables:s,afterCritical:i,droppable:u||f,viewport:a}),d=Ve(p,r.client.borderBox.center);return d},$u=function(e){var t=e.draggables,r=e.reason,n=e.lastImpact,a=e.home,i=e.viewport,s=e.onLiftImpact;if(!n.at||r!=="DROP"){var o=Li({draggables:t,impact:s,destination:a,viewport:i,forceShouldAnimate:!0});return{impact:o,didDropInsideDroppable:!1}}if(n.at.type==="REORDER")return{impact:n,didDropInsideDroppable:!0};var c=W({},n,{displaced:Ut});return{impact:c,didDropInsideDroppable:!0}},zu=function(e){var t=e.getState,r=e.dispatch;return function(n){return function(a){if(a.type!=="DROP"){n(a);return}var i=t(),s=a.payload.reason;if(i.phase==="COLLECTING"){r(Ru({reason:s}));return}if(i.phase!=="IDLE"){var o=i.phase==="DROP_PENDING"&&i.isWaiting;o&&P(),i.phase==="DRAGGING"||i.phase==="DROP_PENDING"||P();var c=i.critical,u=i.dimensions,f=u.draggables[i.critical.draggable.id],p=$u({reason:s,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),d=p.impact,g=p.didDropInsideDroppable,v=g?xn(d):null,h=g?Cr(d):null,b={index:c.draggable.index,droppableId:c.droppable.id},m={draggableId:f.descriptor.id,type:f.descriptor.type,source:b,reason:s,mode:i.movementMode,destination:v,combine:h},D=Fu({impact:d,draggable:f,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),S={critical:i.critical,afterCritical:i.afterCritical,result:m,impact:d},N=!ot(i.current.client.offset,D)||!!m.combine;if(!N){r(Nn({completed:S}));return}var O=Lu({current:i.current.client.offset,destination:D,reason:s}),R={newHomeClientOffset:D,dropDuration:O,completed:S};r(ju(R))}}}},Ui=function(){return{x:window.pageXOffset,y:window.pageYOffset}};function Hu(e){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(r){r.target!==window&&r.target!==window.document||e()}}}function Gu(e){var t=e.onWindowScroll;function r(){t(Ui())}var n=Wt(r),a=Hu(n),i=it;function s(){return i!==it}function o(){s()&&P(),i=et(window,[a])}function c(){s()||P(),n.cancel(),i(),i=it}return{start:o,stop:c,isActive:s}}var Wu=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},qu=function(e){var t=Gu({onWindowScroll:function(n){e.dispatch(Iu({newScroll:n}))}});return function(r){return function(n){!t.isActive()&&n.type==="INITIAL_PUBLISH"&&t.start(),t.isActive()&&Wu(n)&&t.stop(),r(n)}}},Uu=function(e){var t=!1,r=!1,n=setTimeout(function(){r=!0}),a=function(s){t||r||(t=!0,e(s),clearTimeout(n))};return a.wasCalled=function(){return t},a},Vu=function(){var e=[],t=function(i){var s=bn(e,function(u){return u.timerId===i});s===-1&&P();var o=e.splice(s,1),c=o[0];c.callback()},r=function(i){var s=setTimeout(function(){return t(s)}),o={timerId:s,callback:i};e.push(o)},n=function(){if(e.length){var i=[].concat(e);e.length=0,i.forEach(function(s){clearTimeout(s.timerId),s.callback()})}};return{add:r,flush:n}},Yu=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.droppableId===r.droppableId&&t.index===r.index},Xu=function(t,r){return t==null&&r==null?!0:t==null||r==null?!1:t.draggableId===r.draggableId&&t.droppableId===r.droppableId},_u=function(t,r){if(t===r)return!0;var n=t.draggable.id===r.draggable.id&&t.draggable.droppableId===r.draggable.droppableId&&t.draggable.type===r.draggable.type&&t.draggable.index===r.draggable.index,a=t.droppable.id===r.droppable.id&&t.droppable.type===r.droppable.type;return n&&a},Lt=function(t,r){r()},Qt=function(t,r){return{draggableId:t.draggable.id,type:t.droppable.type,source:{droppableId:t.droppable.id,index:t.draggable.index},mode:r}},zr=function(t,r,n,a){if(!t){n(a(r));return}var i=Uu(n),s={announce:i};t(r,s),i.wasCalled()||n(a(r))},Ju=function(e,t){var r=Vu(),n=null,a=function(d,g){n&&P(),Lt("onBeforeCapture",function(){var v=e().onBeforeCapture;if(v){var h={draggableId:d,mode:g};v(h)}})},i=function(d,g){n&&P(),Lt("onBeforeDragStart",function(){var v=e().onBeforeDragStart;v&&v(Qt(d,g))})},s=function(d,g){n&&P();var v=Qt(d,g);n={mode:g,lastCritical:d,lastLocation:v.source,lastCombine:null},r.add(function(){Lt("onDragStart",function(){return zr(e().onDragStart,v,t,or.onDragStart)})})},o=function(d,g){var v=xn(g),h=Cr(g);n||P();var b=!_u(d,n.lastCritical);b&&(n.lastCritical=d);var m=!Yu(n.lastLocation,v);m&&(n.lastLocation=v);var D=!Xu(n.lastCombine,h);if(D&&(n.lastCombine=h),!(!b&&!m&&!D)){var S=W({},Qt(d,n.mode),{combine:h,destination:v});r.add(function(){Lt("onDragUpdate",function(){return zr(e().onDragUpdate,S,t,or.onDragUpdate)})})}},c=function(){n||P(),r.flush()},u=function(d){n||P(),n=null,Lt("onDragEnd",function(){return zr(e().onDragEnd,d,t,or.onDragEnd)})},f=function(){if(n){var d=W({},Qt(n.lastCritical,n.mode),{combine:null,destination:null,reason:"CANCEL"});u(d)}};return{beforeCapture:a,beforeStart:i,start:s,update:o,flush:c,drop:u,abort:f}},Ku=function(e,t){var r=Ju(e,t);return function(n){return function(a){return function(i){if(i.type==="BEFORE_INITIAL_CAPTURE"){r.beforeCapture(i.payload.draggableId,i.payload.movementMode);return}if(i.type==="INITIAL_PUBLISH"){var s=i.payload.critical;r.beforeStart(s,i.payload.movementMode),a(i),r.start(s,i.payload.movementMode);return}if(i.type==="DROP_COMPLETE"){var o=i.payload.completed.result;r.flush(),a(i),r.drop(o);return}if(a(i),i.type==="FLUSH"){r.abort();return}var c=n.getState();c.phase==="DRAGGING"&&r.update(c.critical,c.impact)}}}},Qu=function(e){return function(t){return function(r){if(r.type!=="DROP_ANIMATION_FINISHED"){t(r);return}var n=e.getState();n.phase!=="DROP_ANIMATING"&&P(),e.dispatch(Nn({completed:n.completed}))}}},Zu=function(e){var t=null,r=null;function n(){r&&(cancelAnimationFrame(r),r=null),t&&(t(),t=null)}return function(a){return function(i){if((i.type==="FLUSH"||i.type==="DROP_COMPLETE"||i.type==="DROP_ANIMATION_FINISHED")&&n(),a(i),i.type==="DROP_ANIMATE"){var s={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){var c=e.getState();c.phase==="DROP_ANIMATING"&&e.dispatch(Wi())}};r=requestAnimationFrame(function(){r=null,t=et(window,[s])})}}}},ep=function(e){return function(){return function(t){return function(r){(r.type==="DROP_COMPLETE"||r.type==="FLUSH"||r.type==="DROP_ANIMATE")&&e.stopPublishing(),t(r)}}}},tp=function(e){var t=!1;return function(){return function(r){return function(n){if(n.type==="INITIAL_PUBLISH"){t=!0,e.tryRecordFocus(n.payload.critical.draggable.id),r(n),e.tryRestoreFocusRecorded();return}if(r(n),!!t){if(n.type==="FLUSH"){t=!1,e.tryRestoreFocusRecorded();return}if(n.type==="DROP_COMPLETE"){t=!1;var a=n.payload.completed.result;a.combine&&e.tryShiftRecord(a.draggableId,a.combine.draggableId),e.tryRestoreFocusRecorded()}}}}}},rp=function(t){return t.type==="DROP_COMPLETE"||t.type==="DROP_ANIMATE"||t.type==="FLUSH"},np=function(e){return function(t){return function(r){return function(n){if(rp(n)){e.stop(),r(n);return}if(n.type==="INITIAL_PUBLISH"){r(n);var a=t.getState();a.phase!=="DRAGGING"&&P(),e.start(a);return}r(n),e.scroll(t.getState())}}}},ap=function(e){return function(t){return function(r){if(t(r),r.type==="PUBLISH_WHILE_DRAGGING"){var n=e.getState();n.phase==="DROP_PENDING"&&(n.isWaiting||e.dispatch(Gi({reason:n.reason})))}}}},ip=Ja,op=function(e){var t=e.dimensionMarshal,r=e.focusMarshal,n=e.styleMarshal,a=e.getResponders,i=e.announce,s=e.autoScroller;return sn(vu,ip(ws(ku(n),ep(t),Mu(t),zu,Qu,Zu,ap,np(s),qu,tp(r),Ku(a,i))))},Hr=function(){return{additions:{},removals:{},modified:{}}};function sp(e){var t=e.registry,r=e.callbacks,n=Hr(),a=null,i=function(){a||(r.collectionStarting(),a=requestAnimationFrame(function(){a=null;var f=n,p=f.additions,d=f.removals,g=f.modified,v=Object.keys(p).map(function(m){return t.draggable.getById(m).getDimension(Pe)}).sort(function(m,D){return m.descriptor.index-D.descriptor.index}),h=Object.keys(g).map(function(m){var D=t.droppable.getById(m),S=D.callbacks.getScrollWhileDragging();return{droppableId:m,scroll:S}}),b={additions:v,removals:Object.keys(d),modified:h};n=Hr(),r.publish(b)}))},s=function(f){var p=f.descriptor.id;n.additions[p]=f,n.modified[f.descriptor.droppableId]=!0,n.removals[p]&&delete n.removals[p],i()},o=function(f){var p=f.descriptor;n.removals[p.id]=!0,n.modified[p.droppableId]=!0,n.additions[p.id]&&delete n.additions[p.id],i()},c=function(){a&&(cancelAnimationFrame(a),a=null,n=Hr())};return{add:s,remove:o,stop:c}}var Vi=function(e){var t=e.scrollHeight,r=e.scrollWidth,n=e.height,a=e.width,i=Ve({x:r,y:t},{x:a,y:n}),s={x:Math.max(0,i.x),y:Math.max(0,i.y)};return s},Yi=function(){var e=document.documentElement;return e||P(),e},Xi=function(){var e=Yi(),t=Vi({scrollHeight:e.scrollHeight,scrollWidth:e.scrollWidth,width:e.clientWidth,height:e.clientHeight});return t},lp=function(){var e=Ui(),t=Xi(),r=e.y,n=e.x,a=Yi(),i=a.clientWidth,s=a.clientHeight,o=n+i,c=r+s,u=rt({top:r,left:n,right:o,bottom:c}),f={frame:u,scroll:{initial:e,current:e,max:t,diff:{value:Pe,displacement:Pe}}};return f},cp=function(e){var t=e.critical,r=e.scrollOptions,n=e.registry,a=lp(),i=a.scroll.current,s=t.droppable,o=n.droppable.getAllByType(s.type).map(function(p){return p.callbacks.getDimensionAndWatchScroll(i,r)}),c=n.draggable.getAllByType(t.draggable.type).map(function(p){return p.getDimension(i)}),u={draggables:Ci(c),droppables:Di(o)},f={dimensions:u,critical:t,viewport:a};return f};function Pa(e,t,r){if(r.descriptor.id===t.id||r.descriptor.type!==t.type)return!1;var n=e.droppable.getById(r.descriptor.droppableId);return n.descriptor.mode==="virtual"}var dp=function(e,t){var r=null,n=sp({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:e}),a=function(g,v){e.droppable.exists(g)||P(),r&&t.updateDroppableIsEnabled({id:g,isEnabled:v})},i=function(g,v){r&&(e.droppable.exists(g)||P(),t.updateDroppableIsCombineEnabled({id:g,isCombineEnabled:v}))},s=function(g,v){r&&(e.droppable.exists(g)||P(),t.updateDroppableScroll({id:g,newScroll:v}))},o=function(g,v){r&&e.droppable.getById(g).callbacks.scroll(v)},c=function(){if(r){n.stop();var g=r.critical.droppable;e.droppable.getAllByType(g.type).forEach(function(v){return v.callbacks.dragStopped()}),r.unsubscribe(),r=null}},u=function(g){r||P();var v=r.critical.draggable;g.type==="ADDITION"&&Pa(e,v,g.value)&&n.add(g.value),g.type==="REMOVAL"&&Pa(e,v,g.value)&&n.remove(g.value)},f=function(g){r&&P();var v=e.draggable.getById(g.draggableId),h=e.droppable.getById(v.descriptor.droppableId),b={draggable:v.descriptor,droppable:h.descriptor},m=e.subscribe(u);return r={critical:b,unsubscribe:m},cp({critical:b,registry:e,scrollOptions:g.scrollOptions})},p={updateDroppableIsEnabled:a,updateDroppableIsCombineEnabled:i,scrollDroppable:o,updateDroppableScroll:s,startPublishing:f,stopPublishing:c};return p},_i=function(e,t){return e.phase==="IDLE"?!0:e.phase!=="DROP_ANIMATING"||e.completed.result.draggableId===t?!1:e.completed.result.reason==="DROP"},up=function(e){window.scrollBy(e.x,e.y)},pp=Ee(function(e){return Dr(e).filter(function(t){return!(!t.isEnabled||!t.frame)})}),fp=function(t,r){var n=ct(pp(r),function(a){return a.frame||P(),Mi(a.frame.pageMarginBox)(t)});return n},gp=function(e){var t=e.center,r=e.destination,n=e.droppables;if(r){var a=n[r];return a.frame?a:null}var i=fp(t,n);return i},st={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:function(t){return Math.pow(t,2)},durationDampening:{stopDampeningAt:1200,accelerateAt:360}},hp=function(e,t){var r=e[t.size]*st.startFromPercentage,n=e[t.size]*st.maxScrollAtPercentage,a={startScrollingFrom:r,maxScrollValueAt:n};return a},Ji=function(e){var t=e.startOfRange,r=e.endOfRange,n=e.current,a=r-t;if(a===0)return 0;var i=n-t,s=i/a;return s},On=1,vp=function(e,t){if(e>t.startScrollingFrom)return 0;if(e<=t.maxScrollValueAt)return st.maxPixelScroll;if(e===t.startScrollingFrom)return On;var r=Ji({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:e}),n=1-r,a=st.maxPixelScroll*st.ease(n);return Math.ceil(a)},Oa=st.durationDampening.accelerateAt,Ta=st.durationDampening.stopDampeningAt,mp=function(e,t){var r=t,n=Ta,a=Date.now(),i=a-r;if(i>=Ta)return e;if(i<Oa)return On;var s=Ji({startOfRange:Oa,endOfRange:n,current:i}),o=e*st.ease(s);return Math.ceil(o)},ja=function(e){var t=e.distanceToEdge,r=e.thresholds,n=e.dragStartTime,a=e.shouldUseTimeDampening,i=vp(t,r);return i===0?0:a?Math.max(mp(i,n),On):i},Ra=function(e){var t=e.container,r=e.distanceToEdges,n=e.dragStartTime,a=e.axis,i=e.shouldUseTimeDampening,s=hp(t,a),o=r[a.end]<r[a.start];return o?ja({distanceToEdge:r[a.end],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i}):-1*ja({distanceToEdge:r[a.start],thresholds:s,dragStartTime:n,shouldUseTimeDampening:i})},bp=function(e){var t=e.container,r=e.subject,n=e.proposedScroll,a=r.height>t.height,i=r.width>t.width;return!i&&!a?n:i&&a?null:{x:i?0:n.x,y:a?0:n.y}},xp=yi(function(e){return e===0?0:e}),Ki=function(e){var t=e.dragStartTime,r=e.container,n=e.subject,a=e.center,i=e.shouldUseTimeDampening,s={top:a.y-r.top,right:r.right-a.x,bottom:r.bottom-a.y,left:a.x-r.left},o=Ra({container:r,distanceToEdges:s,dragStartTime:t,axis:yn,shouldUseTimeDampening:i}),c=Ra({container:r,distanceToEdges:s,dragStartTime:t,axis:Ni,shouldUseTimeDampening:i}),u=xp({x:c,y:o});if(ot(u,Pe))return null;var f=bp({container:r,subject:n,proposedScroll:u});return f?ot(f,Pe)?null:f:null},yp=yi(function(e){return e===0?0:e>0?1:-1}),Tn=function(){var e=function(r,n){return r<0?r:r>n?r-n:0};return function(t){var r=t.current,n=t.max,a=t.change,i=Me(r,a),s={x:e(i.x,n.x),y:e(i.y,n.y)};return ot(s,Pe)?null:s}}(),Qi=function(t){var r=t.max,n=t.current,a=t.change,i={x:Math.max(n.x,r.x),y:Math.max(n.y,r.y)},s=yp(a),o=Tn({max:i,current:n,change:s});return!o||s.x!==0&&o.x===0||s.y!==0&&o.y===0},jn=function(t,r){return Qi({current:t.scroll.current,max:t.scroll.max,change:r})},wp=function(t,r){if(!jn(t,r))return null;var n=t.scroll.max,a=t.scroll.current;return Tn({current:a,max:n,change:r})},Rn=function(t,r){var n=t.frame;return n?Qi({current:n.scroll.current,max:n.scroll.max,change:r}):!1},Dp=function(t,r){var n=t.frame;return!n||!Rn(t,r)?null:Tn({current:n.scroll.current,max:n.scroll.max,change:r})},Cp=function(e){var t=e.viewport,r=e.subject,n=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,s=Ki({dragStartTime:a,container:t.frame,subject:r,center:n,shouldUseTimeDampening:i});return s&&jn(t,s)?s:null},Sp=function(e){var t=e.droppable,r=e.subject,n=e.center,a=e.dragStartTime,i=e.shouldUseTimeDampening,s=t.frame;if(!s)return null;var o=Ki({dragStartTime:a,container:s.pageMarginBox,subject:r,center:n,shouldUseTimeDampening:i});return o&&Rn(t,o)?o:null},Ma=function(e){var t=e.state,r=e.dragStartTime,n=e.shouldUseTimeDampening,a=e.scrollWindow,i=e.scrollDroppable,s=t.current.page.borderBoxCenter,o=t.dimensions.draggables[t.critical.draggable.id],c=o.page.marginBox;if(t.isWindowScrollAllowed){var u=t.viewport,f=Cp({dragStartTime:r,viewport:u,subject:c,center:s,shouldUseTimeDampening:n});if(f){a(f);return}}var p=gp({center:s,destination:Ye(t.impact),droppables:t.dimensions.droppables});if(p){var d=Sp({dragStartTime:r,droppable:p,subject:c,center:s,shouldUseTimeDampening:n});d&&i(p.descriptor.id,d)}},Ip=function(e){var t=e.scrollWindow,r=e.scrollDroppable,n=Wt(t),a=Wt(r),i=null,s=function(f){i||P();var p=i,d=p.shouldUseTimeDampening,g=p.dragStartTime;Ma({state:f,scrollWindow:n,scrollDroppable:a,dragStartTime:g,shouldUseTimeDampening:d})},o=function(f){i&&P();var p=Date.now(),d=!1,g=function(){d=!0};Ma({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:g,scrollDroppable:g}),i={dragStartTime:p,shouldUseTimeDampening:d},d&&s(f)},c=function(){i&&(n.cancel(),a.cancel(),i=null)};return{start:o,stop:c,scroll:s}},Np=function(e){var t=e.move,r=e.scrollDroppable,n=e.scrollWindow,a=function(u,f){var p=Me(u.current.client.selection,f);t({client:p})},i=function(u,f){if(!Rn(u,f))return f;var p=Dp(u,f);if(!p)return r(u.descriptor.id,f),null;var d=Ve(f,p);r(u.descriptor.id,d);var g=Ve(f,d);return g},s=function(u,f,p){if(!u||!jn(f,p))return p;var d=wp(f,p);if(!d)return n(p),null;var g=Ve(p,d);n(g);var v=Ve(p,g);return v},o=function(u){var f=u.scrollJumpRequest;if(f){var p=Ye(u.impact);p||P();var d=i(u.dimensions.droppables[p],f);if(d){var g=u.viewport,v=s(u.isWindowScrollAllowed,g,d);v&&a(u,v)}}};return o},Ep=function(e){var t=e.scrollDroppable,r=e.scrollWindow,n=e.move,a=Ip({scrollWindow:r,scrollDroppable:t}),i=Np({move:n,scrollWindow:r,scrollDroppable:t}),s=function(u){if(u.phase==="DRAGGING"){if(u.movementMode==="FLUID"){a.scroll(u);return}u.scrollJumpRequest&&i(u)}},o={scroll:s,start:a.start,stop:a.stop};return o},wt="data-rbd",Dt=function(){var e=wt+"-drag-handle";return{base:e,draggableId:e+"-draggable-id",contextId:e+"-context-id"}}(),rn=function(){var e=wt+"-draggable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),Pp=function(){var e=wt+"-droppable";return{base:e,contextId:e+"-context-id",id:e+"-id"}}(),ka={contextId:wt+"-scroll-container-context-id"},Op=function(t){return function(r){return"["+r+'="'+t+'"]'}},Ft=function(t,r){return t.map(function(n){var a=n.styles[r];return a?n.selector+" { "+a+" }":""}).join(" ")},Tp="pointer-events: none;",jp=function(e){var t=Op(e),r=function(){var o=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Dt.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:o,dragging:Tp,dropAnimating:o}}}(),n=function(){var o=`
      transition: `+Gt.outOfTheWay+`;
    `;return{selector:t(rn.contextId),styles:{dragging:o,dropAnimating:o,userCancel:o}}}(),a={selector:t(Pp.contextId),styles:{always:"overflow-anchor: none;"}},i={selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}},s=[n,r,a,i];return{always:Ft(s,"always"),resting:Ft(s,"resting"),dragging:Ft(s,"dragging"),dropAnimating:Ft(s,"dropAnimating"),userCancel:Ft(s,"userCancel")}},Xe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?y.useLayoutEffect:y.useEffect,Gr=function(){var t=document.querySelector("head");return t||P(),t},Aa=function(t){var r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.type="text/css",r};function Rp(e,t){var r=re(function(){return jp(e)},[e]),n=y.useRef(null),a=y.useRef(null),i=L(Ee(function(p){var d=a.current;d||P(),d.textContent=p}),[]),s=L(function(p){var d=n.current;d||P(),d.textContent=p},[]);Xe(function(){!n.current&&!a.current||P();var p=Aa(t),d=Aa(t);return n.current=p,a.current=d,p.setAttribute(wt+"-always",e),d.setAttribute(wt+"-dynamic",e),Gr().appendChild(p),Gr().appendChild(d),s(r.always),i(r.resting),function(){var g=function(h){var b=h.current;b||P(),Gr().removeChild(b),h.current=null};g(n),g(a)}},[t,s,i,r.always,r.resting,e]);var o=L(function(){return i(r.dragging)},[i,r.dragging]),c=L(function(p){if(p==="DROP"){i(r.dropAnimating);return}i(r.userCancel)},[i,r.dropAnimating,r.userCancel]),u=L(function(){a.current&&i(r.resting)},[i,r.resting]),f=re(function(){return{dragging:o,dropping:c,resting:u}},[o,c,u]);return f}var Zi=function(e){return e&&e.ownerDocument?e.ownerDocument.defaultView:window};function Nr(e){return e instanceof Zi(e).HTMLElement}function Mp(e,t){var r="["+Dt.contextId+'="'+e+'"]',n=wi(document.querySelectorAll(r));if(!n.length)return null;var a=ct(n,function(i){return i.getAttribute(Dt.draggableId)===t});return!a||!Nr(a)?null:a}function kp(e){var t=y.useRef({}),r=y.useRef(null),n=y.useRef(null),a=y.useRef(!1),i=L(function(d,g){var v={id:d,focus:g};return t.current[d]=v,function(){var b=t.current,m=b[d];m!==v&&delete b[d]}},[]),s=L(function(d){var g=Mp(e,d);g&&g!==document.activeElement&&g.focus()},[e]),o=L(function(d,g){r.current===d&&(r.current=g)},[]),c=L(function(){n.current||a.current&&(n.current=requestAnimationFrame(function(){n.current=null;var d=r.current;d&&s(d)}))},[s]),u=L(function(d){r.current=null;var g=document.activeElement;g&&g.getAttribute(Dt.draggableId)===d&&(r.current=d)},[]);Xe(function(){return a.current=!0,function(){a.current=!1;var d=n.current;d&&cancelAnimationFrame(d)}},[]);var f=re(function(){return{register:i,tryRecordFocus:u,tryRestoreFocusRecorded:c,tryShiftRecord:o}},[i,u,c,o]);return f}function Ap(){var e={draggables:{},droppables:{}},t=[];function r(p){return t.push(p),function(){var g=t.indexOf(p);g!==-1&&t.splice(g,1)}}function n(p){t.length&&t.forEach(function(d){return d(p)})}function a(p){return e.draggables[p]||null}function i(p){var d=a(p);return d||P(),d}var s={register:function(d){e.draggables[d.descriptor.id]=d,n({type:"ADDITION",value:d})},update:function(d,g){var v=e.draggables[g.descriptor.id];v&&v.uniqueId===d.uniqueId&&(delete e.draggables[g.descriptor.id],e.draggables[d.descriptor.id]=d)},unregister:function(d){var g=d.descriptor.id,v=a(g);v&&d.uniqueId===v.uniqueId&&(delete e.draggables[g],n({type:"REMOVAL",value:d}))},getById:i,findById:a,exists:function(d){return!!a(d)},getAllByType:function(d){return fr(e.draggables).filter(function(g){return g.descriptor.type===d})}};function o(p){return e.droppables[p]||null}function c(p){var d=o(p);return d||P(),d}var u={register:function(d){e.droppables[d.descriptor.id]=d},unregister:function(d){var g=o(d.descriptor.id);g&&d.uniqueId===g.uniqueId&&delete e.droppables[d.descriptor.id]},getById:c,findById:o,exists:function(d){return!!o(d)},getAllByType:function(d){return fr(e.droppables).filter(function(g){return g.descriptor.type===d})}};function f(){e.draggables={},e.droppables={},t.length=0}return{draggable:s,droppable:u,subscribe:r,clean:f}}function Bp(){var e=re(Ap,[]);return y.useEffect(function(){return function(){requestAnimationFrame(e.clean)}},[e]),e}var Mn=de.createContext(null),hr=function(){var e=document.body;return e||P(),e},Lp={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Fp=function(t){return"rbd-announcement-"+t};function $p(e){var t=re(function(){return Fp(e)},[e]),r=y.useRef(null);y.useEffect(function(){var i=document.createElement("div");return r.current=i,i.id=t,i.setAttribute("aria-live","assertive"),i.setAttribute("aria-atomic","true"),W(i.style,Lp),hr().appendChild(i),function(){setTimeout(function(){var c=hr();c.contains(i)&&c.removeChild(i),i===r.current&&(r.current=null)})}},[t]);var n=L(function(a){var i=r.current;if(i){i.textContent=a;return}},[]);return n}var zp=0,Hp={separator:"::"};function kn(e,t){return t===void 0&&(t=Hp),re(function(){return""+e+t.separator+zp++},[t.separator,e])}function Gp(e){var t=e.contextId,r=e.uniqueId;return"rbd-hidden-text-"+t+"-"+r}function Wp(e){var t=e.contextId,r=e.text,n=kn("hidden-text",{separator:"-"}),a=re(function(){return Gp({contextId:t,uniqueId:n})},[n,t]);return y.useEffect(function(){var s=document.createElement("div");return s.id=a,s.textContent=r,s.style.display="none",hr().appendChild(s),function(){var c=hr();c.contains(s)&&c.removeChild(s)}},[a,r]),a}var Er=de.createContext(null);function eo(e){var t=y.useRef(e);return y.useEffect(function(){t.current=e}),t}function qp(){var e=null;function t(){return!!e}function r(s){return s===e}function n(s){e&&P();var o={abandon:s};return e=o,o}function a(){e||P(),e=null}function i(){e&&(e.abandon(),a())}return{isClaimed:t,isActive:r,claim:n,release:a,tryAbandon:i}}var Up=9,Vp=13,An=27,to=32,Yp=33,Xp=34,_p=35,Jp=36,Kp=37,Qp=38,Zp=39,ef=40,Zt,tf=(Zt={},Zt[Vp]=!0,Zt[Up]=!0,Zt),ro=function(e){tf[e.keyCode]&&e.preventDefault()},Pr=function(){var e="visibilitychange";if(typeof document>"u")return e;var t=[e,"ms"+e,"webkit"+e,"moz"+e,"o"+e],r=ct(t,function(n){return"on"+n in document});return r||e}(),no=0,Ba=5;function rf(e,t){return Math.abs(t.x-e.x)>=Ba||Math.abs(t.y-e.y)>=Ba}var La={type:"IDLE"};function nf(e){var t=e.cancel,r=e.completed,n=e.getPhase,a=e.setPhase;return[{eventName:"mousemove",fn:function(s){var o=s.button,c=s.clientX,u=s.clientY;if(o===no){var f={x:c,y:u},p=n();if(p.type==="DRAGGING"){s.preventDefault(),p.actions.move(f);return}p.type!=="PENDING"&&P();var d=p.point;if(rf(d,f)){s.preventDefault();var g=p.actions.fluidLift(f);a({type:"DRAGGING",actions:g})}}}},{eventName:"mouseup",fn:function(s){var o=n();if(o.type!=="DRAGGING"){t();return}s.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"mousedown",fn:function(s){n().type==="DRAGGING"&&s.preventDefault(),t()}},{eventName:"keydown",fn:function(s){var o=n();if(o.type==="PENDING"){t();return}if(s.keyCode===An){s.preventDefault(),t();return}ro(s)}},{eventName:"resize",fn:t},{eventName:"scroll",options:{passive:!0,capture:!1},fn:function(){n().type==="PENDING"&&t()}},{eventName:"webkitmouseforcedown",fn:function(s){var o=n();if(o.type==="IDLE"&&P(),o.actions.shouldRespectForcePress()){t();return}s.preventDefault()}},{eventName:Pr,fn:t}]}function af(e){var t=y.useRef(La),r=y.useRef(it),n=re(function(){return{eventName:"mousedown",fn:function(p){if(!p.defaultPrevented&&p.button===no&&!(p.ctrlKey||p.metaKey||p.shiftKey||p.altKey)){var d=e.findClosestDraggableId(p);if(d){var g=e.tryGetLock(d,s,{sourceEvent:p});if(g){p.preventDefault();var v={x:p.clientX,y:p.clientY};r.current(),u(g,v)}}}}}},[e]),a=re(function(){return{eventName:"webkitmouseforcewillbegin",fn:function(p){if(!p.defaultPrevented){var d=e.findClosestDraggableId(p);if(d){var g=e.findOptionsForDraggable(d);g&&(g.shouldRespectForcePress||e.canGetLock(d)&&p.preventDefault())}}}}},[e]),i=L(function(){var p={passive:!1,capture:!0};r.current=et(window,[a,n],p)},[a,n]),s=L(function(){var f=t.current;f.type!=="IDLE"&&(t.current=La,r.current(),i())},[i]),o=L(function(){var f=t.current;s(),f.type==="DRAGGING"&&f.actions.cancel({shouldBlockNextClick:!0}),f.type==="PENDING"&&f.actions.abort()},[s]),c=L(function(){var p={capture:!0,passive:!1},d=nf({cancel:o,completed:s,getPhase:function(){return t.current},setPhase:function(v){t.current=v}});r.current=et(window,d,p)},[o,s]),u=L(function(p,d){t.current.type!=="IDLE"&&P(),t.current={type:"PENDING",point:d,actions:p},c()},[c]);Xe(function(){return i(),function(){r.current()}},[i])}var mt;function of(){}var sf=(mt={},mt[Xp]=!0,mt[Yp]=!0,mt[Jp]=!0,mt[_p]=!0,mt);function lf(e,t){function r(){t(),e.cancel()}function n(){t(),e.drop()}return[{eventName:"keydown",fn:function(i){if(i.keyCode===An){i.preventDefault(),r();return}if(i.keyCode===to){i.preventDefault(),n();return}if(i.keyCode===ef){i.preventDefault(),e.moveDown();return}if(i.keyCode===Qp){i.preventDefault(),e.moveUp();return}if(i.keyCode===Zp){i.preventDefault(),e.moveRight();return}if(i.keyCode===Kp){i.preventDefault(),e.moveLeft();return}if(sf[i.keyCode]){i.preventDefault();return}ro(i)}},{eventName:"mousedown",fn:r},{eventName:"mouseup",fn:r},{eventName:"click",fn:r},{eventName:"touchstart",fn:r},{eventName:"resize",fn:r},{eventName:"wheel",fn:r,options:{passive:!0}},{eventName:Pr,fn:r}]}function cf(e){var t=y.useRef(of),r=re(function(){return{eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==to)return;var s=e.findClosestDraggableId(i);if(!s)return;var o=e.tryGetLock(s,f,{sourceEvent:i});if(!o)return;i.preventDefault();var c=!0,u=o.snapLift();t.current();function f(){c||P(),c=!1,t.current(),n()}t.current=et(window,lf(u,f),{capture:!0,passive:!1})}}},[e]),n=L(function(){var i={passive:!1,capture:!0};t.current=et(window,[r],i)},[r]);Xe(function(){return n(),function(){t.current()}},[n])}var Wr={type:"IDLE"},df=120,uf=.15;function pf(e){var t=e.cancel,r=e.getPhase;return[{eventName:"orientationchange",fn:t},{eventName:"resize",fn:t},{eventName:"contextmenu",fn:function(a){a.preventDefault()}},{eventName:"keydown",fn:function(a){if(r().type!=="DRAGGING"){t();return}a.keyCode===An&&a.preventDefault(),t()}},{eventName:Pr,fn:t}]}function ff(e){var t=e.cancel,r=e.completed,n=e.getPhase;return[{eventName:"touchmove",options:{capture:!1},fn:function(i){var s=n();if(s.type!=="DRAGGING"){t();return}s.hasMoved=!0;var o=i.touches[0],c=o.clientX,u=o.clientY,f={x:c,y:u};i.preventDefault(),s.actions.move(f)}},{eventName:"touchend",fn:function(i){var s=n();if(s.type!=="DRAGGING"){t();return}i.preventDefault(),s.actions.drop({shouldBlockNextClick:!0}),r()}},{eventName:"touchcancel",fn:function(i){if(n().type!=="DRAGGING"){t();return}i.preventDefault(),t()}},{eventName:"touchforcechange",fn:function(i){var s=n();s.type==="IDLE"&&P();var o=i.touches[0];if(o){var c=o.force>=uf;if(c){var u=s.actions.shouldRespectForcePress();if(s.type==="PENDING"){u&&t();return}if(u){if(s.hasMoved){i.preventDefault();return}t();return}i.preventDefault()}}}},{eventName:Pr,fn:t}]}function gf(e){var t=y.useRef(Wr),r=y.useRef(it),n=L(function(){return t.current},[]),a=L(function(g){t.current=g},[]),i=re(function(){return{eventName:"touchstart",fn:function(g){if(!g.defaultPrevented){var v=e.findClosestDraggableId(g);if(v){var h=e.tryGetLock(v,o,{sourceEvent:g});if(h){var b=g.touches[0],m=b.clientX,D=b.clientY,S={x:m,y:D};r.current(),p(h,S)}}}}}},[e]),s=L(function(){var g={capture:!0,passive:!1};r.current=et(window,[i],g)},[i]),o=L(function(){var d=t.current;d.type!=="IDLE"&&(d.type==="PENDING"&&clearTimeout(d.longPressTimerId),a(Wr),r.current(),s())},[s,a]),c=L(function(){var d=t.current;o(),d.type==="DRAGGING"&&d.actions.cancel({shouldBlockNextClick:!0}),d.type==="PENDING"&&d.actions.abort()},[o]),u=L(function(){var g={capture:!0,passive:!1},v={cancel:c,completed:o,getPhase:n},h=et(window,ff(v),g),b=et(window,pf(v),g);r.current=function(){h(),b()}},[c,n,o]),f=L(function(){var g=n();g.type!=="PENDING"&&P();var v=g.actions.fluidLift(g.point);a({type:"DRAGGING",actions:v,hasMoved:!1})},[n,a]),p=L(function(g,v){n().type!=="IDLE"&&P();var h=setTimeout(f,df);a({type:"PENDING",point:v,actions:g,longPressTimerId:h}),u()},[u,n,a,f]);Xe(function(){return s(),function(){r.current();var v=n();v.type==="PENDING"&&(clearTimeout(v.longPressTimerId),a(Wr))}},[n,s,a]),Xe(function(){var g=et(window,[{eventName:"touchmove",fn:function(){},options:{capture:!1,passive:!1}}]);return g},[])}var hf={input:!0,button:!0,textarea:!0,select:!0,option:!0,optgroup:!0,video:!0,audio:!0};function ao(e,t){if(t==null)return!1;var r=!!hf[t.tagName.toLowerCase()];if(r)return!0;var n=t.getAttribute("contenteditable");return n==="true"||n===""?!0:t===e?!1:ao(e,t.parentElement)}function vf(e,t){var r=t.target;return Nr(r)?ao(e,r):!1}var mf=function(e){return rt(e.getBoundingClientRect()).center};function bf(e){return e instanceof Zi(e).Element}var xf=function(){var e="matches";if(typeof document>"u")return e;var t=[e,"msMatchesSelector","webkitMatchesSelector"],r=ct(t,function(n){return n in Element.prototype});return r||e}();function io(e,t){return e==null?null:e[xf](t)?e:io(e.parentElement,t)}function yf(e,t){return e.closest?e.closest(t):io(e,t)}function wf(e){return"["+Dt.contextId+'="'+e+'"]'}function Df(e,t){var r=t.target;if(!bf(r))return null;var n=wf(e),a=yf(r,n);return!a||!Nr(a)?null:a}function Cf(e,t){var r=Df(e,t);return r?r.getAttribute(Dt.draggableId):null}function Sf(e,t){var r="["+rn.contextId+'="'+e+'"]',n=wi(document.querySelectorAll(r)),a=ct(n,function(i){return i.getAttribute(rn.id)===t});return!a||!Nr(a)?null:a}function If(e){e.preventDefault()}function er(e){var t=e.expected,r=e.phase,n=e.isLockActive;return e.shouldWarn,!(!n()||t!==r)}function oo(e){var t=e.lockAPI,r=e.store,n=e.registry,a=e.draggableId;if(t.isClaimed())return!1;var i=n.draggable.findById(a);return!(!i||!i.options.isEnabled||!_i(r.getState(),a))}function Nf(e){var t=e.lockAPI,r=e.contextId,n=e.store,a=e.registry,i=e.draggableId,s=e.forceSensorStop,o=e.sourceEvent,c=oo({lockAPI:t,store:n,registry:a,draggableId:i});if(!c)return null;var u=a.draggable.getById(i),f=Sf(r,u.descriptor.id);if(!f||o&&!u.options.canDragInteractiveElements&&vf(f,o))return null;var p=t.claim(s||it),d="PRE_DRAG";function g(){return u.options.shouldRespectForcePress}function v(){return t.isActive(p)}function h(R,G){er({expected:R,phase:d,isLockActive:v,shouldWarn:!0})&&n.dispatch(G())}var b=h.bind(null,"DRAGGING");function m(R){function G(){t.release(),d="COMPLETED"}d!=="PRE_DRAG"&&(G(),d!=="PRE_DRAG"&&P()),n.dispatch(bu(R.liftActionArgs)),d="DRAGGING";function K(B,H){if(H===void 0&&(H={shouldBlockNextClick:!1}),R.cleanup(),H.shouldBlockNextClick){var F=et(window,[{eventName:"click",fn:If,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(F)}G(),n.dispatch(Gi({reason:B}))}return W({isActive:function(){return er({expected:"DRAGGING",phase:d,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:g,drop:function(H){return K("DROP",H)},cancel:function(H){return K("CANCEL",H)}},R.actions)}function D(R){var G=Wt(function(B){b(function(){return Hi({client:B})})}),K=m({liftActionArgs:{id:i,clientSelection:R,movementMode:"FLUID"},cleanup:function(){return G.cancel()},actions:{move:G}});return W({},K,{move:G})}function S(){var R={moveUp:function(){return b(Eu)},moveRight:function(){return b(Ou)},moveDown:function(){return b(Pu)},moveLeft:function(){return b(Tu)}};return m({liftActionArgs:{id:i,clientSelection:mf(f),movementMode:"SNAP"},cleanup:it,actions:R})}function N(){var R=er({expected:"PRE_DRAG",phase:d,isLockActive:v,shouldWarn:!0});R&&t.release()}var O={isActive:function(){return er({expected:"PRE_DRAG",phase:d,isLockActive:v,shouldWarn:!1})},shouldRespectForcePress:g,fluidLift:D,snapLift:S,abort:N};return O}var Ef=[af,cf,gf];function Pf(e){var t=e.contextId,r=e.store,n=e.registry,a=e.customSensors,i=e.enableDefaultSensors,s=[].concat(i?Ef:[],a||[]),o=y.useState(function(){return qp()})[0],c=L(function(D,S){D.isDragging&&!S.isDragging&&o.tryAbandon()},[o]);Xe(function(){var D=r.getState(),S=r.subscribe(function(){var N=r.getState();c(D,N),D=N});return S},[o,r,c]),Xe(function(){return o.tryAbandon},[o.tryAbandon]);for(var u=L(function(m){return oo({lockAPI:o,registry:n,store:r,draggableId:m})},[o,n,r]),f=L(function(m,D,S){return Nf({lockAPI:o,registry:n,contextId:t,store:r,draggableId:m,forceSensorStop:D,sourceEvent:S&&S.sourceEvent?S.sourceEvent:null})},[t,o,n,r]),p=L(function(m){return Cf(t,m)},[t]),d=L(function(m){var D=n.draggable.findById(m);return D?D.options:null},[n.draggable]),g=L(function(){o.isClaimed()&&(o.tryAbandon(),r.getState().phase!=="IDLE"&&r.dispatch(In()))},[o,r]),v=L(o.isClaimed,[o]),h=re(function(){return{canGetLock:u,tryGetLock:f,findClosestDraggableId:p,findOptionsForDraggable:d,tryReleaseLock:g,isLockClaimed:v}},[u,f,p,d,g,v]),b=0;b<s.length;b++)s[b](h)}var Of=function(t){return{onBeforeCapture:t.onBeforeCapture,onBeforeDragStart:t.onBeforeDragStart,onDragStart:t.onDragStart,onDragEnd:t.onDragEnd,onDragUpdate:t.onDragUpdate}};function $t(e){return e.current||P(),e.current}function Tf(e){var t=e.contextId,r=e.setCallbacks,n=e.sensors,a=e.nonce,i=e.dragHandleUsageInstructions,s=y.useRef(null),o=eo(e),c=L(function(){return Of(o.current)},[o]),u=$p(t),f=Wp({contextId:t,text:i}),p=Rp(t,a),d=L(function(B){$t(s).dispatch(B)},[]),g=re(function(){return ta({publishWhileDragging:yu,updateDroppableScroll:Du,updateDroppableIsEnabled:Cu,updateDroppableIsCombineEnabled:Su,collectionStarting:wu},d)},[d]),v=Bp(),h=re(function(){return dp(v,g)},[v,g]),b=re(function(){return Ep(W({scrollWindow:up,scrollDroppable:h.scrollDroppable},ta({move:Hi},d)))},[h.scrollDroppable,d]),m=kp(t),D=re(function(){return op({announce:u,autoScroller:b,dimensionMarshal:h,focusMarshal:m,getResponders:c,styleMarshal:p})},[u,b,h,m,c,p]);s.current=D;var S=L(function(){var B=$t(s),H=B.getState();H.phase!=="IDLE"&&B.dispatch(In())},[]),N=L(function(){var B=$t(s).getState();return B.isDragging||B.phase==="DROP_ANIMATING"},[]),O=re(function(){return{isDragging:N,tryAbort:S}},[N,S]);r(O);var R=L(function(B){return _i($t(s).getState(),B)},[]),G=L(function(){return pt($t(s).getState())},[]),K=re(function(){return{marshal:h,focus:m,contextId:t,canLift:R,isMovementAllowed:G,dragHandleUsageInstructionsId:f,registry:v}},[t,h,f,m,R,G,v]);return Pf({contextId:t,store:D,registry:v,customSensors:n,enableDefaultSensors:e.enableDefaultSensors!==!1}),y.useEffect(function(){return S},[S]),de.createElement(Er.Provider,{value:K},de.createElement(xc,{context:Mn,store:D},e.children))}var jf=0;function Rf(){return re(function(){return""+jf++},[])}function Mf(e){var t=Rf(),r=e.dragHandleUsageInstructions||or.dragHandleUsageInstructions;return de.createElement(ld,null,function(n){return de.createElement(Tf,{nonce:e.nonce,contextId:t,setCallbacks:n,dragHandleUsageInstructions:r,enableDefaultSensors:e.enableDefaultSensors,sensors:e.sensors,onBeforeCapture:e.onBeforeCapture,onBeforeDragStart:e.onBeforeDragStart,onDragStart:e.onDragStart,onDragUpdate:e.onDragUpdate,onDragEnd:e.onDragEnd},e.children)})}var so=function(t){return function(r){return t===r}},kf=so("scroll"),Af=so("auto"),Fa=function(t,r){return r(t.overflowX)||r(t.overflowY)},Bf=function(t){var r=window.getComputedStyle(t),n={overflowX:r.overflowX,overflowY:r.overflowY};return Fa(n,kf)||Fa(n,Af)},Lf=function(){return!1},Ff=function e(t){return t==null?null:t===document.body?Lf()?t:null:t===document.documentElement?null:Bf(t)?t:e(t.parentElement)},nn=function(e){return{x:e.scrollLeft,y:e.scrollTop}},$f=function e(t){if(!t)return!1;var r=window.getComputedStyle(t);return r.position==="fixed"?!0:e(t.parentElement)},zf=function(e){var t=Ff(e),r=$f(e);return{closestScrollable:t,isFixedOnPage:r}},Hf=function(e){var t=e.descriptor,r=e.isEnabled,n=e.isCombineEnabled,a=e.isFixedOnPage,i=e.direction,s=e.client,o=e.page,c=e.closest,u=function(){if(!c)return null;var g=c.scrollSize,v=c.client,h=Vi({scrollHeight:g.scrollHeight,scrollWidth:g.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:c.page.marginBox,frameClient:v,scrollSize:g,shouldClipSubject:c.shouldClipSubject,scroll:{initial:c.scroll,current:c.scroll,max:h,diff:{value:Pe,displacement:Pe}}}}(),f=i==="vertical"?yn:Ni,p=yt({page:o,withPlaceholder:null,axis:f,frame:u}),d={descriptor:t,isCombineEnabled:n,isFixedOnPage:a,axis:f,isEnabled:r,client:s,page:o,frame:u,subject:p};return d},Gf=function(t,r){var n=vi(t);if(!r||t!==r)return n;var a=n.paddingBox.top-r.scrollTop,i=n.paddingBox.left-r.scrollLeft,s=a+r.scrollHeight,o=i+r.scrollWidth,c={top:a,right:o,bottom:s,left:i},u=hn(c,n.border),f=vn({borderBox:u,margin:n.margin,border:n.border,padding:n.padding});return f},Wf=function(e){var t=e.ref,r=e.descriptor,n=e.env,a=e.windowScroll,i=e.direction,s=e.isDropDisabled,o=e.isCombineEnabled,c=e.shouldClipSubject,u=n.closestScrollable,f=Gf(t,u),p=dr(f,a),d=function(){if(!u)return null;var v=vi(u),h={scrollHeight:u.scrollHeight,scrollWidth:u.scrollWidth};return{client:v,page:dr(v,a),scroll:nn(u),scrollSize:h,shouldClipSubject:c}}(),g=Hf({descriptor:r,isEnabled:!s,isCombineEnabled:o,isFixedOnPage:n.isFixedOnPage,direction:i,client:f,page:p,closest:d});return g},qf={passive:!1},Uf={passive:!0},$a=function(e){return e.shouldPublishImmediately?qf:Uf};function vr(e){var t=y.useContext(e);return t||P(),t}var tr=function(t){return t&&t.env.closestScrollable||null};function Vf(e){var t=y.useRef(null),r=vr(Er),n=kn("droppable"),a=r.registry,i=r.marshal,s=eo(e),o=re(function(){return{id:e.droppableId,type:e.type,mode:e.mode}},[e.droppableId,e.mode,e.type]),c=y.useRef(o),u=re(function(){return Ee(function(N,O){t.current||P();var R={x:N,y:O};i.updateDroppableScroll(o.id,R)})},[o.id,i]),f=L(function(){var N=t.current;return!N||!N.env.closestScrollable?Pe:nn(N.env.closestScrollable)},[]),p=L(function(){var N=f();u(N.x,N.y)},[f,u]),d=re(function(){return Wt(p)},[p]),g=L(function(){var N=t.current,O=tr(N);N&&O||P();var R=N.scrollOptions;if(R.shouldPublishImmediately){p();return}d()},[d,p]),v=L(function(N,O){t.current&&P();var R=s.current,G=R.getDroppableRef();G||P();var K=zf(G),B={ref:G,descriptor:o,env:K,scrollOptions:O};t.current=B;var H=Wf({ref:G,descriptor:o,env:K,windowScroll:N,direction:R.direction,isDropDisabled:R.isDropDisabled,isCombineEnabled:R.isCombineEnabled,shouldClipSubject:!R.ignoreContainerClipping}),F=K.closestScrollable;return F&&(F.setAttribute(ka.contextId,r.contextId),F.addEventListener("scroll",g,$a(B.scrollOptions))),H},[r.contextId,o,g,s]),h=L(function(){var N=t.current,O=tr(N);return N&&O||P(),nn(O)},[]),b=L(function(){var N=t.current;N||P();var O=tr(N);t.current=null,O&&(d.cancel(),O.removeAttribute(ka.contextId),O.removeEventListener("scroll",g,$a(N.scrollOptions)))},[g,d]),m=L(function(N){var O=t.current;O||P();var R=tr(O);R||P(),R.scrollTop+=N.y,R.scrollLeft+=N.x},[]),D=re(function(){return{getDimensionAndWatchScroll:v,getScrollWhileDragging:h,dragStopped:b,scroll:m}},[b,v,h,m]),S=re(function(){return{uniqueId:n,descriptor:o,callbacks:D}},[D,o,n]);Xe(function(){return c.current=S.descriptor,a.droppable.register(S),function(){t.current&&b(),a.droppable.unregister(S)}},[D,o,b,S,i,a.droppable]),Xe(function(){t.current&&i.updateDroppableIsEnabled(c.current.id,!e.isDropDisabled)},[e.isDropDisabled,i]),Xe(function(){t.current&&i.updateDroppableIsCombineEnabled(c.current.id,e.isCombineEnabled)},[e.isCombineEnabled,i])}function qr(){}var za={width:0,height:0,margin:gd},Yf=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,a=t.animate;return r||a==="close"?za:{height:n.client.borderBox.height,width:n.client.borderBox.width,margin:n.client.margin}},Xf=function(t){var r=t.isAnimatingOpenOnMount,n=t.placeholder,a=t.animate,i=Yf({isAnimatingOpenOnMount:r,placeholder:n,animate:a});return{display:n.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:a!=="none"?Gt.placeholder:null}};function _f(e){var t=y.useRef(null),r=L(function(){t.current&&(clearTimeout(t.current),t.current=null)},[]),n=e.animate,a=e.onTransitionEnd,i=e.onClose,s=e.contextId,o=y.useState(e.animate==="open"),c=o[0],u=o[1];y.useEffect(function(){return c?n!=="open"?(r(),u(!1),qr):t.current?qr:(t.current=setTimeout(function(){t.current=null,u(!1)}),r):qr},[n,c,r]);var f=L(function(d){d.propertyName==="height"&&(a(),n==="close"&&i())},[n,i,a]),p=Xf({isAnimatingOpenOnMount:c,animate:e.animate,placeholder:e.placeholder});return de.createElement(e.placeholder.tagName,{style:p,"data-rbd-placeholder-context-id":s,onTransitionEnd:f,ref:e.innerRef})}var Jf=de.memo(_f),Bn=de.createContext(null),Kf=function(e){si(t,e);function t(){for(var n,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=e.call.apply(e,[this].concat(i))||this,n.state={isVisible:!!n.props.on,data:n.props.on,animate:n.props.shouldAnimate&&n.props.on?"open":"none"},n.onClose=function(){n.state.animate==="close"&&n.setState({isVisible:!1})},n}t.getDerivedStateFromProps=function(a,i){return a.shouldAnimate?a.on?{isVisible:!0,data:a.on,animate:"open"}:i.isVisible?{isVisible:!0,data:i.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!a.on,data:a.on,animate:"none"}};var r=t.prototype;return r.render=function(){if(!this.state.isVisible)return null;var a={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(a)},t}(de.PureComponent),Ha={dragging:5e3,dropAnimating:4500},Qf=function(t,r){return r?Gt.drop(r.duration):t?Gt.snap:Gt.fluid},Zf=function(t,r){return t?r?Yt.opacity.drop:Yt.opacity.combining:null},eg=function(t){return t.forceShouldAnimate!=null?t.forceShouldAnimate:t.mode==="SNAP"};function tg(e){var t=e.dimension,r=t.client,n=e.offset,a=e.combineWith,i=e.dropping,s=!!a,o=eg(e),c=!!i,u=c?en.drop(n,s):en.moveTo(n),f={position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:Qf(o,i),transform:u,opacity:Zf(s,c),zIndex:c?Ha.dropAnimating:Ha.dragging,pointerEvents:"none"};return f}function rg(e){return{transform:en.moveTo(e.offset),transition:e.shouldAnimateDisplacement?null:"none"}}function ng(e){return e.type==="DRAGGING"?tg(e):rg(e)}function ag(e,t,r){r===void 0&&(r=Pe);var n=window.getComputedStyle(t),a=t.getBoundingClientRect(),i=hi(a,n),s=dr(i,r),o={client:i,tagName:t.tagName.toLowerCase(),display:n.display},c={x:i.marginBox.width,y:i.marginBox.height},u={descriptor:e,placeholder:o,displaceBy:c,client:i,page:s};return u}function ig(e){var t=kn("draggable"),r=e.descriptor,n=e.registry,a=e.getDraggableRef,i=e.canDragInteractiveElements,s=e.shouldRespectForcePress,o=e.isEnabled,c=re(function(){return{canDragInteractiveElements:i,shouldRespectForcePress:s,isEnabled:o}},[i,o,s]),u=L(function(g){var v=a();return v||P(),ag(r,v,g)},[r,a]),f=re(function(){return{uniqueId:t,descriptor:r,options:c,getDimension:u}},[r,u,c,t]),p=y.useRef(f),d=y.useRef(!0);Xe(function(){return n.draggable.register(p.current),function(){return n.draggable.unregister(p.current)}},[n.draggable]),Xe(function(){if(d.current){d.current=!1;return}var g=p.current;p.current=f,n.draggable.update(f,g)},[f,n.draggable])}function og(e){e.preventDefault()}function sg(e){var t=y.useRef(null),r=L(function(B){t.current=B},[]),n=L(function(){return t.current},[]),a=vr(Er),i=a.contextId,s=a.dragHandleUsageInstructionsId,o=a.registry,c=vr(Bn),u=c.type,f=c.droppableId,p=re(function(){return{id:e.draggableId,index:e.index,type:u,droppableId:f}},[e.draggableId,e.index,u,f]),d=e.children,g=e.draggableId,v=e.isEnabled,h=e.shouldRespectForcePress,b=e.canDragInteractiveElements,m=e.isClone,D=e.mapped,S=e.dropAnimationFinished;if(!m){var N=re(function(){return{descriptor:p,registry:o,getDraggableRef:n,canDragInteractiveElements:b,shouldRespectForcePress:h,isEnabled:v}},[p,o,n,b,h,v]);ig(N)}var O=re(function(){return v?{tabIndex:0,role:"button","aria-describedby":s,"data-rbd-drag-handle-draggable-id":g,"data-rbd-drag-handle-context-id":i,draggable:!1,onDragStart:og}:null},[i,s,g,v]),R=L(function(B){D.type==="DRAGGING"&&D.dropping&&B.propertyName==="transform"&&S()},[S,D]),G=re(function(){var B=ng(D),H=D.type==="DRAGGING"&&D.dropping?R:null,F={innerRef:r,draggableProps:{"data-rbd-draggable-context-id":i,"data-rbd-draggable-id":g,style:B,onTransitionEnd:H},dragHandleProps:O};return F},[i,O,g,D,R,r]),K=re(function(){return{draggableId:p.id,type:p.type,source:{index:p.index,droppableId:p.droppableId}}},[p.droppableId,p.id,p.index,p.type]);return d(G,D.snapshot,K)}var lo=function(e,t){return e===t},co=function(e){var t=e.combine,r=e.destination;return r?r.droppableId:t?t.droppableId:null},lg=function(t){return t.combine?t.combine.draggableId:null},cg=function(t){return t.at&&t.at.type==="COMBINE"?t.at.combine.draggableId:null};function dg(){var e=Ee(function(a,i){return{x:a,y:i}}),t=Ee(function(a,i,s,o,c){return{isDragging:!0,isClone:i,isDropAnimating:!!c,dropAnimation:c,mode:a,draggingOver:s,combineWith:o,combineTargetFor:null}}),r=Ee(function(a,i,s,o,c,u,f){return{mapped:{type:"DRAGGING",dropping:null,draggingOver:c,combineWith:u,mode:i,offset:a,dimension:s,forceShouldAnimate:f,snapshot:t(i,o,c,u,null)}}}),n=function(i,s){if(i.isDragging){if(i.critical.draggable.id!==s.draggableId)return null;var o=i.current.client.offset,c=i.dimensions.draggables[s.draggableId],u=Ye(i.impact),f=cg(i.impact),p=i.forceShouldAnimate;return r(e(o.x,o.y),i.movementMode,c,s.isClone,u,f,p)}if(i.phase==="DROP_ANIMATING"){var d=i.completed;if(d.result.draggableId!==s.draggableId)return null;var g=s.isClone,v=i.dimensions.draggables[s.draggableId],h=d.result,b=h.mode,m=co(h),D=lg(h),S=i.dropDuration,N={duration:S,curve:En.drop,moveTo:i.newHomeClientOffset,opacity:D?Yt.opacity.drop:null,scale:D?Yt.scale.drop:null};return{mapped:{type:"DRAGGING",offset:i.newHomeClientOffset,dimension:v,dropping:N,draggingOver:m,combineWith:D,mode:b,forceShouldAnimate:null,snapshot:t(b,g,m,D,N)}}}return null};return n}function uo(e){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:e,combineWith:null}}var ug={mapped:{type:"SECONDARY",offset:Pe,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:uo(null)}};function pg(){var e=Ee(function(s,o){return{x:s,y:o}}),t=Ee(uo),r=Ee(function(s,o,c){return o===void 0&&(o=null),{mapped:{type:"SECONDARY",offset:s,combineTargetFor:o,shouldAnimateDisplacement:c,snapshot:t(o)}}}),n=function(o){return o?r(Pe,o,!0):null},a=function(o,c,u,f){var p=u.displaced.visible[o],d=!!(f.inVirtualList&&f.effected[o]),g=Cr(u),v=g&&g.draggableId===o?c:null;if(!p){if(!d)return n(v);if(u.displaced.invisible[o])return null;var h=St(f.displacedBy.point),b=e(h.x,h.y);return r(b,v,!0)}if(d)return n(v);var m=u.displacedBy.point,D=e(m.x,m.y);return r(D,v,p.shouldAnimate)},i=function(o,c){if(o.isDragging)return o.critical.draggable.id===c.draggableId?null:a(c.draggableId,o.critical.draggable.id,o.impact,o.afterCritical);if(o.phase==="DROP_ANIMATING"){var u=o.completed;return u.result.draggableId===c.draggableId?null:a(c.draggableId,u.result.draggableId,u.impact,u.afterCritical)}return null};return i}var fg=function(){var t=dg(),r=pg(),n=function(i,s){return t(i,s)||r(i,s)||ug};return n},gg={dropAnimationFinished:Wi},hg=fi(fg,gg,null,{context:Mn,pure:!0,areStatePropsEqual:lo})(sg);function po(e){var t=vr(Bn),r=t.isUsingCloneFor;return r===e.draggableId&&!e.isClone?null:de.createElement(hg,e)}function vg(e){var t=typeof e.isDragDisabled=="boolean"?!e.isDragDisabled:!0,r=!!e.disableInteractiveElementBlocking,n=!!e.shouldRespectForcePress;return de.createElement(po,W({},e,{isClone:!1,isEnabled:t,canDragInteractiveElements:r,shouldRespectForcePress:n}))}function mg(e){var t=y.useContext(Er);t||P();var r=t.contextId,n=t.isMovementAllowed,a=y.useRef(null),i=y.useRef(null),s=e.children,o=e.droppableId,c=e.type,u=e.mode,f=e.direction,p=e.ignoreContainerClipping,d=e.isDropDisabled,g=e.isCombineEnabled,v=e.snapshot,h=e.useClone,b=e.updateViewportMaxScroll,m=e.getContainerForClone,D=L(function(){return a.current},[]),S=L(function(F){a.current=F},[]);L(function(){return i.current},[]);var N=L(function(F){i.current=F},[]),O=L(function(){n()&&b({maxScroll:Xi()})},[n,b]);Vf({droppableId:o,type:c,mode:u,direction:f,isDropDisabled:d,isCombineEnabled:g,ignoreContainerClipping:p,getDroppableRef:D});var R=de.createElement(Kf,{on:e.placeholder,shouldAnimate:e.shouldAnimatePlaceholder},function(F){var ue=F.onClose,E=F.data,Z=F.animate;return de.createElement(Jf,{placeholder:E,onClose:ue,innerRef:N,animate:Z,contextId:r,onTransitionEnd:O})}),G=re(function(){return{innerRef:S,placeholder:R,droppableProps:{"data-rbd-droppable-id":o,"data-rbd-droppable-context-id":r}}},[r,o,R,S]),K=h?h.dragging.draggableId:null,B=re(function(){return{droppableId:o,type:c,isUsingCloneFor:K}},[o,K,c]);function H(){if(!h)return null;var F=h.dragging,ue=h.render,E=de.createElement(po,{draggableId:F.draggableId,index:F.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},function(Z,ce){return ue(Z,ce,F)});return Io.createPortal(E,m())}return de.createElement(Bn.Provider,{value:B},s(G,v),H())}var Ur=function(t,r){return t===r.droppable.type},Ga=function(t,r){return r.draggables[t.draggable.id]},bg=function(){var t={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},r=W({},t,{shouldAnimatePlaceholder:!1}),n=Ee(function(s){return{draggableId:s.id,type:s.type,source:{index:s.index,droppableId:s.droppableId}}}),a=Ee(function(s,o,c,u,f,p){var d=f.descriptor.id,g=f.descriptor.droppableId===s;if(g){var v=p?{render:p,dragging:n(f.descriptor)}:null,h={isDraggingOver:c,draggingOverWith:c?d:null,draggingFromThisWith:d,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:h,useClone:v}}if(!o)return r;if(!u)return t;var b={isDraggingOver:c,draggingOverWith:d,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:b,useClone:null}}),i=function(o,c){var u=c.droppableId,f=c.type,p=!c.isDropDisabled,d=c.renderClone;if(o.isDragging){var g=o.critical;if(!Ur(f,g))return r;var v=Ga(g,o.dimensions),h=Ye(o.impact)===u;return a(u,p,h,h,v,d)}if(o.phase==="DROP_ANIMATING"){var b=o.completed;if(!Ur(f,b.critical))return r;var m=Ga(b.critical,o.dimensions);return a(u,p,co(b.result)===u,Ye(b.impact)===u,m,d)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){var D=o.completed;if(!Ur(f,D.critical))return r;var S=Ye(D.impact)===u,N=!!(D.impact.at&&D.impact.at.type==="COMBINE"),O=D.critical.droppable.id===u;return S?N?t:r:O?t:r}return r};return i},xg={updateViewportMaxScroll:Nu};function yg(){return document.body||P(),document.body}var wg={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:yg},fo=fi(bg,xg,null,{context:Mn,pure:!0,areStatePropsEqual:lo})(mg);fo.defaultProps=wg;const we=[{id:"hero-fullpage",name:"Hero - Página Completa",description:"Una imagen protagonista que ocupa toda la página",category:"hero",template:"grid-cols-1 grid-rows-1",cells:1,style:{gap:"0px",padding:"0px"},cellStyles:{0:"rounded-lg overflow-hidden shadow-2xl"},maskCategories:[{name:"Editorial",masks:["none","soft-vignette","magazine-crop","editorial-frame"]},{name:"Artístico",masks:["film-grain","vintage-border","polaroid-large"]}]},{id:"hero-split",name:"Hero - División Dramática",description:"Dos imágenes grandes con división vertical elegante",category:"hero",template:"grid-cols-2 grid-rows-1 gap-1",cells:2,style:{gap:"4px"},cellStyles:{0:"rounded-l-lg overflow-hidden shadow-xl",1:"rounded-r-lg overflow-hidden shadow-xl"},maskCategories:[{name:"Minimalista",masks:["none","soft-rounded","subtle-shadow"]}]},{id:"magazine-asymmetric",name:"Magazine - Asimétrico",description:"Layout editorial con jerarquía visual moderna",category:"editorial",template:"grid-cols-5 grid-rows-3 gap-2",cells:4,style:{gap:"6px"},cellStyles:{0:"col-span-3 row-span-2 rounded-lg overflow-hidden shadow-lg",1:"col-span-2 row-span-1 rounded-md overflow-hidden shadow-md",2:"col-span-2 row-span-1 rounded-md overflow-hidden shadow-md",3:"col-span-5 row-span-1 rounded-md overflow-hidden shadow-sm"},maskCategories:[{name:"Editorial",masks:["none","magazine-crop","editorial-frame","soft-vignette"]},{name:"Moderno",masks:["geometric-crop","minimal-frame","clean-border"]}]},{id:"magazine-grid",name:"Magazine - Grid Moderno",description:"Grid uniforme con espaciado editorial elegante",category:"editorial",template:"grid-cols-3 grid-rows-2 gap-3",cells:6,style:{gap:"8px",padding:"4px"},cellStyles:{0:"rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-shadow",1:"rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-shadow",2:"rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-shadow",3:"rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-shadow",4:"rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-shadow",5:"rounded-lg overflow-hidden shadow-md hover:shadow-xl transition-shadow"},maskCategories:[{name:"Uniformes",masks:["none","rounded","soft-rounded","minimal-frame"]}]},{id:"minimal-duo",name:"Minimal - Dúo Elegante",description:"Dos imágenes con mucho espacio blanco",category:"minimal",template:"grid-cols-1 grid-rows-2 gap-8",cells:2,style:{gap:"32px",padding:"24px"},cellStyles:{0:"rounded-xl overflow-hidden shadow-2xl",1:"rounded-xl overflow-hidden shadow-2xl"},maskCategories:[{name:"Limpio",masks:["none","clean-border","minimal-frame","soft-shadow"]}]},{id:"classic-quad",name:"Clásico - Cuadrícula Premium",description:"Cuatro imágenes con estilo editorial premium",category:"classic",template:"grid-cols-2 grid-rows-2 gap-4",cells:4,style:{gap:"12px",padding:"8px"},cellStyles:{0:"rounded-xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-300",1:"rounded-xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-300",2:"rounded-xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-300",3:"rounded-xl overflow-hidden shadow-xl hover:shadow-2xl transition-all duration-300"},maskCategories:[{name:"Premium",masks:["none","rounded","soft-rounded","premium-frame","elegant-border","classic-shadow","editorial-crop"]},{name:"Artístico",masks:["vintage","film-grain","classic-vignette","sepia-tone","black-white-frame","retro-border"]}]},{id:"classic-portrait",name:"Clásico - Retrato Elegante",description:"Layout perfecto para retratos y fotos verticales",category:"classic",template:"grid-cols-3 grid-rows-2 gap-3",cells:3,style:{gap:"10px"},cellStyles:{0:"col-span-2 row-span-2 rounded-2xl overflow-hidden shadow-2xl",1:"col-span-1 row-span-1 rounded-lg overflow-hidden shadow-lg",2:"col-span-1 row-span-1 rounded-lg overflow-hidden shadow-lg"},maskCategories:[{name:"Retrato",masks:["none","portrait-frame","elegant-oval","classic-border"]}]}];function go(e){let t=null;return()=>(t==null&&(t=e()),t)}function Dg(e,t){return e.filter(r=>r!==t)}function Cg(e,t){const r=new Set,n=i=>r.add(i);e.forEach(n),t.forEach(n);const a=[];return r.forEach(i=>a.push(i)),a}class Sg{enter(t){const r=this.entered.length,n=a=>this.isNodeInDocument(a)&&(!a.contains||a.contains(t));return this.entered=Cg(this.entered.filter(n),[t]),r===0&&this.entered.length>0}leave(t){const r=this.entered.length;return this.entered=Dg(this.entered.filter(this.isNodeInDocument),t),r>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class Ig{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const r={};Object.keys(this.config.exposeProperties).forEach(n=>{const a=this.config.exposeProperties[n];a!=null&&(r[n]={value:a(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,r)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,r){return r===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const ho="__NATIVE_FILE__",vo="__NATIVE_URL__",mo="__NATIVE_TEXT__",bo="__NATIVE_HTML__",Wa=Object.freeze(Object.defineProperty({__proto__:null,FILE:ho,HTML:bo,TEXT:mo,URL:vo},Symbol.toStringTag,{value:"Module"}));function Vr(e,t,r){const n=t.reduce((a,i)=>a||e.getData(i),"");return n??r}const an={[ho]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[bo]:{exposeProperties:{html:(e,t)=>Vr(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[vo]:{exposeProperties:{urls:(e,t)=>Vr(e,t,"").split(`
`),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[mo]:{exposeProperties:{text:(e,t)=>Vr(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function Ng(e,t){const r=an[e];if(!r)throw new Error(`native type ${e} has no configuration`);const n=new Ig(r);return n.loadDataTransfer(t),n}function Yr(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(an).filter(r=>{const n=an[r];return n!=null&&n.matchesTypes?n.matchesTypes.some(a=>t.indexOf(a)>-1):!1})[0]||null}const Eg=go(()=>/firefox/i.test(navigator.userAgent)),xo=go(()=>!!window.safari);class qa{interpolate(t){const{xs:r,ys:n,c1s:a,c2s:i,c3s:s}=this;let o=r.length-1;if(t===r[o])return n[o];let c=0,u=s.length-1,f;for(;c<=u;){f=Math.floor(.5*(c+u));const g=r[f];if(g<t)c=f+1;else if(g>t)u=f-1;else return n[f]}o=Math.max(0,u);const p=t-r[o],d=p*p;return n[o]+a[o]*p+i[o]*d+s[o]*p*d}constructor(t,r){const{length:n}=t,a=[];for(let g=0;g<n;g++)a.push(g);a.sort((g,v)=>t[g]<t[v]?-1:1);const i=[],s=[];let o,c;for(let g=0;g<n-1;g++)o=t[g+1]-t[g],c=r[g+1]-r[g],i.push(o),s.push(c/o);const u=[s[0]];for(let g=0;g<i.length-1;g++){const v=s[g],h=s[g+1];if(v*h<=0)u.push(0);else{o=i[g];const b=i[g+1],m=o+b;u.push(3*m/((m+b)/v+(m+o)/h))}}u.push(s[s.length-1]);const f=[],p=[];let d;for(let g=0;g<u.length-1;g++){d=s[g];const v=u[g],h=1/i[g],b=v+u[g+1]-d-d;f.push((d-v-b)*h),p.push(b*h*h)}this.xs=t,this.ys=r,this.c1s=u,this.c2s=f,this.c3s=p}}const Pg=1;function yo(e){const t=e.nodeType===Pg?e:e.parentElement;if(!t)return null;const{top:r,left:n}=t.getBoundingClientRect();return{x:n,y:r}}function rr(e){return{x:e.clientX,y:e.clientY}}function Og(e){var t;return e.nodeName==="IMG"&&(Eg()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(e)))}function Tg(e,t,r,n){let a=e?t.width:r,i=e?t.height:n;return xo()&&e&&(i/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:i}}function jg(e,t,r,n,a){const i=Og(t),o=yo(i?e:t),c={x:r.x-o.x,y:r.y-o.y},{offsetWidth:u,offsetHeight:f}=e,{anchorX:p,anchorY:d}=n,{dragPreviewWidth:g,dragPreviewHeight:v}=Tg(i,t,u,f),h=()=>{let R=new qa([0,.5,1],[c.y,c.y/f*v,c.y+v-f]).interpolate(d);return xo()&&i&&(R+=(window.devicePixelRatio-1)*v),R},b=()=>new qa([0,.5,1],[c.x,c.x/u*g,c.x+g-u]).interpolate(p),{offsetX:m,offsetY:D}=a,S=m===0||m,N=D===0||D;return{x:S?m:b(),y:N?D:h()}}class Rg{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,r){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=r}}function Mg(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ua(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},n=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable}))),n.forEach(function(a){Mg(e,a,r[a])})}return e}class kg{profile(){var t,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,r,n){return this.sourcePreviewNodeOptions.set(t,n),this.sourcePreviewNodes.set(t,r),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,r,n){this.sourceNodes.set(t,r),this.sourceNodeOptions.set(t,n);const a=s=>this.handleDragStart(s,t),i=s=>this.handleSelectStart(s);return r.setAttribute("draggable","true"),r.addEventListener("dragstart",a),r.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),r.removeEventListener("dragstart",a),r.removeEventListener("selectstart",i),r.setAttribute("draggable","false")}}connectDropTarget(t,r){const n=s=>this.handleDragEnter(s,t),a=s=>this.handleDragOver(s,t),i=s=>this.handleDrop(s,t);return r.addEventListener("dragenter",n),r.addEventListener("dragover",a),r.addEventListener("drop",i),()=>{r.removeEventListener("dragenter",n),r.removeEventListener("dragover",a),r.removeEventListener("drop",i)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(t);return Ua({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(t);return Ua({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(Wa).some(r=>Wa[r]===t)}beginDragNativeItem(t,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=Ng(t,r),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const r=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var n;return(n=this.rootElement)===null||n===void 0?void 0:n.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},r)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,r){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}handleDragEnter(t,r){this.dragEnterTargetIds.unshift(r)}handleDragOver(t,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}handleDrop(t,r){this.dropTargetIds.unshift(r)}constructor(t,r,n){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=a=>{const i=this.sourceNodes.get(a);return i&&yo(i)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=a=>!!(a&&this.document&&this.document.body&&this.document.body.contains(a)),this.endDragIfSourceWasRemovedFromDOM=()=>{const a=this.currentDragSourceNode;a==null||this.isNodeInDocument(a)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=a=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(a||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=a=>{if(a.defaultPrevented)return;const{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;const s=rr(a);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:s});const{dataTransfer:o}=a,c=Yr(o);if(this.monitor.isDragging()){if(o&&typeof o.setDragImage=="function"){const f=this.monitor.getSourceId(),p=this.sourceNodes.get(f),d=this.sourcePreviewNodes.get(f)||p;if(d){const{anchorX:g,anchorY:v,offsetX:h,offsetY:b}=this.getCurrentSourcePreviewNodeOptions(),S=jg(p,d,s,{anchorX:g,anchorY:v},{offsetX:h,offsetY:b});o.setDragImage(d,S.x,S.y)}}try{o==null||o.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(a.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(c)this.beginDragNativeItem(c);else{if(o&&!o.types&&(a.target&&!a.target.hasAttribute||!a.target.hasAttribute("draggable")))return;a.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=a=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(a.dataTransfer)}if(!this.enterLeaveCounter.enter(a.target)||this.monitor.isDragging())return;const{dataTransfer:o}=a,c=Yr(o);c&&this.beginDragNativeItem(c,o)},this.handleTopDragEnter=a=>{const{dragEnterTargetIds:i}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=a.altKey,i.length>0&&this.actions.hover(i,{clientOffset:rr(a)}),i.some(o=>this.monitor.canDropOnTarget(o))&&(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=a=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(a.dataTransfer)}},this.handleTopDragOver=a=>{const{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none");return}this.altKeyPressed=a.altKey,this.lastClientOffset=rr(a),this.scheduleHover(i),(i||[]).some(o=>this.monitor.canDropOnTarget(o))?(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?a.preventDefault():(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=a=>{this.isDraggingNativeItem()&&a.preventDefault(),this.enterLeaveCounter.leave(a.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=a=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;a.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(a.dataTransfer)}else Yr(a.dataTransfer)&&a.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=a=>{const{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:rr(a)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=a=>{const i=a.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(a.preventDefault(),i.dragDrop()))},this.options=new Rg(r,n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new Sg(this.isNodeInDocument)}}const Ag=function(t,r,n){return new kg(t,r,n)},Bg=({elements:e,onReorder:t,onSelect:r,selectedElement:n})=>{const a=i=>{if(!i.destination)return;const s=Array.from(e),[o]=s.splice(i.source.index,1);s.splice(i.destination.index,0,o),t(s)};return l.jsx("div",{className:"bg-white ",children:l.jsx(Mf,{onDragEnd:a,children:l.jsx(fo,{droppableId:"layers",children:i=>l.jsxs("div",{...i.droppableProps,ref:i.innerRef,className:"space-y-2",children:[e.map((s,o)=>l.jsx(vg,{draggableId:s.id,index:o,children:c=>l.jsxs("div",{ref:c.innerRef,...c.draggableProps,className:`flex items-center p-2 rounded cursor-pointer ${n===s.id?"bg-purple-100":"hover:bg-gray-100"}`,onClick:()=>r(s.id),children:[l.jsx("div",{...c.dragHandleProps,className:"mr-2",children:l.jsx(Wo,{size:16})}),s.type==="image"?l.jsx(ar,{size:16,className:"mr-2"}):l.jsx(bt,{size:16,className:"mr-2"}),l.jsx("span",{className:"text-sm truncate",children:s.type==="text"?s.content.substring(0,20):`Imagen ${o+1}`})]})},s.id)),i.placeholder]})})})})};function Lg({id:e,elements:t=[],selectedElement:r,onSelectElement:n,onAddElement:a,onUpdateElement:i,onDeleteElement:s,availableMasks:o=[],workspaceSize:c={width:800,height:600},cellSize:u="auto",cellStyle:f=""}){const[{isOver:p},d]=pc(()=>({accept:["IMAGE_FILE","TEXT_ELEMENT","IMAGE_ELEMENT"],drop:h=>{if(h.files){const b=new FileReader;b.onload=m=>{var D;if((D=m.target)!=null&&D.result){const S={id:`img-${Date.now()}`,type:"image",content:m.target.result,position:{x:.05,y:.05},filters:{brightness:100,contrast:100,saturation:100,tint:0,hue:0,blur:0,scale:1,rotate:0,opacity:100,blendMode:"normal"},mask:"none"};a(S),n(S.id,e)}},b.readAsDataURL(h.files[0])}},collect:h=>({isOver:!!h.isOver({shallow:!0})})})),g=()=>{const h=document.createElement("input");h.type="file",h.accept="image/*",h.onchange=b=>{if(b.target.files&&b.target.files[0]){const m=new FileReader;m.onload=D=>{var S;if((S=D.target)!=null&&S.result){const N={id:`img-${Date.now()}`,type:"image",content:D.target.result,position:{x:.05,y:.05},filters:{brightness:100,contrast:100,saturation:100,tint:0,hue:0,blur:0,scale:1,rotate:0,opacity:100,blendMode:"normal"},mask:"none"};a(N),n(N.id,e)}},m.readAsDataURL(b.target.files[0])}},h.click()},v=t.length>0;return l.jsx("div",{ref:d,className:`relative w-full h-full ${f||"rounded-lg overflow-hidden"} ${p?"ring-2 ring-purple-500 bg-transparent":""} ${v?"bg-transparent":"border-2 border-dashed border-gray-300 bg-transparent hover:border-gray-400 hover:bg-gray-100"}`,onClick:h=>{h.target===h.currentTarget&&n(null,e)},style:{isolation:"isolate",background:v?"transparent":void 0,minHeight:"120px"},children:t.length===0?l.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-2 cursor-pointer transition-colors",onClick:h=>{h.stopPropagation(),g()},children:[l.jsx(To,{className:"h-8 w-8 text-gray-300"}),l.jsx("p",{className:"text-sm text-gray-400",children:"Haz clic o arrastra una imagen"})]}):t.map(h=>l.jsx("div",{className:"absolute inset-0",onClick:b=>b.stopPropagation(),children:h.type==="image"?l.jsx(fc,{element:h,isSelected:r===h.id,onSelect:()=>n(h.id,e),onUpdate:b=>i(h.id,b),onDelete:()=>s(h.id),availableMasks:o,workspaceSize:c}):l.jsx(gc,{element:h,workspaceSize:c,isSelected:r===h.id,onSelect:()=>n(h.id,e),onUpdate:b=>i(h.id,b),onDelete:()=>s(h.id)})},h.id))})}function Fg({currentLayoutId:e,onLayoutChange:t}){const[r,n]=y.useState("all"),a={all:{name:"Todos",layouts:we},hero:{name:"Hero",layouts:we.filter(i=>i.category==="hero")},editorial:{name:"Editorial",layouts:we.filter(i=>i.category==="editorial")},storytelling:{name:"Historia",layouts:we.filter(i=>i.category==="storytelling")},minimal:{name:"Minimal",layouts:we.filter(i=>i.category==="minimal")},creative:{name:"Creativo",layouts:we.filter(i=>i.category==="creative")},classic:{name:"Clásico",layouts:we.filter(i=>i.category==="classic")}};return Object.keys(a).filter(i=>i==="all"||a[i].layouts.length>0),l.jsxs("div",{className:"w-full",children:[l.jsx("div",{className:"grid grid-cols-2  gap-3 overflow-x-hidden custom-scroll",children:a[r].layouts.map(i=>l.jsxs("div",{className:`relative group cursor-pointer transition-all duration-200 
                                 hover:shadow-md hover:scale-102
                        `,onClick:()=>t(i.id),children:[l.jsxs("div",{className:"aspect-square relative bg-white rounded-lg p-2 border border-gray-200",children:[l.jsx("div",{className:`w-full h-full grid ${i.template}`,style:{gap:"2px",padding:"4px"},children:Array.from({length:i.cells}).map((s,o)=>{var c,u;return l.jsx("div",{className:`bg-gradient-to-br from-purple-100 to-purple-200 ${(u=(c=i.cellStyles)==null?void 0:c[o])!=null&&u.includes("rounded")?"rounded":"rounded-sm"}`,style:{minHeight:"8px"}},o)})}),e===i.id&&l.jsx("div",{className:"absolute top-1/2 right-1/2 translate-x-1/2 -translate-y-1/2 w-5 h-5 bg-purple-600 rounded-full flex items-center justify-center",children:l.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]}),l.jsxs("div",{className:"mt-2 text-center",children:[l.jsx("h4",{className:"text-xs font-medium text-gray-900 truncate",children:i.name}),i.description&&l.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:i.description}),l.jsx("div",{className:"flex items-center justify-center mt-1 space-x-2",children:l.jsxs("span",{className:"text-xs text-gray-400",children:[i.cells," ",i.cells===1?"celda":"celdas"]})})]})]},i.id))}),a[r].layouts.length===0&&l.jsx("div",{className:"text-center py-8 text-gray-500",children:l.jsx("p",{children:"No hay layouts disponibles en esta categoría."})})]})}const $g=({filters:e={},onFilterChange:t,selectedElement:r})=>{const[n,a]=y.useState("basic"),[i,s]=y.useState({basic:!0,color:!0,transform:!1,advanced:!1}),o=d=>{s(g=>({...g,[d]:!g[d]}))},c={brightness:100,contrast:100,saturation:100,tint:0,hue:0,blur:0,scale:1,rotate:0,opacity:100,blendMode:"normal",flipHorizontal:!1,flipVertical:!1,...e},u=(d,g)=>{const v={...c,[d]:g};t(v)},f=()=>{t({brightness:100,contrast:100,saturation:100,tint:0,hue:0,blur:0,scale:1,rotate:0,opacity:100,blendMode:"normal",flipHorizontal:!1,flipVertical:!1})},p=[{id:"basic",label:"Básico",icon:ds},...(r==null?void 0:r.type)==="image"?[{id:"presets",label:"Presets",icon:Va}]:[],{id:"advanced",label:"Avanzado",icon:cs}];return y.useEffect(()=>{n==="presets"&&(r==null?void 0:r.type)!=="image"&&a("basic")},[r==null?void 0:r.type,n]),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"grid grid-cols-1 gap-1 bg-gray-100 rounded-lg p-1",children:p.map(d=>{const g=d.icon;return l.jsxs("button",{onClick:()=>a(d.id),className:`flex items-center gap-2 py-2 px-3 rounded-md text-xs font-medium transition-colors ${n===d.id?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[l.jsx(g,{className:"h-3.5 w-3.5"}),d.label]},d.id)})}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("div",{className:"flex flex-col",children:l.jsxs("span",{className:"text-xs font-medium text-gray-700",children:[n==="basic"&&"Básico",n==="presets"&&"Presets",n==="advanced"&&"Avanzado"]})}),l.jsx(Ke,{variant:"ghost",size:"sm",onClick:f,className:"text-xs h-6 px-2",icon:l.jsx(Xa,{className:"h-3 w-3"}),children:"Reset"})]}),l.jsxs("div",{className:"space-y-3",children:[n==="basic"&&l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Ajustes básicos"}),l.jsx("button",{onClick:()=>o("basic"),className:"text-gray-400 hover:text-gray-600",children:i.basic?l.jsx(Tr,{className:"h-3 w-3"}):l.jsx(nr,{className:"h-3 w-3"})})]}),i.basic&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Qe,{label:"Brillo",value:c.brightness,onChange:d=>u("brightness",d),min:0,max:200,step:1,unit:"%"}),l.jsx(Qe,{label:"Contraste",value:c.contrast,onChange:d=>u("contrast",d),min:0,max:200,step:1,unit:"%"}),l.jsx(Qe,{label:"Saturación",value:c.saturation,onChange:d=>u("saturation",d),min:0,max:200,step:1,unit:"%"}),l.jsx(Qe,{label:"Opacidad",value:c.opacity,onChange:d=>u("opacity",d),min:0,max:100,step:1,unit:"%"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Color"}),l.jsx("button",{onClick:()=>o("color"),className:"text-gray-400 hover:text-gray-600",children:i.color?l.jsx(Tr,{className:"h-3 w-3"}):l.jsx(nr,{className:"h-3 w-3"})})]}),i.color&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Qe,{label:"Matiz",value:c.hue,onChange:d=>u("hue",d),min:-180,max:180,step:1,unit:"°"}),l.jsx(Qe,{label:"Tinte sepia",value:c.tint,onChange:d=>u("tint",d),min:0,max:100,step:1,unit:"%"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs font-medium text-gray-700",children:"Transformar"}),l.jsx("button",{onClick:()=>o("transform"),className:"text-gray-400 hover:text-gray-600",children:i.transform?l.jsx(Tr,{className:"h-3 w-3"}):l.jsx(nr,{className:"h-3 w-3"})})]}),i.transform&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Qe,{label:"Escala",value:c.scale,onChange:d=>u("scale",d),min:.1,max:3,step:.1,unit:"x"}),l.jsx(Qe,{label:"Rotación",value:c.rotate,onChange:d=>u("rotate",d),min:-180,max:180,step:1,unit:"°"}),l.jsx(Qe,{label:"Desenfoque",value:c.blur,onChange:d=>u("blur",d),min:0,max:20,step:.5,unit:"px"}),l.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[l.jsx(Ke,{variant:c.flipHorizontal?"default":"outline",size:"sm",onClick:()=>u("flipHorizontal",!c.flipHorizontal),className:"text-xs h-7",children:"Voltear H"}),l.jsx(Ke,{variant:c.flipVertical?"default":"outline",size:"sm",onClick:()=>u("flipVertical",!c.flipVertical),className:"text-xs h-7",children:"Voltear V"})]})]})]})]}),n==="presets"&&l.jsx(bs,{onSelectPreset:d=>{t({...c,...d})},selectedImage:r||null}),n==="advanced"&&l.jsx(xs,{filters:c,onFilterChange:t,selectedElement:r})]})]})},zg=({selectedMask:e,onSelect:t,availableMasks:r=[],selectedImage:n})=>{var o,c;const[a,i]=y.useState("Básicas"),s={};return xt.forEach(u=>{s[u.category]||(s[u.category]=[]),(r.includes(u.id)||u.id==="none")&&s[u.category].push(u)}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"grid grid-cols-2 gap-1 bg-gray-100 p-1 rounded-lg",children:Object.keys(s).slice(0,2).map(u=>s[u].length>0&&l.jsx("button",{onClick:()=>i(u),className:`py-1.5 px-2 text-xs rounded-md transition font-medium ${a===u?"bg-white text-purple-700 shadow-sm":"text-gray-600 hover:text-purple-600"}`,children:u},u))}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:(o=s[a])==null?void 0:o.slice(0,6).map(u=>l.jsxs("div",{onClick:()=>t(u.id),className:`cursor-pointer border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-all ${e===u.id?"ring-2 ring-purple-500 border-purple-300":"border-gray-200"}`,children:[l.jsx("div",{className:"aspect-square bg-white flex items-center justify-center p-1",children:n!=null&&n.content?l.jsx("img",{src:n.content,alt:u.name,className:`w-full h-full object-cover ${u.class}`}):l.jsx("div",{className:`w-full h-full bg-gray-200 ${u.class}`})}),l.jsx("p",{className:"text-center text-[10px] text-gray-700 p-1 truncate",children:u.name})]},u.id))}),((c=s[a])==null?void 0:c.length)>6&&l.jsxs("button",{className:"w-full py-2 text-xs text-purple-600 hover:text-purple-700 border border-purple-200 rounded-lg hover:bg-purple-50 transition",children:["Ver más máscaras (",s[a].length-6," más)"]})]})},Hg=[{name:"Arial",value:"Arial"},{name:"Times New Roman",value:"'Times New Roman'"},{name:"Helvetica",value:"Helvetica"},{name:"Courier New",value:"'Courier New'"},{name:"Georgia",value:"Georgia"},{name:"Verdana",value:"Verdana"},{name:"Impact",value:"Impact"},{name:"Roboto",value:"'Roboto', sans-serif"},{name:"Open Sans",value:"'Open Sans', sans-serif"},{name:"Lato",value:"'Lato', sans-serif"},{name:"Pacifico (Cursiva)",value:"'Pacifico', cursive"},{name:"Lobster (Estilo Poster)",value:"'Lobster', cursive"},{name:"Indie Flower (Manuscrita)",value:"'Indie Flower', cursive"},{name:"Permanent Marker (Rotulador)",value:"'Permanent Marker', cursive"},{name:"Dancing Script (Elegante)",value:"'Dancing Script', cursive"},{name:"Shadows Into Light (Dibujada)",value:"'Shadows Into Light', cursive"},{name:"Amatic SC (Minimalista)",value:"'Amatic SC', cursive"},{name:"Handlee (Natural)",value:"'Handlee', cursive"},{name:"Caveat (Caligráfica)",value:"'Caveat', cursive"},{name:"Kalam (Pincel)",value:"'Kalam', cursive"}],Gg=["8px","9px","10px","11px","12px","14px","16px","18px","20px","22px","24px","28px","32px","36px","42px","48px","64px","72px"],Wg=[{label:"Normal",value:"none"},{label:"MAYÚSCULAS",value:"uppercase"},{label:"minúsculas",value:"lowercase"},{label:"Capitalizado",value:"capitalize"}],qg=[{color:"#000000",name:"Negro"},{color:"#ffffff",name:"Blanco"},{color:"#f43f5e",name:"Rojo"},{color:"#22c55e",name:"Verde"},{color:"#3b82f6",name:"Azul"},{color:"#eab308",name:"Amarillo"},{color:"#06b6d4",name:"Cian"},{color:"#d946ef",name:"Magenta"},{color:"#6b7280",name:"Gris"},{color:"#a855f7",name:"Púrpura"},{color:"#ec4899",name:"Rosa"},{color:"#f97316",name:"Naranja"},{color:"#0f172a",name:"Azul oscuro"},{color:"#7c2d12",name:"Marrón"},{color:"#14532d",name:"Verde oscuro"},{color:"#4c1d95",name:"Violeta"},{color:"#1e293b",name:"Gris oscuro"},{color:"#fef3c7",name:"Crema"}],Ug=[{color:"transparent",name:"Transparente"},{color:"#ffffff",name:"Blanco"},{color:"#f8fafc",name:"Gris claro"},{color:"#f1f5f9",name:"Plata"},{color:"#fef3c7",name:"Crema"},{color:"#ffedd5",name:"Melocotón"},{color:"#fee2e2",name:"Rosa claro"},{color:"#dbeafe",name:"Azul claro"},{color:"#dcfce7",name:"Verde claro"},{color:"#f3e8ff",name:"Lavanda"}],Vg=[{label:"Ninguno",value:"none"},{label:"Sólido",value:"solid"},{label:"Punteado",value:"dotted"},{label:"Discontinuo",value:"dashed"},{label:"Doble",value:"double"},{label:"Acanalado",value:"groove"}],Yg=({element:e,onUpdate:t,onClose:r})=>{var Oe,le,ke,Le,xe,Ae,De,Fe,He,Te,Ge,$e,A,X,pe,he,be,je,ye,I,q,ne,ae,te,Ce,Se,oe,nt,dt,Et,Pt,Ot,Tt,x,w,j,T,k,U,V,Q;const[n,a]=y.useState(!1),[i,s]=y.useState(!1),[o,c]=y.useState(!1),[u,f]=y.useState(!1),[p,d]=y.useState(!1),[g,v]=y.useState(!1),[h,b]=y.useState(!1),[m,D]=y.useState(!1),[S,N]=y.useState("basic"),[O,R]=y.useState(((Oe=e==null?void 0:e.style)==null?void 0:Oe.color)||"#000000"),[G,K]=y.useState(((le=e==null?void 0:e.style)==null?void 0:le.backgroundColor)||"transparent"),B=y.useRef(null),H=y.useRef(null),F=y.useRef(null),ue=y.useRef(null),E=y.useRef(null),Z=y.useRef(null),ce=y.useRef(null);y.useEffect(()=>{function C(z){B.current&&!B.current.contains(z.target)&&a(!1),H.current&&!H.current.contains(z.target)&&s(!1),F.current&&!F.current.contains(z.target)&&f(!1),ue.current&&!ue.current.contains(z.target)&&d(!1),E.current&&!E.current.contains(z.target)&&v(!1),Z.current&&!Z.current.contains(z.target)&&c(!1),ce.current&&!ce.current.contains(z.target)&&b(!1)}return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[]);const M=(C,z)=>{t({style:{...e==null?void 0:e.style,[C]:z}})},fe=(C,z,ie)=>{var $;t({style:{...e==null?void 0:e.style,[C]:(($=e==null?void 0:e.style)==null?void 0:$[C])===z?ie:z}})},ve=(C,z)=>{M(C,z)};if(!e)return null;const Y=({active:C,onClick:z,icon:ie,title:$,className:qe=""})=>l.jsx("button",{type:"button",className:`p-1.5 rounded-sm transition-colors ${C?"bg-gray-200 text-gray-900":"text-gray-700 hover:bg-gray-100"} ${qe}`,onClick:z,title:$,children:ie}),me=({onClick:C,icon:z,text:ie,isOpen:$,title:qe})=>l.jsxs("button",{type:"button",className:`flex items-center gap-1 px-2 py-1.5 rounded-md border ${$?"bg-gray-100 border-gray-300":"border-gray-200 hover:bg-gray-50"}`,onClick:C,title:qe,children:[z&&l.jsx("span",{className:"flex-shrink-0",children:z}),ie&&l.jsx("span",{className:"text-sm truncate",children:ie}),l.jsx(nr,{className:"h-3.5 w-3.5 opacity-70"})]});return l.jsx("div",{className:"  bg-white  rounded-lg shadow-sm px-4  border-gray-200  z-50 transition-all duration-200",children:l.jsxs("div",{className:"w-full ",children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsxs("h3",{className:"text-sm font-medium flex items-center gap-1.5",children:[l.jsx(bt,{className:"h-4 w-4"}),"Formato de texto"]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{className:"p-1 rounded-md hover:bg-gray-100",onClick:()=>D(!m),title:m?"Modo compacto":"Modo expandido",children:m?l.jsx(rs,{className:"h-4 w-4"}):l.jsx(ts,{className:"h-4 w-4"})}),l.jsx("button",{className:"p-1 rounded-md hover:bg-gray-100",onClick:r,title:"Cerrar",children:l.jsx(Ro,{className:"h-4 w-4"})})]})]}),m&&l.jsxs("div",{className:"flex border-b mb-2",children:[l.jsx("button",{className:`px-3 py-1.5 text-sm font-medium ${S==="basic"?"border-b-2 border-primary customtext-primary":"customtext-neutral-dark"}`,onClick:()=>N("basic"),children:"Básico"}),l.jsx("button",{className:`px-3 py-1.5 text-sm font-medium ${S==="paragraph"?"border-b-2 border-primary customtext-primary":"customtext-neutral-dark"}`,onClick:()=>N("paragraph"),children:"Párrafo"}),l.jsx("button",{className:`px-3 py-1.5 text-sm font-medium ${S==="advanced"?"border-b-2 border-primary customtext-primary":"customtext-neutral-dark"}`,onClick:()=>N("advanced"),children:"Avanzado"})]}),(S==="basic"||!m)&&l.jsxs("div",{className:"flex flex-wrap gap-1.5 items-center",children:[l.jsx("div",{className:"relative",ref:F,children:l.jsx("select",{className:"px-2 py-1 border rounded-md text-sm",value:((ke=e.style)==null?void 0:ke.fontFamily)||"Arial",onChange:C=>{M("fontFamily",C.target.value)},children:Hg.map(C=>l.jsx("option",{value:C.value,style:{fontFamily:C.value},children:C.name},C.value))})}),l.jsxs("div",{className:"relative",ref:ue,children:[l.jsx(me,{onClick:()=>d(!p),text:((Le=e.style)==null?void 0:Le.fontSize)||"16px",isOpen:p,title:"Tamaño de fuente"}),p&&l.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-md shadow-lg z-[9999] max-h-60 overflow-y-auto w-24",children:Gg.map(C=>l.jsx("button",{className:"w-full text-left px-3 py-1.5 hover:bg-gray-100 text-sm",onClick:()=>{M("fontSize",C),d(!1)},children:C},C))})]}),l.jsxs("div",{className:"flex items-center gap-0.5 border rounded-md",children:[l.jsx(Y,{active:((xe=e.style)==null?void 0:xe.fontWeight)==="bold",onClick:()=>fe("fontWeight","bold","normal"),icon:l.jsx($o,{className:"h-4 w-4"}),title:"Negrita"}),l.jsx(Y,{active:((Ae=e.style)==null?void 0:Ae.fontStyle)==="italic",onClick:()=>fe("fontStyle","italic","normal"),icon:l.jsx(Ko,{className:"h-4 w-4"}),title:"Cursiva"}),l.jsx(Y,{active:((De=e.style)==null?void 0:De.textDecoration)==="underline",onClick:()=>fe("textDecoration","underline","none"),icon:l.jsx(hs,{className:"h-4 w-4"}),title:"Subrayado"}),l.jsx(Y,{active:((Fe=e.style)==null?void 0:Fe.textDecoration)==="line-through",onClick:()=>fe("textDecoration","line-through","none"),icon:l.jsx(ps,{className:"h-4 w-4"}),title:"Tachado"})]}),l.jsxs("div",{className:"flex items-center gap-0.5 border rounded-md",children:[l.jsx(Y,{active:((He=e.style)==null?void 0:He.textAlign)==="left",onClick:()=>M("textAlign","left"),icon:l.jsx(Lo,{className:"h-4 w-4"}),title:"Alinear a la izquierda"}),l.jsx(Y,{active:((Te=e.style)==null?void 0:Te.textAlign)==="center",onClick:()=>M("textAlign","center"),icon:l.jsx(Ao,{className:"h-4 w-4"}),title:"Centrar"}),l.jsx(Y,{active:((Ge=e.style)==null?void 0:Ge.textAlign)==="right",onClick:()=>M("textAlign","right"),icon:l.jsx(Fo,{className:"h-4 w-4"}),title:"Alinear a la derecha"}),l.jsx(Y,{active:(($e=e.style)==null?void 0:$e.textAlign)==="justify",onClick:()=>M("textAlign","justify"),icon:l.jsx(Bo,{className:"h-4 w-4"}),title:"Justificar"})]}),l.jsxs("div",{className:"relative",ref:B,children:[l.jsxs("button",{className:"flex items-center gap-1 px-2 py-1.5 rounded-md border border-gray-200 hover:bg-gray-50",onClick:()=>a(!n),title:"Color de texto",children:[l.jsx("div",{className:"w-4 h-4 rounded-sm border",style:{backgroundColor:O}}),l.jsx(Va,{className:"h-4 w-4"})]}),n&&l.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-md shadow-lg z-[9999] p-3 w-64",children:l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs font-medium",children:"Color personalizado"}),l.jsx("div",{className:"w-6 h-6 rounded-md border",style:{backgroundColor:O}})]}),l.jsx("input",{type:"color",value:O,onChange:C=>{R(C.target.value),M("color",C.target.value)},className:"w-full h-8 cursor-pointer"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs font-medium mb-1.5",children:"Colores predefinidos"}),l.jsx("div",{className:"grid grid-cols-6 gap-1.5",children:qg.map(C=>l.jsx("button",{type:"button",className:`w-8 h-8 rounded-md cursor-pointer border transition-all hover:scale-110 ${O===C.color?"ring-2 ring-offset-1 ring-blue-500":""}`,style:{backgroundColor:C.color},onClick:()=>{R(C.color),M("color",C.color)},title:C.name},C.color))})]})]})})]}),l.jsxs("div",{className:"relative",ref:H,children:[l.jsxs("button",{className:"flex items-center gap-1 px-2 py-1.5 rounded-md border border-gray-200 hover:bg-gray-50",onClick:()=>s(!i),title:"Color de fondo",children:[l.jsx("div",{className:"w-4 h-4 rounded-sm border",style:{backgroundColor:G,backgroundImage:G==="transparent"?"linear-gradient(45deg, #ccc 25%, transparent 25%, transparent 75%, #ccc 75%, #ccc), linear-gradient(45deg, #ccc 25%, transparent 25%, transparent 75%, #ccc 75%, #ccc)":"none",backgroundSize:"8px 8px",backgroundPosition:"0 0, 4px 4px"}}),l.jsx(ns,{className:"h-4 w-4"})]}),i&&l.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-md shadow-lg z-[9999] p-3 w-64",children:l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs font-medium",children:"Color de fondo personalizado"}),l.jsx("div",{className:"w-6 h-6 rounded-md border",style:{backgroundColor:G,backgroundImage:G==="transparent"?"linear-gradient(45deg, #ccc 25%, transparent 25%, transparent 75%, #ccc 75%, #ccc), linear-gradient(45deg, #ccc 25%, transparent 25%, transparent 75%, #ccc 75%, #ccc)":"none",backgroundSize:"8px 8px",backgroundPosition:"0 0, 4px 4px"}})]}),l.jsx("input",{type:"color",value:G==="transparent"?"#ffffff":G,onChange:C=>{K(C.target.value),M("backgroundColor",C.target.value)},className:"w-full h-8 cursor-pointer"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs font-medium mb-1.5",children:"Fondos predefinidos"}),l.jsx("div",{className:"grid grid-cols-5 gap-1.5",children:Ug.map(C=>l.jsx("button",{type:"button",className:`w-10 h-10 rounded-md cursor-pointer border transition-all hover:scale-110 ${G===C.color?"ring-2 ring-offset-1 ring-blue-500":""}`,style:{backgroundColor:C.color,backgroundImage:C.color==="transparent"?"linear-gradient(45deg, #ccc 25%, transparent 25%, transparent 75%, #ccc 75%, #ccc), linear-gradient(45deg, #ccc 25%, transparent 25%, transparent 75%, #ccc 75%, #ccc)":"none",backgroundSize:"8px 8px",backgroundPosition:"0 0, 4px 4px"},onClick:()=>{K(C.color),M("backgroundColor",C.color)},title:C.name},C.color))})]})]})})]}),l.jsxs("div",{className:"relative",ref:E,children:[l.jsx("button",{className:"flex items-center gap-1 px-2 py-1.5 rounded-md border border-gray-200 hover:bg-gray-50",onClick:()=>v(!g),title:"Transformación de texto",children:l.jsx(zo,{className:"h-4 w-4"})}),g&&l.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-md shadow-lg z-[9999] w-48",children:Wg.map(C=>{var z;return l.jsx("button",{className:`w-full text-left px-3 py-1.5 hover:bg-gray-100 text-sm ${((z=e.style)==null?void 0:z.textTransform)===C.value?"bg-gray-100":""}`,style:{textTransform:C.value},onClick:()=>{M("textTransform",C.value),v(!1)},children:C.label},C.value)})})]}),l.jsxs("div",{className:"relative",ref:ce,children:[l.jsx("button",{className:"flex items-center gap-1 px-2 py-1.5 rounded-md border border-gray-200 hover:bg-gray-50",onClick:()=>b(!h),title:"Encabezados",children:l.jsx(bt,{className:"h-4 w-4"})}),h&&l.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-md shadow-lg z-10 w-48",children:[l.jsxs("button",{className:"w-full text-left px-3 py-1.5 hover:bg-gray-100 text-sm flex items-center gap-2",onClick:()=>{M("fontSize","32px"),M("fontWeight","bold"),b(!1)},children:[l.jsx(qo,{className:"h-4 w-4"})," ","Encabezado 1"]}),l.jsxs("button",{className:"w-full text-left px-3 py-1.5 hover:bg-gray-100 text-sm flex items-center gap-2",onClick:()=>{M("fontSize","24px"),M("fontWeight","bold"),b(!1)},children:[l.jsx(Uo,{className:"h-4 w-4"})," ","Encabezado 2"]}),l.jsxs("button",{className:"w-full text-left px-3 py-1.5 hover:bg-gray-100 text-sm flex items-center gap-2",onClick:()=>{M("fontSize","20px"),M("fontWeight","bold"),b(!1)},children:[l.jsx(Vo,{className:"h-4 w-4"})," ","Encabezado 3"]}),l.jsxs("button",{className:"w-full text-left px-3 py-1.5 hover:bg-gray-100 text-sm flex items-center gap-2",onClick:()=>{M("fontSize","16px"),M("fontWeight","bold"),b(!1)},children:[l.jsx(Yo,{className:"h-4 w-4"})," ","Encabezado 4"]}),l.jsxs("button",{className:"w-full text-left px-3 py-1.5 hover:bg-gray-100 text-sm flex items-center gap-2",onClick:()=>{M("fontSize","16px"),M("fontWeight","normal"),b(!1)},children:[l.jsx(bt,{className:"h-4 w-4"})," Párrafo normal"]})]})]}),l.jsxs("div",{className:"flex items-center gap-0.5 border rounded-md",children:[l.jsx(Y,{active:((A=e.style)==null?void 0:A.verticalAlign)==="super",onClick:()=>fe("verticalAlign","super","baseline"),icon:l.jsx(gs,{className:"h-4 w-4"}),title:"Superíndice"}),l.jsx(Y,{active:((X=e.style)==null?void 0:X.verticalAlign)==="sub",onClick:()=>fe("verticalAlign","sub","baseline"),icon:l.jsx(fs,{className:"h-4 w-4"}),title:"Subíndice"})]})]}),m&&S==="paragraph"&&l.jsxs("div",{className:"flex flex-wrap gap-2 items-center mt-2",children:[l.jsxs("div",{className:"flex items-center gap-0.5 border rounded-md",children:[l.jsx(Y,{active:((pe=e.style)==null?void 0:pe.listStyleType)==="disc",onClick:()=>{var C;return M("listStyleType",((C=e.style)==null?void 0:C.listStyleType)==="disc"?"none":"disc")},icon:l.jsx(Zo,{className:"h-4 w-4"}),title:"Lista con viñetas"}),l.jsx(Y,{active:((he=e.style)==null?void 0:he.listStyleType)==="decimal",onClick:()=>{var C;return M("listStyleType",((C=e.style)==null?void 0:C.listStyleType)==="decimal"?"none":"decimal")},icon:l.jsx(Qo,{className:"h-4 w-4"}),title:"Lista numerada"})]}),l.jsxs("div",{className:"flex items-center gap-0.5 border rounded-md",children:[l.jsx(Y,{onClick:()=>{var z;const C=Number.parseInt(((z=e.style)==null?void 0:z.textIndent)||"0");M("textIndent",`${C+20}px`)},icon:l.jsx(Jo,{className:"h-4 w-4"}),title:"Aumentar sangría"}),l.jsx(Y,{onClick:()=>{var z;const C=Number.parseInt(((z=e.style)==null?void 0:z.textIndent)||"0");C>=20&&M("textIndent",`${C-20}px`)},icon:l.jsx(_o,{className:"h-4 w-4"}),title:"Disminuir sangría"})]}),l.jsxs("div",{className:"flex items-center gap-2 border rounded-md p-2",children:[l.jsx("span",{className:"text-xs font-medium",children:"Altura de línea:"}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(_n,{className:"h-3 w-3 text-gray-500"}),l.jsx("input",{type:"range",min:"1",max:"3",step:"0.1",value:Number.parseFloat(((be=e.style)==null?void 0:be.lineHeight)||"1.5"),onChange:C=>ve("lineHeight",C.target.value),className:"w-24"}),l.jsx(Jn,{className:"h-3 w-3 text-gray-500"})]}),l.jsx("span",{className:"text-xs",children:((je=e.style)==null?void 0:je.lineHeight)||"1.5"})]}),l.jsxs("div",{className:"flex items-center gap-2 border rounded-md p-2",children:[l.jsx("span",{className:"text-xs font-medium",children:"Espaciado:"}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(_n,{className:"h-3 w-3 text-gray-500"}),l.jsx("input",{type:"range",min:"-2",max:"10",step:"1",value:Number.parseInt(((ye=e.style)==null?void 0:ye.letterSpacing)||"0"),onChange:C=>ve("letterSpacing",`${C.target.value}px`),className:"w-24"}),l.jsx(Jn,{className:"h-3 w-3 text-gray-500"})]}),l.jsx("span",{className:"text-xs",children:((I=e.style)==null?void 0:I.letterSpacing)||"0px"})]}),l.jsxs("div",{className:"flex items-center gap-0.5 border rounded-md",children:[l.jsx(Y,{active:((q=e.style)==null?void 0:q.fontStyle)==="italic"&&((ne=e.style)==null?void 0:ne.paddingLeft)==="20px"&&((ae=e.style)==null?void 0:ae.borderLeft)==="4px solid #ccc",onClick:()=>{var C,z,ie;((C=e.style)==null?void 0:C.fontStyle)==="italic"&&((z=e.style)==null?void 0:z.paddingLeft)==="20px"&&((ie=e.style)==null?void 0:ie.borderLeft)==="4px solid #ccc"?(M("fontStyle","normal"),M("paddingLeft","0"),M("borderLeft","none")):(M("fontStyle","italic"),M("paddingLeft","20px"),M("borderLeft","4px solid #ccc"))},icon:l.jsx(is,{className:"h-4 w-4"}),title:"Formato de cita"}),l.jsx(Y,{active:((te=e.style)==null?void 0:te.fontFamily)==="'Courier New', monospace"&&((Ce=e.style)==null?void 0:Ce.backgroundColor)==="#f5f5f5"&&((Se=e.style)==null?void 0:Se.padding)==="2px 4px",onClick:()=>{var C,z;((C=e.style)==null?void 0:C.fontFamily)==="'Courier New', monospace"&&((z=e.style)==null?void 0:z.backgroundColor)==="#f5f5f5"?(M("fontFamily","Arial, sans-serif"),M("backgroundColor","transparent"),M("padding","0")):(M("fontFamily","'Courier New', monospace"),M("backgroundColor","#f5f5f5"),M("padding","2px 4px"))},icon:l.jsx(Ho,{className:"h-4 w-4"}),title:"Formato de código"})]})]}),m&&S==="advanced"&&l.jsxs("div",{className:"flex flex-wrap gap-2 items-center mt-2",children:[l.jsxs("div",{className:"relative",ref:Z,children:[l.jsxs("button",{className:"flex items-center gap-1 px-2 py-1.5 rounded-md border border-gray-200 hover:bg-gray-50",onClick:()=>c(!o),title:"Opciones de borde",children:[l.jsx(us,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:"Bordes"})]}),o&&l.jsx("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-md shadow-lg z-[9999] p-3 w-64",children:l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium block mb-1",children:"Estilo de borde"}),l.jsx("select",{className:"w-full p-1.5 border rounded-md text-sm",value:((oe=e.style)==null?void 0:oe.borderStyle)||"none",onChange:C=>M("borderStyle",C.target.value),children:Vg.map(C=>l.jsx("option",{value:C.value,children:C.label},C.value))})]}),((nt=e.style)==null?void 0:nt.borderStyle)&&((dt=e.style)==null?void 0:dt.borderStyle)!=="none"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium block mb-1",children:"Ancho de borde"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"range",min:"1",max:"10",step:"1",value:Number.parseInt(((Et=e.style)==null?void 0:Et.borderWidth)||"1"),onChange:C=>M("borderWidth",`${C.target.value}px`),className:"flex-1"}),l.jsx("span",{className:"text-xs",children:((Pt=e.style)==null?void 0:Pt.borderWidth)||"1px"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium block mb-1",children:"Color de borde"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"color",value:((Ot=e.style)==null?void 0:Ot.borderColor)||"#000000",onChange:C=>M("borderColor",C.target.value),className:"w-8 h-8"}),l.jsx("div",{className:"grid grid-cols-5 gap-1 flex-1",children:["#000000","#cccccc","#ff0000","#0000ff","#00ff00"].map(C=>l.jsx("button",{type:"button",className:"w-6 h-6 rounded-sm border",style:{backgroundColor:C},onClick:()=>M("borderColor",C)},C))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-medium block mb-1",children:"Radio de borde"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"range",min:"0",max:"50",step:"1",value:Number.parseInt(((Tt=e.style)==null?void 0:Tt.borderRadius)||"0"),onChange:C=>M("borderRadius",`${C.target.value}px`),className:"flex-1"}),l.jsx("span",{className:"text-xs",children:((x=e.style)==null?void 0:x.borderRadius)||"0px"})]})]})]})]})})]}),l.jsxs("div",{className:"flex items-center gap-2 border rounded-md p-2",children:[l.jsx("span",{className:"text-xs font-medium",children:"Sombra:"}),l.jsx("button",{className:`px-2 py-1 text-xs rounded ${(w=e.style)!=null&&w.textShadow?"bg-blue-100 text-blue-700":"bg-gray-100"}`,onClick:()=>{var C;(C=e.style)!=null&&C.textShadow?M("textShadow",""):M("textShadow","1px 1px 2px rgba(0,0,0,0.3)")},children:(j=e.style)!=null&&j.textShadow?"Quitar":"Añadir"}),((T=e.style)==null?void 0:T.textShadow)&&l.jsxs("select",{className:"text-xs p-1 border rounded",value:(k=e.style)==null?void 0:k.textShadow,onChange:C=>M("textShadow",C.target.value),children:[l.jsx("option",{value:"1px 1px 2px rgba(0,0,0,0.3)",children:"Suave"}),l.jsx("option",{value:"2px 2px 4px rgba(0,0,0,0.4)",children:"Medio"}),l.jsx("option",{value:"3px 3px 6px rgba(0,0,0,0.5)",children:"Fuerte"}),l.jsx("option",{value:"0 0 5px rgba(0,0,255,0.5)",children:"Resplandor azul"}),l.jsx("option",{value:"0 0 5px rgba(255,0,0,0.5)",children:"Resplandor rojo"})]})]}),l.jsxs("div",{className:"flex items-center gap-2 border rounded-md p-2",children:[l.jsx("span",{className:"text-xs font-medium",children:"Opacidad:"}),l.jsx("div",{className:"flex items-center gap-1",children:l.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:Number.parseFloat(((U=e.style)==null?void 0:U.opacity)||"1"),onChange:C=>ve("opacity",C.target.value),className:"w-24"})}),l.jsxs("span",{className:"text-xs",children:[Math.round(Number.parseFloat(((V=e.style)==null?void 0:V.opacity)||"1")*100),"%"]})]}),l.jsx("div",{className:"flex items-center gap-1",children:l.jsxs("button",{className:`flex items-center gap-1 px-2 py-1.5 rounded-md border ${((Q=e.style)==null?void 0:Q.backgroundColor)==="#ffff00"?"bg-yellow-100":"bg-white hover:bg-gray-50"}`,onClick:()=>{var C;((C=e.style)==null?void 0:C.backgroundColor)==="#ffff00"?M("backgroundColor","transparent"):M("backgroundColor","#ffff00")},title:"Resaltar texto",children:[l.jsx(Xo,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm",children:"Resaltar"})]})}),l.jsxs("div",{className:"flex items-center gap-0.5 border rounded-md ml-auto",children:[l.jsx(Y,{onClick:()=>{alert("Función deshacer (implementar)")},icon:l.jsx(Xa,{className:"h-4 w-4"}),title:"Deshacer"}),l.jsx(Y,{onClick:()=>{alert("Función rehacer (implementar)")},icon:l.jsx(ls,{className:"h-4 w-4"}),title:"Rehacer"})]})]})]})})},Xg=({currentSize:e,onSizeChange:t,presetData:r,workspaceDimensions:n})=>((()=>{if(r!=null&&r.canvas_config){const i=typeof r.canvas_config=="string"?JSON.parse(r.canvas_config):r.canvas_config;let s=i.width,o=i.height;return{width:s,height:o,unit:"cm"}}return null})(),l.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 h-full items-center",children:n&&l.jsx("div",{className:"text-sm customtext-neutral-dark font-medium ml-2",children:n.originalWidth&&l.jsxs("div",{children:["Dimensiones: ",n.originalWidth," cm x",n.originalHeight," cm"]})})}));function Th({albumId:e,itemId:t,presetId:r,pages:n}){var Et,Pt,Ot,Tt;const a=()=>{const x=De();return`editor_progress_album_${x.albumId}_preset_${x.presetId}`},[i,s]=y.useState(null),[o,c]=y.useState(null),[u,f]=y.useState(!0),[p,d]=y.useState(null),[g,v]=y.useState(Bt.Local.get(`${ht.APP_CORRELATIVE}_cart`)??[]);y.useEffect(()=>{Bt.Local.set(`${ht.APP_CORRELATIVE}_cart`,g)},[g]);const[h,b]=y.useState([]),[m,D]=y.useState(0),[S,N]=y.useState(null),[O,R]=y.useState(null),[G,K]=y.useState("elements"),[B,H]=y.useState("basic"),[F,ue]=y.useState([JSON.stringify(h)]),[E,Z]=y.useState(0),[ce,M]=y.useState(!1),[fe,ve]=y.useState(null),[Y,me]=y.useState({}),[Oe,le]=y.useState(!1),[ke,Le]=y.useState({elementId:null,cellId:null}),[xe,Ae]=y.useState(!1),De=()=>{if(e&&t&&r)return{albumId:e,itemId:t,presetId:r,pages:n||20};const x=new URLSearchParams(window.location.search);return{albumId:x.get("album"),itemId:x.get("item"),presetId:x.get("preset"),pages:parseInt(x.get("pages"))||20}},Fe=async(x=!1)=>{try{f(!0),d(null);const w=De();if(!w.albumId||!w.presetId)throw new Error("Faltan parámetros requeridos: albumId y presetId");const j=window.location.origin.includes("bananalab")?"/projects/bananalab/public":"",T=`${j}/api/albums/${w.albumId}`,k=`${j}/api/item-presets/${w.presetId}`,U=await fetch(T,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(!U.ok){const $=await U.text();throw new Error(`Error al cargar álbum: ${U.status} ${U.statusText}`)}const V=await U.json(),Q=V.data||V;s(Q);const C=await fetch(k,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(!C.ok){const $=await C.text();throw new Error(`Error al cargar preset: ${C.status} ${C.statusText}`)}const z=await C.json(),ie=z.data||z;c(ie),x||await He(ie,Q,w.pages)}catch(w){d(w.message)}finally{f(!1)}},He=(x,w,j)=>{try{console.log("Creating pages from preset:",x),console.log("Album data:",w),console.log("Total pages requested:",j);const T=[];if(!x.cover_image||!x.content_layer_image||!x.final_layer_image)throw new Error("El preset no tiene todas las imágenes requeridas");const k=Q=>Q.startsWith("http")||Q.startsWith("/storage/")?Q:`/storage/${Q}`;console.log(x);const U={id:"page-cover",type:"cover",layout:"layout-1",cells:[{id:"cell-cover-1",elements:[{id:"cover-base",type:"image",content:`/storage/images/item_preset/${x.cover_image}`,position:{x:0,y:0},size:{width:100,height:100},filters:{},mask:"none",zIndex:1,locked:!0},...w.cover_image_path?[{id:"cover-custom",type:"image",content:`/storage/images/albums/covers/${w.cover_image_path}`,position:{x:10,y:10},size:{width:80,height:80},filters:{},mask:"none",zIndex:2}]:[]]}]};T.push(U);for(let Q=1;Q<=j;Q++){const C={id:`page-content-${Q}`,type:"content",pageNumber:Q,layout:"layout-1",cells:[{id:`cell-content-${Q}-1`,elements:[{id:`content-base-${Q}`,type:"image",content:`/storage/images/item_preset/${x.content_layer_image}`,position:{x:0,y:0},size:{width:100,height:100},filters:{},mask:"none",zIndex:1,locked:!0}]}]};T.push(C)}const V={id:"page-final",type:"final",layout:"layout-1",cells:[{id:"cell-final-1",elements:[{id:"final-base",type:"image",content:`/storage/images/item_preset/${x.final_layer_image}`,position:{x:0,y:0},size:{width:100,height:100},filters:{},mask:"none",zIndex:1,locked:!0}]}]};T.push(V),console.log("✅ Created pages:",T),b(T),D(0),x.canvas_config&&(console.log("📐 Canvas config found, setting workspace to preset dimensions"),Ce("preset"))}catch(T){throw console.error("❌ Error creating pages:",T),T}};y.useEffect(()=>{De();const x=a(),w=localStorage.getItem(x);let j=!1;if(w)try{const T=JSON.parse(w);T&&Array.isArray(T.pages)&&(b(T.pages),D(T.currentPage||0),j=!0)}catch{}Fe(j)},[]);const Te=()=>{if(h.length===0)return"Cargando...";const x=h[m];if(!x)return"Página";switch(x.type){case"cover":return"Portada";case"content":return`Página ${x.pageNumber}`;case"final":return"Contraportada";default:return`Página ${m+1}`}},Ge=()=>{if(h.length===0)return!1;const x=h[m];return(x==null?void 0:x.type)==="content"},$e=y.useCallback(()=>{if(!S||!O||h.length===0)return null;const x=h[m];if(!x)return null;const w=x.cells.find(j=>j.id===O);return w?w.elements.find(j=>j.id===S):null},[S,O,h,m]),A=(x,w)=>{if(w){const j=h[m].cells.find(k=>k.id===w),T=j==null?void 0:j.elements.find(k=>k.id===x);if(T!=null&&T.locked){console.log("Elemento bloqueado, no se puede seleccionar");const k=document.createElement("div");k.className="fixed top-4 right-4 bg-amber-100 border border-amber-400 text-amber-700 px-4 py-2 rounded-lg z-50",k.textContent="Este elemento es parte del diseño base y no se puede editar",document.body.appendChild(k),setTimeout(()=>{document.body.contains(k)&&document.body.removeChild(k)},3e3);return}}if(w&&R(w),N(x),x){const j=h[m].cells.find(k=>k.id===(w||O)),T=j==null?void 0:j.elements.find(k=>k.id===x);(T==null?void 0:T.type)==="image"?(ve(T),console.log(fe)):(T==null?void 0:T.type)==="text"?(le(!0),Le({elementId:x,cellId:w||O})):le(!1)}else le(!1),ve(null)},X=()=>{if(h.length===0)return we[0];const x=h[m];return x&&we.find(w=>w.id===x.layout)||we[0]},pe=x=>{b(x);const w=[...F.slice(0,E+1),JSON.stringify(x)];ue(w),Z(w.length-1);const j=a();localStorage.setItem(j,JSON.stringify({pages:x,currentPage:m,savedAt:Date.now()}))};y.useEffect(()=>{const x=a();localStorage.setItem(x,JSON.stringify({pages:h,currentPage:m,savedAt:Date.now()}))},[m]);const he=x=>{const w=we.find(U=>U.id===x);if(!w)return;const j=[...h],T=j[m],k=Array.from({length:w.cells}).map((U,V)=>T.cells[V]||{id:`cell-${T.id}-${V+1}`,elements:[]});j[m]={...T,layout:x,cells:k},pe(j),N(null),R(null)},be=(x,w)=>{const j=[...h],T=j[m].cells.findIndex(k=>k.id===x);T!==-1&&(j[m].cells[T].elements.push(w),pe(j),N(w.id),R(x))},je=(x,w,j,T=!1)=>{const k=[...h],U=k[m].cells.findIndex(V=>V.id===x);if(U!==-1){if(T)k[m].cells[U].elements.push({...k[m].cells[U].elements.find(V=>V.id===w),...j});else{const V=k[m].cells[U].elements.findIndex(Q=>Q.id===w);V!==-1&&(k[m].cells[U].elements[V]={...k[m].cells[U].elements[V],...j})}pe(k)}},ye=(x,w)=>{const j=[...h],T=j[m].cells.findIndex(k=>k.id===x);T!==-1&&(j[m].cells[T].elements=j[m].cells[T].elements.filter(k=>k.id!==w),pe(j),S===w&&N(null))},I=()=>{E>0&&(Z(E-1),b(JSON.parse(F[E-1])),N(null),R(null))},q=()=>{E<F.length-1&&(Z(E+1),b(JSON.parse(F[E+1])),N(null),R(null))},ne=()=>{M(!ce)},ae=()=>{const w={id:`text-${Date.now()}`,type:"text",content:"Haz clic para editar",position:{x:.05,y:.05},style:{fontSize:"16px",fontFamily:"Arial",color:"#000000",fontWeight:"normal",fontStyle:"normal",textDecoration:"none",textAlign:"left",backgroundColor:"transparent",padding:"8px",borderRadius:"0px",border:"none",opacity:1}};O?be(O,w):console.log("Selecciona una celda primero")},[te,Ce]=y.useState("preset"),Se=()=>{if(o!=null&&o.canvas_config){const Q=typeof o.canvas_config=="string"?JSON.parse(o.canvas_config):o.canvas_config;let C=Q.width,z=Q.height,ie=C*37.8,$=z*37.8;if(ie&&$){const qe=window.innerWidth*.6,Ie=window.innerHeight*.7,Ne=qe/ie,_e=Ie/$,ee=Math.min(Ne,_e,1);return{width:Math.round(ie*ee),height:Math.round($*ee),originalWidth:C,originalHeight:z,scale:ee,unit:"cm",originalWidthPx:Math.round(ie),originalHeightPx:Math.round($)}}}const x={square:{width:600,height:600},landscape:{width:1280,height:720},portrait:{width:600,height:800},wide:{width:1200,height:600},tall:{width:540,height:960},preset:{width:800,height:600}},w=x[te]||x.preset,j=window.innerWidth*.6,T=window.innerHeight*.7,k=j/w.width,U=T/w.height,V=Math.min(k,U,1);return{width:Math.round(w.width*V),height:Math.round(w.height*V),originalWidth:w.width,originalHeight:w.height,scale:V,unit:"px"}},[oe,nt]=y.useState({width:800,height:600});y.useEffect(()=>{const x=Se();nt(x)},[o,te]),y.useEffect(()=>{const x=()=>{const w=Se();nt(w)};return window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[o,te]),y.useEffect(()=>{const x=async()=>{const j={};await Promise.all(h.map(async(T,k)=>{const U=document.getElementById(`page-${T.id}`);if(U)try{const V=U.getBoundingClientRect(),Q=Math.round(V.width),C=Math.round(V.height),z=window.devicePixelRatio||1,ie=await Xn(U,{scale:z,width:Q,height:C,logging:!1,useCORS:!0,allowTaint:!0,ignoreElements:$=>$.classList.contains("ignore-thumbnail")});j[T.id]=ie.toDataURL()}catch(V){console.error("Error generating thumbnail:",V),j[T.id]=null}})),me({...Y,...j})},w=setTimeout(()=>{x()},500);return()=>clearTimeout(w)},[h,m]);const dt=()=>{try{if(console.log("🛒 Iniciando addAlbumToCart..."),console.log("📊 Datos disponibles:",{albumData:i==null?void 0:i.id,presetData:o==null?void 0:o.id,cartLength:g.length}),!i||!o)return console.error("❌ Datos del álbum o preset no disponibles"),console.log("albumData:",i),console.log("presetData:",o),Or.error("Error",{description:"Faltan datos del álbum o preset.",duration:3e3,position:"bottom-center"}),!1;const x=Date.now(),w=`album_${i.id}_${x}`;let j=o.cover_image;Y&&Y["page-cover"]&&(j=Y["page-cover"]);const T={id:w,name:i.title||`Álbum Personalizado - ${o.name}`,image:j,price:o.price||0,final_price:o.final_price||o.price||0,discount:o.discount||null,slug:`album-${i.id}-${x}`,quantity:1,type:"custom_album",album_data:{album_id:i.id,preset_id:o.id,pages_count:h.length,title:i.title,description:i.description,selected_pages:i.selected_pages,selected_cover_type:i.selected_cover_type,selected_finish:i.selected_finish,created_at:new Date().toISOString()},preset_data:{id:o.id,name:o.name,cover_image:o.cover_image,price:o.price,final_price:o.final_price}};console.log("📦 Producto del álbum creado:",T);const k=Bt.Local.get(`${ht.APP_CORRELATIVE}_cart`)||[];console.log("🛒 Carrito actual desde localStorage:",k);const U=[...k,T];console.log("🛒 Nuevo carrito:",U),v(U),Bt.Local.set(`${ht.APP_CORRELATIVE}_cart`,U),console.log("✅ Carrito actualizado en localStorage");const V=Bt.Local.get(`${ht.APP_CORRELATIVE}_cart`);return console.log("🔍 Verificación del carrito guardado:",V),Or.success("Álbum agregado al carrito",{description:`${T.name} se ha añadido al carrito.`,icon:l.jsx(ko,{className:"h-5 w-5 text-green-500"}),duration:3e3,position:"bottom-center"}),window.dispatchEvent(new CustomEvent("cartUpdated",{detail:{cart:U,action:"add",product:T}})),!0}catch(x){return console.error("❌ Error al agregar álbum al carrito:",x),Or.error("Error al agregar al carrito",{description:"No se pudo agregar el álbum al carrito. Inténtelo nuevamente.",duration:3e3,position:"bottom-center"}),!1}};return window.finalizeAlbumDesign=async()=>{try{const x=De();if(!x.albumId)return alert("Error: No se encontró el ID del álbum"),!1;const j={pages:(Ie=>Ie.map(Ne=>({id:Ne.id,type:Ne.type,pageNumber:Ne.pageNumber,layout:Ne.layout,cells:Ne.cells.map(_e=>({id:_e.id,elements:_e.elements.map(ee=>{const ge={id:ee.id,type:ee.type,position:ee.position,zIndex:ee.zIndex||1};if(ee.type==="image"){if(ee.content.startsWith("data:image/")){const Ue=btoa(ee.content.substring(0,100)).substring(0,20);ge.content=`[BASE64_IMAGE_${Ue}]`,ge.contentType=ee.content.split(";")[0].split(":")[1],ge.originalSize=ee.content.length}else ge.content=ee.content;if(ee.filters){const Ue=Object.entries(ee.filters).filter(([Be,Re])=>Re!==0&&Re!==!1&&Re!==null).reduce((Be,[Re,at])=>(Be[Re]=at,Be),{});Object.keys(Ue).length>0&&(ge.filters=Ue)}ee.mask&&ee.mask!=="none"&&(ge.mask=ee.mask),ee.size&&(ge.size=ee.size),ee.locked&&(ge.locked=ee.locked)}else if(ee.type==="text"&&(ge.content=ee.content,ee.style)){const Ue=Object.entries(ee.style).filter(([Be,Re])=>!(Be==="fontSize"&&Re==="16px"||Be==="color"&&Re==="#000000"||Be==="fontFamily"&&Re==="Arial")).reduce((Be,[Re,at])=>(Be[Re]=at,Be),{});Object.keys(Ue).length>0&&(ge.style=Ue)}return ge})}))})))(h),albumInfo:{id:i==null?void 0:i.id,title:i==null?void 0:i.title,preset_id:o==null?void 0:o.id},presetInfo:{id:o==null?void 0:o.id,name:o==null?void 0:o.name,cover_image:o==null?void 0:o.cover_image,content_layer_image:o==null?void 0:o.content_layer_image,final_layer_image:o==null?void 0:o.final_layer_image},workspace:{width:oe.width,height:oe.height,scale:oe.scale},meta:{finalizedAt:new Date().toISOString(),version:"1.2"}},T=JSON.stringify({design_data:j}),k=Math.round(T.length/1024),U=Math.round(k/1024*100)/100;console.log(`Tamaño del payload: ${k} KB (${U} MB)`);let V=0,Q=0;h.forEach(Ie=>{var Ne;(Ne=Ie.cells)==null||Ne.forEach(_e=>{var ee;(ee=_e.elements)==null||ee.forEach(ge=>{ge.type==="image"&&ge.content&&ge.content.startsWith("data:image/")&&(V++,Q+=ge.content.length)})})});const C=Math.round(Q/(1024*1024)*100)/100;if(console.log(`Imágenes base64 encontradas: ${V}, Tamaño total: ${C} MB`),k>1024&&!confirm(`El diseño contiene ${V} imágenes (${C} MB en imágenes). Payload completo: ${U} MB. Esto podría causar problemas al guardarlo. ¿Desea continuar de todos modos?`))return!1;const z=window.location.origin.includes("bananalab")?"/projects/bananalab/public":"",ie=await fetch(`${z}/api/albums/${x.albumId}/finalize-design`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include",body:T});if(!ie.ok){let Ie="Error al finalizar el diseño";try{Ie=(await ie.json()).message||Ie}catch{ie.status===413?Ie="El diseño es demasiado grande para ser guardado. Intente simplificar las imágenes.":ie.status>=500&&(Ie="Error del servidor. Intente nuevamente más tarde.")}throw new Error(Ie)}const $=await ie.json(),qe=dt();return alert(qe?"¡Diseño finalizado exitosamente! El álbum se ha agregado al carrito. Redirigiendo al checkout...":"¡Diseño finalizado exitosamente! Redirigiendo al checkout..."),!0}catch(x){console.error("Error al finalizar diseño:",x);let w=x.message;return x.message.includes("Failed to fetch")?w="Error de conexión. Verifique su conexión a internet e intente nuevamente.":(x.message.includes("NetworkError")||x.message.includes("net::"))&&(w="Error de red. Intente nuevamente más tarde."),alert("Error al finalizar el diseño: "+w),!1}},window.generateAlbumPDF=async()=>{let x=document.getElementById("pdf-hidden-pages");x||(x=document.createElement("div"),x.id="pdf-hidden-pages",x.style.position="fixed",x.style.left="-99999px",x.style.top="0",x.style.width="800px",x.style.zIndex="-1",document.body.appendChild(x)),x.innerHTML="";const w=(k,U)=>{var Q,C;const V=we.find(z=>z.id===k.layout)||we[0];return l.jsx("div",{id:`pdf-page-${k.id}`,style:{width:800,height:600,background:"#fff",overflow:"hidden",position:"relative",boxSizing:"border-box",display:"block",margin:0,padding:0},children:l.jsx("div",{className:`grid ${V.template}`,style:{width:"100%",height:"100%",gap:((Q=V.style)==null?void 0:Q.gap)||"16px",padding:((C=V.style)==null?void 0:C.padding)||"16px",boxSizing:"border-box"},children:k.cells.map((z,ie)=>l.jsx("div",{style:{position:"relative",width:"100%",height:"100%",background:"#f9fafb",borderRadius:8,overflow:"hidden"},children:z.elements.map($=>{var qe,Ie,Ne,_e,ee,ge,Ue,Be,Re,at,jt,Rt,Mt,kt,At,Jt,Ln,Fn,$n,zn,Hn,Gn,Wn,qn,Un;return $.type==="image"?l.jsx("div",{className:((qe=xt.find(wo=>wo.id===$.mask))==null?void 0:qe.class)||"",style:{position:"absolute",left:$.position.x,top:$.position.y,width:"100%",height:"100%",zIndex:$.zIndex||1},children:l.jsx("img",{src:$.content,alt:"",style:{width:"100%",height:"100%",objectFit:"cover",filter:`brightness(${(((Ie=$.filters)==null?void 0:Ie.brightness)||100)/100}) contrast(${(((Ne=$.filters)==null?void 0:Ne.contrast)||100)/100}) saturate(${(((_e=$.filters)==null?void 0:_e.saturation)||100)/100}) sepia(${(((ee=$.filters)==null?void 0:ee.tint)||0)/100}) hue-rotate(${(((ge=$.filters)==null?void 0:ge.hue)||0)*3.6}deg) blur(${((Ue=$.filters)==null?void 0:Ue.blur)||0}px)`,transform:`scale(${((Be=$.filters)==null?void 0:Be.scale)||1}) rotate(${((Re=$.filters)==null?void 0:Re.rotate)||0}deg)${(at=$.filters)!=null&&at.flipHorizontal?" scaleX(-1)":""}${(jt=$.filters)!=null&&jt.flipVertical?" scaleY(-1)":""}`,mixBlendMode:((Rt=$.filters)==null?void 0:Rt.blendMode)||"normal",opacity:(((Mt=$.filters)==null?void 0:Mt.opacity)||100)/100}})},$.id):l.jsx("div",{style:{position:"absolute",left:$.position.x,top:$.position.y,fontFamily:(kt=$.style)==null?void 0:kt.fontFamily,fontSize:(At=$.style)==null?void 0:At.fontSize,fontWeight:(Jt=$.style)==null?void 0:Jt.fontWeight,fontStyle:(Ln=$.style)==null?void 0:Ln.fontStyle,textDecoration:(Fn=$.style)==null?void 0:Fn.textDecoration,color:($n=$.style)==null?void 0:$n.color,textAlign:(zn=$.style)==null?void 0:zn.textAlign,background:((Hn=$.style)==null?void 0:Hn.backgroundColor)||"transparent",padding:((Gn=$.style)==null?void 0:Gn.padding)||"8px",borderRadius:((Wn=$.style)==null?void 0:Wn.borderRadius)||"0px",border:((qn=$.style)==null?void 0:qn.border)||"none",opacity:((Un=$.style)==null?void 0:Un.opacity)||1},children:$.content},$.id)})},z.id))})},k.id)},j=await Do(()=>import("./index-DE3dzT5W.js").then(k=>k.i),__vite__mapDeps([0,1,2,3]));await new Promise(k=>{j.render(l.jsx("div",{children:h.map((U,V)=>w(U))}),x,k)});const T=new Eo({orientation:"landscape",unit:"px",format:[800,600]});for(let k=0;k<h.length;k++){const U=document.getElementById(`pdf-page-${h[k].id}`),Q=(await Xn(U,{backgroundColor:"#fff",scale:2})).toDataURL("image/jpeg",1);k>0&&T.addPage([800,600],"landscape"),T.addImage(Q,"JPEG",0,0,800,600)}T.save("album.pdf"),x.innerHTML=""},l.jsxs(Ll,{backend:Ag,children:[u?l.jsx("div",{className:"h-screen bg-gray-100 flex items-center justify-center",children:l.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),l.jsx("h2",{className:"text-xl font-semibold customtext-neutral-dark mb-2",children:"Cargando Editor"}),l.jsx("p",{className:"customtext-neutral-dark",children:"Preparando tu álbum personalizado..."})]})}):h.length===0||p?l.jsx("div",{className:"h-screen bg-gray-100 flex items-center justify-center",children:l.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg text-center max-w-md",children:[l.jsx("h2",{className:"text-xl font-semibold text-red-600 mb-2",children:"Error"}),l.jsx("p",{className:"customtext-neutral-dark mb-4",children:p||"No se pudieron cargar los datos del álbum."}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("button",{onClick:()=>window.location.reload(),className:"w-full px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Reintentar"}),l.jsx("button",{onClick:()=>window.history.back(),className:"w-full px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",children:"Volver"})]})]})}):l.jsxs("div",{className:"h-screen w-screen overflow-hidden bg-gray-50 font-paragraph",children:[l.jsx(No,{isOpen:xe,onRequestClose:()=>Ae(!1),pages:h.map(x=>({...x,layout:we.find(w=>w.id===x.layout)||we[0]})),workspaceDimensions:oe,getCurrentLayout:x=>x&&we.find(w=>w.id===x.layout)||we[0],presetData:o,pageThumbnails:Y,addAlbumToCart:dt}),l.jsx("header",{className:"fixed top-0 left-0 right-0 h-16 border-b bg-primary shadow-sm flex items-center px-4 z-10",children:l.jsxs("div",{className:"container mx-auto flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("img",{src:`/assets/resources/logo.png?v=${crypto.randomUUID()}`,alt:ht.APP_NAME,className:"h-7 object-contain object-center invert brightness-0"}),l.jsx("div",{className:"h-6 w-px bg-white/20"}),l.jsx("h1",{className:"text-lg font-bold text-white truncate hidden sm:block",children:(i==null?void 0:i.title)||"Álbum Sin Título"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"bg-white/10 rounded-full px-4 py-1.5 flex items-center gap-2",children:[l.jsx("span",{className:"h-2 w-2 rounded-full bg-secondary animate-pulse"}),l.jsx("p",{className:"text-sm text-white font-medium",children:Te()})]}),l.jsx("div",{className:"text-xs text-white/70 hidden sm:block",children:h.length>0&&`${h.length} páginas total`}),Ge()?l.jsx("span",{className:"bg-white/10 text-white/80 px-2 py-2 rounded-md text-xs font-medium flex items-center gap-1",children:l.jsx(as,{className:"h-3 w-3"})}):l.jsx("span",{className:"bg-white/10 text-white/80 px-2 py-2 rounded-md text-xs font-medium flex items-center gap-1",children:l.jsx(es,{className:"h-3 w-3"})})]}),l.jsxs("div",{className:"flex gap-3 items-center",children:[l.jsx(Ke,{variant:ce?"secondary":"outline",size:"sm",onClick:ne,icon:l.jsx(Go,{className:"h-4 w-4"}),className:"border-white/20 text-white hover:bg-white/10 hover:text-white",children:ce?"Editar":"Vista previa"}),l.jsx(Ke,{variant:"secondary",size:"sm",onClick:()=>Ae(!0),icon:l.jsx(Kt,{className:"h-4 w-4"}),children:"Vista de Álbum"}),!1]})]})}),l.jsxs("div",{className:"flex w-full h-full pt-16",children:[l.jsxs("aside",{className:"w-64 bg-white border-r flex flex-col",children:[l.jsx("div",{className:"p-3 border-b",children:l.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-md",children:[l.jsx("button",{className:`flex-1 py-1.5 text-xs font-medium rounded-md transition ${G==="elements"?"bg-white shadow-sm text-purple-700":"customtext-neutral-dark hover:bg-white/50"}`,onClick:()=>K("elements"),children:"Elementos"}),l.jsx("button",{className:`flex-1 py-1.5 text-xs font-medium rounded-md transition ${G==="filters"?"bg-white shadow-sm text-purple-700":"customtext-neutral-dark hover:bg-white/50"}`,onClick:()=>K("filters"),children:"Filtros"})]})}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-3 custom-scroll",children:[G==="elements"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-xs uppercase customtext-neutral-dark mb-2",children:"Layouts"}),l.jsx(Fg,{currentLayoutId:(Et=h[m])==null?void 0:Et.layout,onLayoutChange:he})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-xs uppercase customtext-neutral-dark mb-2",children:"Capas"}),l.jsx(Bg,{elements:((Pt=h[m].cells.find(x=>x.id===O))==null?void 0:Pt.elements)||[],onReorder:x=>{const w=[...h],j=w[m].cells.findIndex(T=>T.id===O);j!==-1&&(w[m].cells[j].elements=x,pe(w))},onSelect:A,selectedElement:S})]})]}),G==="filters"&&l.jsx("div",{className:"space-y-3 max-h-full",children:(()=>{const x=$e();return x?l.jsxs(l.Fragment,{children:[x.type==="image"&&l.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(ar,{className:"h-4 w-4 text-purple-600"}),l.jsx("span",{className:"text-sm font-medium",children:"Imagen seleccionada"})]}),l.jsx("div",{className:"w-full h-16 rounded-md overflow-hidden bg-gray-200",children:l.jsx("img",{src:x.content,alt:"",className:"w-full h-full object-cover"})})]}),x.type==="image"&&l.jsxs("div",{className:"border-t pt-3",children:[l.jsx("h3",{className:"font-medium text-xs uppercase customtext-neutral-dark mb-2",children:"Máscaras"}),l.jsx(zg,{selectedMask:x.mask||"none",onSelect:w=>{je(O,S,{mask:w})},availableMasks:xt.map(w=>w.id),selectedImage:x})]}),l.jsxs("div",{className:"border-t pt-3",children:[l.jsx("h3",{className:"font-medium text-xs uppercase customtext-neutral-dark mb-2",children:"Filtros y efectos"}),l.jsx("div",{className:"",children:l.jsx($g,{filters:x.filters||{},onFilterChange:w=>{je(O,S,{filters:w})},selectedElement:x})})]})]}):l.jsxs("div",{className:"text-center py-8 px-2",children:[l.jsx("div",{className:"bg-gray-100 p-4 rounded-lg mb-3",children:l.jsx(ar,{className:"h-6 w-6 text-gray-400 mx-auto"})}),l.jsx("h3",{className:"text-sm font-medium customtext-neutral-dark",children:"Selecciona un elemento"}),l.jsx("p",{className:"text-xs customtext-neutral-dark mt-1",children:"Para aplicar filtros y efectos, primero selecciona una imagen o texto en el lienzo"})]})})()})]})]}),l.jsxs("main",{className:"flex-1 flex flex-col h-full",children:[l.jsx("div",{className:"bg-white border-b px-4 py-2 flex items-center justify-between",children:Oe?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Ke,{variant:"ghost",size:"sm",onClick:()=>le(!1),className:"h-8 px-2",icon:l.jsx(Mo,{className:"h-4 w-4"}),children:"Volver"}),l.jsx("div",{className:"h-6 w-px bg-gray-300 mx-2"})]}),l.jsx("div",{className:"flex-1 flex justify-start",children:l.jsx(Yg,{element:$e(),onUpdate:x=>{je(ke.cellId,ke.elementId,x)},onClose:()=>le(!1)})})]}):l.jsx(l.Fragment,{children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("div",{className:"flex space-x-1",children:[l.jsx(Ke,{variant:"ghost",size:"sm",onClick:I,disabled:E<=0,className:"h-8 px-2",icon:l.jsx(vs,{className:"h-4 w-4"}),children:"Deshacer"}),l.jsx(Ke,{variant:"ghost",size:"sm",onClick:q,disabled:E>=F.length-1,className:"h-8 px-2",icon:l.jsx(os,{className:"h-4 w-4"}),children:"Rehacer"})]}),l.jsx("div",{className:"h-6 w-px bg-gray-300 mx-2"}),l.jsxs("div",{className:"flex space-x-1",children:[l.jsx(Ke,{variant:"ghost",size:"sm",onClick:()=>{const x=document.createElement("input");x.type="file",x.accept="image/*",x.onchange=w=>{if(w.target.files&&w.target.files[0]){const T={id:`img-${Date.now()}`,type:"image",content:"",position:{x:.1,y:.1},size:{width:.3,height:.3},filters:{brightness:100,contrast:100,saturation:100,tint:0,hue:0,blur:0,scale:1,rotate:0,opacity:100,blendMode:"normal"},mask:"none"},k=new FileReader;k.onload=U=>{var V,Q;(V=U.target)!=null&&V.result&&(T.content=U.target.result,O?be(O,T):(Q=h[m])!=null&&Q.cells[0]&&be(h[m].cells[0].id,T))},k.readAsDataURL(w.target.files[0])}},x.click()},className:"h-8 px-2",icon:l.jsx(ar,{className:"h-4 w-4"}),children:"Imagen"}),l.jsx(Ke,{variant:"ghost",size:"sm",onClick:ae,className:"h-8 px-2",icon:l.jsx(bt,{className:"h-4 w-4"}),children:"Texto"})]}),l.jsx("div",{className:"h-6 w-px bg-gray-300 mx-2"}),S&&l.jsxs("div",{className:"flex space-x-1",children:[l.jsx(Ke,{variant:"ghost",size:"sm",onClick:()=>{if(S&&O){const x=$e();if(x){const w={...x,id:`${x.type}-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,position:{x:x.position.x+.05,y:x.position.y+.05}};be(O,w)}}},className:"h-8 px-2",icon:l.jsx(on,{className:"h-4 w-4"}),children:"Duplicar"}),l.jsx(Ke,{variant:"ghost",size:"sm",onClick:()=>{S&&O&&ye(O,S)},className:"h-8 px-2 text-red-600 hover:text-white",icon:l.jsx(lr,{className:"h-4 w-4"}),children:"Eliminar"})]}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx(Xg,{currentSize:te,onSizeChange:Ce,presetData:o,workspaceDimensions:oe})})]})})}),l.jsx("div",{className:"flex-1 flex items-center justify-center p-6 overflow-hidden bg-gray-100",children:ce?l.jsx("div",{className:"bg-white rounded-lg shadow-lg",children:l.jsx("div",{className:"overflow-hidden",style:{width:oe.width,height:oe.height},children:l.jsx("div",{id:`page-${h[m].id}`,className:`grid ${X().template} gap-6`,style:{width:"100%",height:"100%"},children:h[m].cells.map(x=>l.jsx("div",{className:"relative bg-gray-50 rounded-lg overflow-hidden",children:x.elements.map(w=>{var j,T,k,U,V,Q,C,z,ie,$,qe,Ie,Ne,_e,ee,ge,Ue,Be,Re,at,jt,Rt,Mt,kt,At;return w.type==="image"?l.jsx("div",{className:`absolute ${((j=xt.find(Jt=>Jt.id===w.mask))==null?void 0:j.class)||""}`,style:{left:`${w.position.x}px`,top:`${w.position.y}px`,width:"100%",height:"100%"},children:l.jsx("img",{src:w.content,alt:"",className:"w-full h-full object-cover",style:{filter:`
                                                                            brightness(${(((T=w.filters)==null?void 0:T.brightness)||100)/100})
                                                                            contrast(${(((k=w.filters)==null?void 0:k.contrast)||100)/100})
                                                                            saturate(${(((U=w.filters)==null?void 0:U.saturation)||100)/100})
                                                                            sepia(${(((V=w.filters)==null?void 0:V.tint)||0)/100})
                                                                            hue-rotate(${(((Q=w.filters)==null?void 0:Q.hue)||0)*3.6}deg)
                                                                            blur(${((C=w.filters)==null?void 0:C.blur)||0}px)
                                                                        `,transform:`scale(${((z=w.filters)==null?void 0:z.scale)||1}) rotate(${((ie=w.filters)==null?void 0:ie.rotate)||0}deg) ${($=w.filters)!=null&&$.flipHorizontal?"scaleX(-1)":""} ${(qe=w.filters)!=null&&qe.flipVertical?"scaleY(-1)":""}`,mixBlendMode:((Ie=w.filters)==null?void 0:Ie.blendMode)||"normal",opacity:(((Ne=w.filters)==null?void 0:Ne.opacity)||100)/100}})},w.id):l.jsx("div",{className:"absolute",style:{left:`${w.position.x}px`,top:`${w.position.y}px`,fontFamily:(_e=w.style)==null?void 0:_e.fontFamily,fontSize:(ee=w.style)==null?void 0:ee.fontSize,fontWeight:(ge=w.style)==null?void 0:ge.fontWeight,fontStyle:(Ue=w.style)==null?void 0:Ue.fontStyle,textDecoration:(Be=w.style)==null?void 0:Be.textDecoration,color:(Re=w.style)==null?void 0:Re.color,textAlign:(at=w.style)==null?void 0:at.textAlign,backgroundColor:((jt=w.style)==null?void 0:jt.backgroundColor)||"transparent",padding:((Rt=w.style)==null?void 0:Rt.padding)||"8px",borderRadius:((Mt=w.style)==null?void 0:Mt.borderRadius)||"0px",border:((kt=w.style)==null?void 0:kt.border)||"none",opacity:((At=w.style)==null?void 0:At.opacity)||1},children:w.content},w.id)})},x.id))})})}):l.jsxs("div",{id:`page-${h[m].id}`,className:"bg-white rounded-lg shadow-xl",style:{width:oe.width,height:oe.height,position:"relative"},children:[(()=>{const x=h[m];let w=null;return x.type==="cover"&&(o!=null&&o.cover_image)?w=o.cover_image.startsWith("http")?o.cover_image:`/storage/images/item_preset/${o.cover_image}`:x.type==="content"&&(o!=null&&o.content_layer_image)?w=o.content_layer_image.startsWith("http")?o.content_layer_image:`/storage/images/item_preset/${o.content_layer_image}`:x.type==="final"&&(o!=null&&o.final_layer_image)&&(w=o.final_layer_image.startsWith("http")?o.final_layer_image:`/storage/images/item_preset/${o.final_layer_image}`),w?l.jsx("img",{src:w,alt:"background",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover",zIndex:0,pointerEvents:"none"}}):null})(),l.jsx("div",{className:`grid ${X().template}`,style:{position:"relative",zIndex:1,width:"100%",height:"100%",boxSizing:"border-box",gap:((Ot=X().style)==null?void 0:Ot.gap)||"16px",padding:((Tt=X().style)==null?void 0:Tt.padding)||"16px"},children:h[m].cells.map(x=>{var w;return l.jsx(Lg,{id:x.id,elements:x.elements.filter(j=>!j.locked),workspaceSize:oe,cellStyle:(w=X().cellStyles)==null?void 0:w[h[m].cells.indexOf(x)],selectedElement:O===x.id?S:null,onSelectElement:A,onAddElement:j=>be(x.id,j),onUpdateElement:(j,T,k)=>je(x.id,j,T,k),onDeleteElement:j=>ye(x.id,j),availableMasks:X().maskCategories.flatMap(j=>j.masks)},x.id)})})]})})]}),l.jsxs("aside",{className:"w-52 bg-white border-l flex flex-col h-full",children:[l.jsx("div",{className:"p-4 border-b bg-gray-50",children:l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("h3",{className:"font-medium text-sm text-gray-700 flex items-center gap-1.5",children:[l.jsx(Kt,{className:"h-4 w-4 text-purple-600"}),"Páginas"]}),l.jsxs("span",{className:"text-xs text-gray-500 bg-white px-2 py-0.5 rounded-full border",children:[h.length," total"]})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-3 custom-scroll",children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"text-xs font-medium text-gray-500 mb-2 flex items-center",children:[l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-purple-400 mr-1.5"}),"Portada"]}),h.filter(x=>x.type==="cover").map((x,w)=>l.jsx("div",{className:`relative group flex flex-col cursor-pointer  transition-all duration-200 transform 
                            ${m===h.indexOf(x)?"ring-2 ring-purple-400 scale-[1.02] shadow-md":"hover:bg-gray-50 border border-transparent hover:border-gray-200"}
                            mb-2`,onClick:()=>D(h.indexOf(x)),children:l.jsxs("div",{className:"relative bg-purple-50  overflow-hidden border aspect-[4/3] ",children:[Y[x.id]?l.jsx("img",{src:Y[x.id],alt:"Portada",className:"w-full h-full object-contain"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx("div",{className:"text-purple-300",children:l.jsx(Kt,{className:"h-8 w-8"})})}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-2 pt-6 group-hover:opacity-100 opacity-80 transition-opacity",children:l.jsx("span",{className:"text-[10px] text-white font-medium block",children:"Portada"})})]})},x.id))]}),l.jsxs("div",{children:[l.jsxs("div",{className:"text-xs font-medium text-gray-500 mb-2 flex items-center",children:[l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-400 mr-1.5"}),"Páginas de contenido"]}),l.jsx("div",{className:"space-y-2",children:h.filter(x=>x.type==="content").map((x,w)=>l.jsx("div",{className:`relative group flex flex-col cursor-pointer  transition-all duration-200 transform 
                                ${m===h.indexOf(x)?"ring-2 ring-purple-400 scale-[1.02] shadow-md":"hover:bg-gray-50 border border-transparent hover:border-gray-200"}
                                mb-1`,onClick:()=>D(h.indexOf(x)),children:l.jsxs("div",{className:"relative  overflow-hidden border aspect-[4/3]",children:[Y[x.id]?l.jsx("img",{src:Y[x.id],alt:`Página ${x.pageNumber}`,className:"w-full h-full object-contain"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx("div",{className:`grid ${X().template} gap-0.5 w-full h-full `,children:Array.from({length:X().cells}).map((j,T)=>l.jsx("div",{className:"bg-gray-200 rounded-sm"},T))})}),l.jsx("div",{className:"absolute top-1 left-1 bg-white/90 rounded-full h-5 w-5 flex items-center justify-center text-[10px] font-bold shadow-sm",children:x.pageNumber}),l.jsx("div",{className:"absolute top-1 right-1 bg-blue-500 text-white text-[9px] px-1.5 py-0.5 rounded-full opacity-80 group-hover:opacity-100",children:"Editable"})]})},x.id))})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"text-xs font-medium text-gray-500 mb-2 flex items-center",children:[l.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-400 mr-1.5"}),"Contraportada"]}),h.filter(x=>x.type==="final").map((x,w)=>l.jsx("div",{className:`relative group flex flex-col cursor-pointer  transition-all duration-200 transform 
                            ${m===h.indexOf(x)?"ring-2 ring-purple-400 scale-[1.02] shadow-md":"hover:bg-gray-50 border border-transparent hover:border-gray-200"}
                            mb-2`,onClick:()=>D(h.indexOf(x)),children:l.jsxs("div",{className:"relative  overflow-hidden border mb-1 aspect-[4/3]",children:[Y[x.id]?l.jsx("img",{src:Y[x.id],alt:"Contraportada",className:"w-full h-full object-contain"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsx("div",{className:"text-green-300",children:l.jsx(Kt,{className:"h-8 w-8"})})}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-2 pt-6 group-hover:opacity-100 opacity-80 transition-opacity",children:l.jsx("span",{className:"text-[10px] text-white font-medium block",children:"Contraportada"})})]})},x.id))]})]})})]})]})]}),l.jsx(Po,{})]})}export{Th as default};
