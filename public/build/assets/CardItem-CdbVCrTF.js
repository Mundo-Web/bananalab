import{j as e}from"./AboutSimple-Cf8x2fCZ.js";import{N as d}from"./Number2Currency-e57Tgsuk.js";import{B as $}from"./book-C1IPlXSj.js";import{c as b}from"./createLucideIcon-DfjclApS.js";import{M as _}from"./minus-Db6MFKEO.js";import{P}from"./plus-CTIomuuF.js";import{T as S}from"./trash-2-DU7LB6-f.js";/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=b("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=b("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),R=({setCart:o,isModal:t=!1,...s})=>{var m,u,g,h,p,f,j;const x=()=>{o(c=>c.filter(a=>a.id!==s.id))},N=()=>{o(c=>c.map(a=>a.id===s.id?{...a,quantity:(a.quantity||1)+1}:a))},v=()=>{o(c=>c.map(a=>{if(a.id===s.id){const y=(a.quantity||1)-1;return y<=0?(x(s.id),null):{...a,quantity:y}}return a}).filter(Boolean))},n=s.price||0,l=s.final_price||s.price||0,i=n>l,k=i?Math.round((n-l)/n*100):0,r=s.quantity||1;console.log("CardItem: item",s);const w=()=>s.type==="custom_album"?`/storage/images/item_preset/${s.image}`:`/storage/images/item/${s.image}`;return console.log(s),e.jsx("div",{className:`bg-white rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200 ${t?"p-4":"p-6"}`,children:e.jsxs("div",{className:`flex ${t?"gap-3":"gap-6"}`,children:[e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("img",{src:w(),alt:s.name,className:`object-cover rounded-lg ${t?"w-16 h-16":"w-24 h-24"}`}),s.type==="custom_album"&&e.jsx("div",{className:"absolute -top-2 -right-2 bg-gradient-to-r from-orange-500 to-red-500 text-white rounded-full p-1.5 shadow-lg",children:e.jsx($,{size:t?10:14})}),i&&e.jsxs("div",{className:"absolute -top-2 -left-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full shadow-lg",children:["-",k,"%"]})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:`flex justify-between items-start ${t?"mb-2":"mb-3"}`,children:[e.jsx("h3",{className:`font-semibold text-gray-900 truncate pr-4 ${t?"text-base":"text-lg"}`,children:s.name}),s.type==="custom_album"&&e.jsxs("span",{className:`inline-flex items-center rounded-full font-medium bg-orange-100 text-orange-800 whitespace-nowrap ${t?"px-2 py-0.5 text-xs":"px-2.5 py-1 text-xs"}`,children:[e.jsx(q,{size:t?10:12,className:"mr-1"}),t?"Custom":"Personalizado"]})]}),!t&&e.jsx(e.Fragment,{children:s.type==="custom_album"?e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Páginas:"}),e.jsx("span",{className:"ml-1",children:((m=s.album_data)==null?void 0:m.pages_count)||"N/A"})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Tapa:"}),e.jsx("span",{className:"ml-1",children:((u=s.album_data)==null?void 0:u.selected_cover_type)||"Estándar"})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Acabado:"}),e.jsx("span",{className:"ml-1",children:((g=s.album_data)==null?void 0:g.selected_finish)||"Estándar"})]}),e.jsxs("div",{className:"flex items-center text-green-600",children:[e.jsx(A,{size:12,className:"mr-1"}),e.jsx("span",{className:"text-xs font-medium",children:"Diseño Único"})]})]}):e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Marca:"}),e.jsx("span",{className:"ml-1",children:((h=s.brand)==null?void 0:h.name)||"Sin marca"})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Stock:"}),e.jsx("span",{className:`ml-1 ${(s.stock||0)>=r?"text-green-600":"text-red-600"}`,children:(s.stock||0)>=r?`${s.stock} disponibles`:"Agotado"})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"SKU:"}),e.jsx("span",{className:"ml-1",children:s.sku||"N/A"})]})]})}),t&&e.jsx("div",{className:"text-xs text-gray-600",children:s.type==="custom_album"?e.jsxs("span",{children:[((p=s.album_data)==null?void 0:p.pages_count)||"N/A"," páginas • ",((f=s.album_data)==null?void 0:f.selected_cover_type)||"Estándar"]}):e.jsxs("span",{children:[((j=s.brand)==null?void 0:j.name)||"Sin marca"," • ",s.sku||"N/A"]})})]}),e.jsxs("div",{className:`flex flex-col items-end flex-shrink-0 ${t?"gap-2":"gap-4"}`,children:[e.jsxs("div",{className:"text-right",children:[i&&e.jsxs("div",{className:`text-gray-400 line-through ${t?"text-xs":"text-sm"}`,children:["S/ ",d(n*r)]}),e.jsxs("div",{className:`font-bold text-gray-900 ${t?"text-lg":"text-xl"}`,children:["S/ ",d(l*r)]}),i&&e.jsxs("div",{className:"text-green-600 font-medium text-xs",children:["Ahorras S/ ",d((n-l)*r)]})]}),e.jsxs("div",{className:`flex items-center border border-gray-200 rounded-lg overflow-hidden shadow-sm bg-white ${t?"text-sm":""}`,children:[e.jsx("button",{type:"button",onClick:v,className:`text-gray-600 hover:bg-gray-50 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-inset ${t?"p-1.5":"p-2"}`,"aria-label":"Decrease quantity",children:e.jsx(_,{size:t?14:16})}),e.jsx("div",{className:`flex justify-center items-center bg-gray-50 border-x border-gray-200 ${t?"w-10 h-7":"w-14 h-9"}`,children:e.jsx("span",{className:`font-semibold ${t?"text-xs":"text-sm"}`,children:r})}),e.jsx("button",{type:"button",onClick:N,className:`text-gray-600 hover:bg-gray-50 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-inset ${t?"p-1.5":"p-2"}`,"aria-label":"Increase quantity",children:e.jsx(P,{size:t?14:16})})]}),e.jsxs("button",{onClick:x,className:`flex items-center gap-1 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-200 font-medium ${t?"px-2 py-1 text-xs":"px-3 py-2 text-sm"}`,"aria-label":"Remove item",children:[e.jsx(S,{size:t?14:16}),t?"":"Eliminar"]})]})]})})};export{R as C};
