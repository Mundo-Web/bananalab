import{j as a}from"./AboutSimple-Cf8x2fCZ.js";import{r as n}from"./index-BOnQTV8N.js";import{I as os}from"./ItemsRest-IeUqNvPX.js";import"./ProductCard-CwyKCVe-.js";import"./main-Bp3JhiuO.js";import{C as ls}from"./HeaderSearch-DVtmJo0W.js";import{i as A}from"./tippy-react.esm-BktTnHXY.js";/* empty css              */import ts from"./ProductBananaLab-D3wQb7Me.js";import{t as W}from"./index-B-Ed_dFw.js";import{m as r}from"./proxy-DTU49k-A.js";import{C as m}from"./chevron-right-Cug7tVUE.js";import{C as ns}from"./circle-check-DW_TmQ0Z.js";import{C as cs}from"./chevron-up-Mt3xll-e.js";import{C as is}from"./chevron-down-uIVDLcM-.js";import{c as ds}from"./createLucideIcon-DfjclApS.js";import{H as P}from"./heart-DG8R4_Y8.js";import{C as R}from"./circle-check-big-CYWUGR3Z.js";import"./index-yBjzXJbu.js";import"./_commonjsHelpers-D6-XlEtG.js";import"./ModalImportItem-08p2KSos.js";import"./___vite-browser-external_commonjs-proxy-DDYoOVPM.js";import"./index-BtQtP3Fl.js";import"./index-fNjTmf9T.js";import"./index-Chjiymov.js";import"./CartItemRow-DuXzM7Ih.js";import"./Number2Currency-e57Tgsuk.js";import"./minus-Db6MFKEO.js";import"./plus-CTIomuuF.js";import"./index-DE3dzT5W.js";import"./CardProductBananaLab-DLXoiHP7.js";import"./CartModalBananaLab-ECgslFbz.js";import"./Global-BM4Id4Pw.js";import"./book-C1IPlXSj.js";import"./trash-2-DU7LB6-f.js";import"./index-BNMCJu8J.js";import"./x-fof_H3Vv.js";import"./shopping-cart-DLRnxGTD.js";import"./arrow-right-MB8dWH_Y.js";/**
 * @license lucide-react v0.445.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=ds("Brush",[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]]);function aa({item:s,data:ps,setCart:v,cart:i,favorites:u,setFavorites:j,generals:h}){var k,C,$,I,H,S,E,T,F,_,q;const x=new os,f=h==null?void 0:h.find(e=>e.correlative==="phone_whatsapp"),V=f==null?void 0:f.description,B=encodeURIComponent(`¡Hola! Tengo dudas sobre este producto: ${s.name}`),M=`https://wa.me/${V}?text=${B}`,L=()=>{window.open(M,"_blank")},[U,z]=n.useState(!1),[d,b]=n.useState({url:s==null?void 0:s.image,type:"main"}),[p,D]=n.useState(!1),[us,hs]=n.useState(1),[O,fs]=n.useState(!1),[K,Q]=n.useState([]),[y,G]=n.useState([]),[w,J]=n.useState([]);i==null||i.find(e=>e.id==(s==null?void 0:s.id)),n.useEffect(()=>{s!=null&&s.id&&(Z(s),Y(s),X(s),ss(s))},[s]);const N={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5}}},t={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}},g={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},X=async e=>{try{const o={id:e==null?void 0:e.id};if(!await x.updateViews(o))return}catch{return}},Y=async e=>{try{const o={id:e==null?void 0:e.id},l=await x.verifyCombo(o);if(!l)return;const c=l[0].associated_items;Q(Object.values(c))}catch{return}},Z=async e=>{try{const o={id:e==null?void 0:e.id},l=await x.productsRelations(o);if(!l)return;G(Object.values(l))}catch{return}},ss=async e=>{try{const o={slug:e==null?void 0:e.slug},l=await x.getVariations(o);if(!l)return;J(l.variants)}catch{return}};K.reduce((e,o)=>e+parseFloat(o.final_price),0);const as=u.some(e=>e.id===s.id),es=(e,o)=>{e.preventDefault(),e.stopPropagation();const l=structuredClone(u),c=l.findIndex(rs=>rs.id==o.id);c==-1?(l.push({...o,quantity:1}),W.success("Producto agregado",{description:`${o.name} se ha añadido a los favoritos.`,icon:a.jsx(R,{className:"h-5 w-5 text-green-500"}),duration:3e3,position:"bottom-center"})):(l.splice(c,1),W.info("Producto removido",{description:`${o.name} se ha quitado de los favoritos.`,icon:a.jsx(R,{className:"h-5 w-5 text-blue-500"}),duration:3e3,position:"bottom-center"})),j(l)};return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-sections-color py-2 text-sm",children:a.jsxs(r.div,{initial:"hidden",animate:"visible",variants:N,className:" px-primary 2xl:max-w-7xl 2xl:px-0 mx-auto text-sm font-semibold font-paragraph flex items-center customtext-neutral-dark",children:[((k=s==null?void 0:s.collection)==null?void 0:k.name)&&a.jsxs("a",{href:`/catalogo?collection=${(C=s==null?void 0:s.collection)==null?void 0:C.slug}`,className:"flex gap-2 items-center customtext-primary cursor-pointer",children:[($=s==null?void 0:s.collection)==null?void 0:$.name," ",a.jsx(m,{strokeWidth:1.5})]}),((I=s==null?void 0:s.category)==null?void 0:I.name)&&a.jsxs("a",{href:`/catalogo?category=${s==null?void 0:s.category.slug}`,className:"flex gap-2 items-center customtext-primary cursor-pointer",children:[(H=s==null?void 0:s.category)==null?void 0:H.name," ",a.jsx(m,{strokeWidth:1.5})]}),((S=s==null?void 0:s.subcategory)==null?void 0:S.name)&&a.jsxs("a",{href:`/catalogo?subcategory=${s==null?void 0:s.subcategory.slug}`,className:"flex gap-2 items-center customtext-primary cursor-pointer",children:[(E=s==null?void 0:s.subcategory)==null?void 0:E.name," ",a.jsx(m,{subcategory:1.5})]}),s==null?void 0:s.name]})}),a.jsxs(r.div,{initial:"hidden",animate:"visible",variants:N,className:" px-primary 2xl:max-w-7xl 2xl:px-0 mx-auto py-4 md:py-6 xl:py-8 bg-white font-paragraph",children:[a.jsx(r.div,{variants:t,className:"bg-white rounded-xl ",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 xl:gap-20 2xl:gap-32",children:[a.jsx("div",{className:"space-y-6",children:a.jsxs(r.div,{variants:g,className:"flex flex-col gap-6",children:[a.jsx(r.div,{variants:t,className:"flex-1",children:a.jsx(r.img,{src:d.type==="main"?`/storage/images/item/${d.url}`:`/storage/images/item/${d.url}`,onError:e=>e.target.src="/api/cover/thumbnail/null",alt:"Product main",className:"w-full object-cover aspect-square rounded-3xl",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:10}})}),a.jsxs(r.div,{variants:t,className:"flex flex-row gap-2 items-center",children:[a.jsx(r.button,{onClick:()=>b({url:s==null?void 0:s.image,type:"main"}),whileHover:{scale:1.05},whileTap:{scale:.95},className:`w-16 h-16  rounded-xl object-cover overflow-hidden ${d.url===(s==null?void 0:s.image)?"shadow-2xl w-20 h-20":"shadow"}`,children:a.jsx("img",{src:`/storage/images/item/${s==null?void 0:s.image}`,alt:"Main Thumbnail",className:"w-full h-full object-cover",onError:e=>e.target.src="/api/cover/thumbnail/null"})}),s==null?void 0:s.images.map((e,o)=>a.jsx(r.button,{onClick:()=>b({url:e.url,type:"gallery"}),whileHover:{scale:1.05},whileTap:{scale:.95},className:`w-16 h-16  rounded-xl object-cover overflow-hidden ${d.url===e.url?"shadow-2xl w-20 h-20":"shadow"}`,children:a.jsx("img",{src:`/storage/images/item/${e.url}`||"/api/cover/thumbnail/null",alt:`Thumbnail ${o+1}`,className:"w-full h-full object-cover",onError:l=>l.target.src="/api/cover/thumbnail/null"})},o))]})]})}),a.jsxs(r.div,{variants:g,className:"flex flex-col gap-2",children:[a.jsx(r.div,{variants:t,className:"font-font-general",children:a.jsx(r.h1,{className:"customtext-neutral-dark text-3xl lg:text-4xl 2xl:text-5xl font-bold mt-2",whileHover:{x:5},children:s==null?void 0:s.name})}),a.jsxs(r.div,{variants:t,className:"flex flex-wrap customtext-neutral-light items-center gap-y-2 gap-x-8 text-sm font-font-general",children:[a.jsxs("span",{className:"customtext-neutral-light text-sm 2xl:text-base",children:["SKU:"," ",a.jsx("span",{className:"customtext-neutral-dark font-bold",children:s==null?void 0:s.sku})]}),a.jsxs("span",{className:"customtext-neutral-light text-sm 2xl:text-base",children:["Disponibilidad:"," ",a.jsx("span",{className:"customtext-neutral-dark font-bold",children:(s==null?void 0:s.stock)>0?"En stock":"Agotado"})]})]}),a.jsxs(r.div,{variants:t,className:"flex flex-col w-full xl:w-1/2 !font-font-general max-w-xl mt-5",children:[a.jsxs("p",{className:"text-sm 2xl:text-base customtext-neutral-light",children:["Precio:"," ",a.jsxs("span",{className:"line-through",children:["S/ ",s==null?void 0:s.price]})]}),a.jsxs("div",{className:"flex flex-row items-center gap-4 relative",children:[a.jsxs(r.span,{className:"text-[40px] font-bold customtext-neutral-dark",whileHover:{scale:1.05},children:["S/ ",s==null?void 0:s.final_price]}),a.jsxs(r.span,{className:"bg-[#F93232] text-white font-bold px-3 py-2 rounded-xl text-base",whileHover:{scale:1.1},whileTap:{scale:.9},children:["-",Number(s==null?void 0:s.discount_percent).toFixed(1),"%"]})]})]}),a.jsx("div",{className:"block  flex-1 w-full ",children:a.jsxs("div",{className:"bg-sections-color rounded-lg p-6",children:[a.jsx("ul",{className:`space-y-2  customtext-neutral-light mb-4 transition-all duration-300 ${p?"max-h-full":"max-h-24 overflow-hidden"}`,style:{listStyleType:"disc"},children:s==null?void 0:s.specifications.map((e,o)=>e.type==="principal"&&a.jsxs("li",{className:"flex gap-2",children:[a.jsx(ns,{className:"customtext-primary"}),a.jsxs("span",{className:"font-semibold",children:[e.title," :"]}),e.description]},o))}),a.jsxs("button",{className:"customtext-primary text-sm font-semibold hover:underline flex items-center gap-1 transition-all duration-300",onClick:()=>D(!p),children:[p?"Ver menos":"Ver más especificaciones",p?a.jsx(cs,{className:"w-4 h-4"}):a.jsx(is,{className:"w-4 h-4"})]})]})}),a.jsxs(r.div,{variants:t,className:"variants-selector flex flex-col gap-3",children:[a.jsx("h3",{className:"w-full block opacity-85 customtext-neutral-dark text-sm 2xl:text-base",children:"Colores"}),a.jsxs("div",{className:"flex gap-3 items-center justify-start w-full flex-wrap",children:[a.jsx(A,{content:s.color,children:a.jsx(r.a,{whileHover:{scale:1.1},whileTap:{scale:.9},className:`variant-option rounded-full object-fit-cover ${w.some(e=>e.slug===s.slug)?"":"active p-[2px] border-2 border-primary"}`,children:a.jsx("img",{className:"color-box rounded-full h-9 w-9 object-cover",src:`/storage/images/item/${s.texture}`,onError:e=>e.target.src="/api/cover/thumbnail/null"})})}),w.map(e=>a.jsx(A,{content:e.color,children:a.jsx(r.a,{href:`/product/${e.slug}`,className:"variant-option rounded-full object-fit-cover",whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx("img",{className:"color-box rounded-full h-9 w-9 object-fit-cover",src:`/storage/images/item/${e.texture}`})})},e.slug))]})]}),a.jsxs(r.div,{variants:t,className:"flex flex-col mt-4",children:[a.jsxs(r.a,{href:`/canva1?item=${s==null?void 0:s.id}`,className:"w-full flex gap-4 items-center justify-center font-paragraph text-base 2xl:text-lg bg-primary text-white py-3 font-semibold rounded-3xl hover:opacity-90 transition-all duration-300 mt-3",whileHover:{scale:1.02},whileTap:{scale:.98},children:["Crea y edita tu regalo",a.jsx(xs,{width:20})]}),a.jsxs(r.button,{onClick:e=>es(e,s),className:"w-full flex gap-4 items-center fill-primary justify-center font-paragraph text-base 2xl:text-lg bg-white border-2 border-primary customtext-primary py-3 font-semibold rounded-3xl hover:opacity-90 transition-all duration-300 mt-3",whileHover:{scale:1.02},whileTap:{scale:.98},children:["Lista de deseos",as?a.jsx(P,{width:18,strokeWidth:3,fill:"current"}):a.jsx(P,{width:18,strokeWidth:1.5})]})]}),a.jsx(r.div,{variants:t,className:"w-full mt-5",children:a.jsxs(r.div,{className:"bg-[#F7F9FB] flex flex-row rounded-xl p-5 gap-3",whileHover:{y:-2},children:[a.jsx("img",{src:"/assets/img/salafabulosa/whatsapp.png",onError:e=>e.target.src="assets/img/noimage/no_imagen_circular.png",className:"w-12 h-12 object-contain",loading:"lazy"}),a.jsx("div",{className:"customtext-neutral-dark cursor-pointer font-font-general text-base 2xl:text-xl font-semibold",children:a.jsxs("p",{children:["¿Tienes dudas sobre este producto? Haz"," ",a.jsx("a",{className:"underline",onClick:L,children:"clic aquí"})," ","y chatea con nosotros por WhatsApp"]})})]})})]})]})}),a.jsxs(r.div,{variants:t,className:"grid gap-10 lg:gap-20 md:grid-cols-2 bg-white rounded-xl py-8 font-font-general",children:[((T=s==null?void 0:s.specifications)==null?void 0:T.length)>0&&a.jsxs(r.div,{variants:t,children:[a.jsx("h2",{className:"text-2xl font-bold customtext-neutral-dark mb-4 border-b pb-3",children:"Especificaciones"}),a.jsx("div",{className:"space-y-1",children:s.specifications.map((e,o)=>e.type==="general"&&a.jsxs(r.div,{className:`grid grid-cols-2 gap-4 p-4 ${o%2===0?"bg-sections-color":"bg-white"}`,whileHover:{x:5},children:[a.jsx("div",{className:"customtext-neutral-light opacity-85",children:e.title}),a.jsx("div",{className:"customtext-neutral-dark",children:e.description})]},o))})]}),a.jsxs(r.div,{variants:t,className:"font-font-general",children:[((F=s==null?void 0:s.description)==null?void 0:F.replace(/<[^>]+>/g,""))&&a.jsx("h2",{className:"text-2xl font-bold customtext-neutral-dark mb-4 border-b pb-3",children:"Información adicional"}),a.jsxs(r.div,{className:`space-y-2 ${O?"":"max-h-[400px] overflow-hidden"}`,children:[((_=s==null?void 0:s.description)==null?void 0:_.replace(/<[^>]+>/g,""))&&a.jsxs(a.Fragment,{children:[a.jsx("h3",{className:"text-xl font-semibold customtext-neutral-dark mb-4",children:"Acerca de este artículo"}),a.jsx(r.div,{className:"customtext-neutral-dark",dangerouslySetInnerHTML:{__html:s==null?void 0:s.description},initial:{opacity:0},animate:{opacity:1},transition:{duration:.5}})]}),((q=s==null?void 0:s.features)==null?void 0:q.length)>0&&a.jsx(r.div,{className:"pl-10",variants:g,children:a.jsx("ul",{className:"list-disc pl-5 space-y-2",children:s==null?void 0:s.features.map((e,o)=>a.jsx(r.li,{className:"customtext-neutral-dark",variants:t,children:e.feature},o))})})]})]})]}),a.jsx(ls,{cart:i,setCart:v,modalOpen:U,setModalOpen:z})]}),y.length>0&&a.jsx(r.div,{className:"my-10",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},children:a.jsx(ts,{data:{title:"Productos relacionados",link_catalog:"/catalogo"},items:y,cart:i,setCart:v,favorites:u,setFavorites:j})})]})}export{aa as default};
